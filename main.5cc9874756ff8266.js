(self.webpackChunkajitkbaral_portfolio_website=self.webpackChunkajitkbaral_portfolio_website||[]).push([[179],{2011:(dt,xe,R)=>{"use strict";R.d(xe,{Dh:()=>pe,GT:()=>Ee,Ot:()=>ue,cc:()=>Ae,hO:()=>Pe,on:()=>z,pX:()=>ge,xv:()=>_e});var l=R(4650),B=R(127),P=R(880);dt=R.hmd(dt);const ne=["ngOnDestroy"],ge=(ce,st,Ye,Fe={})=>new Proxy(ce,{get:(Oe,De)=>Ye.runOutsideAngular(()=>{var We;if(ce[De])return!(null===(We=Fe?.spy)||void 0===We)&&We.get&&Fe.spy.get(De,ce[De]),ce[De];if(ne.indexOf(De)>-1)return()=>{};const te=st.toPromise().then(le=>{const Ie=le&&le[De];return"function"==typeof Ie?Ie.bind(le):Ie&&Ie.then?Ie.then(J=>Ye.run(()=>J)):Ye.run(()=>Ie)});return new Proxy(()=>{},{get:(le,Ie)=>te[Ie],apply:(le,Ie,J)=>te.then(X=>{var he;const se=X&&X(...J);return!(null===(he=Fe?.spy)||void 0===he)&&he.apply&&Fe.spy.apply(De,J,se),se})})})}),Ee=(ce,st)=>{st.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Fe=>{Object.defineProperty(ce.prototype,Fe,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Fe))})})};class ue{constructor(st){return st}}const pe=new l.OlP("angularfire2.app.options"),_e=new l.OlP("angularfire2.app.name");function z(ce,st,Ye){const Oe="object"==typeof Ye&&Ye||{};Oe.name=Oe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const We=B.Z.apps.filter(te=>te&&te.name===Oe.name)[0]||st.runOutsideAngular(()=>B.Z.initializeApp(ce,Oe));try{JSON.stringify(ce)!==JSON.stringify(We.options)&&G("error",`${We.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(We)}const G=(ce,...st)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ce](...st)},Q={provide:ue,useFactory:z,deps:[pe,l.R0b,[new l.FiY,_e]]};let Pe=(()=>{class ce{constructor(Ye){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",l.q4F.full,Ye.toString())}static initializeApp(Ye,Fe){return{ngModule:ce,providers:[{provide:pe,useValue:Ye},{provide:_e,useValue:Fe}]}}}return ce.\u0275fac=function(Ye){return new(Ye||ce)(l.LFG(l.Lbi))},ce.\u0275mod=l.oAB({type:ce}),ce.\u0275inj=l.cJS({providers:[Q]}),ce})();function Ae(ce,st,Ye,Fe,Oe){const[,De,We]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===ce)||[];if(De)return function Se(ce,st){try{return ce.toString()===st.toString()}catch{return ce===st}}(Oe,We)||(we("error",`${st} was already initialized on the ${Ye} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Oe,was:We})),De;{const te=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ce,te,Oe]),te}}const Je=!!dt.hot,we=(ce,...st)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ce](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(dt,xe,R)=>{"use strict";R.d(xe,{q4:()=>qs,iC:()=>gi,HU:()=>Ao,vb:()=>ad,JM:()=>Al,nk:()=>$n,u3:()=>$t});var l=R(4650),B=R(5867),P=R(5861),ne=R(9681),ge=R(2090),Ee=R(4859),ue=R(1877);R(2833);const _e="@firebase/remote-config",z="0.3.12",Ae=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pt{constructor(k,K,fe,Ue){this.client=k,this.storage=K,this.storageCache=fe,this.logger=Ue}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-K,Ue=fe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ue}.`),Ue}fetch(k){var K=this;return(0,P.Z)(function*(){const[fe,Ue]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Ue&&K.isCachedDataFresh(k.cacheMaxAgeMillis,fe))return Ue;k.eTag=Ue&&Ue.eTag;const Qe=yield K.client.fetch(k),Et=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&Et.push(K.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(Et),Qe})()}}function Xt(F=navigator){return F.languages&&F.languages[0]||F.language}class Ot{constructor(k,K,fe,Ue,Qe,Et){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=fe,this.projectId=Ue,this.apiKey=Qe,this.appId=Et}fetch(k){var K=this;return(0,P.Z)(function*(){var fe,Ue,Qe;const[Et,Qt]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Vt={sdk_version:K.sdkVersion,app_instance_id:Et,app_instance_id_token:Qt,app_id:K.appId,language_code:Xt()},kn={method:"POST",headers:Hn,body:JSON.stringify(Vt)},Cs=fetch(Pt,kn),As=new Promise((Zs,mi)=>{k.signal.addEventListener(()=>{const Qn=new Error("The operation was aborted.");Qn.name="AbortError",mi(Qn)})});let Ar;try{yield Promise.race([Cs,As]),Ar=yield Cs}catch(Zs){let mi="fetch-client-network";throw"AbortError"===(null===(fe=Zs)||void 0===fe?void 0:fe.name)&&(mi="fetch-timeout"),Ae.create(mi,{originalErrorMessage:null===(Ue=Zs)||void 0===Ue?void 0:Ue.message})}let as=Ar.status;const pa=Ar.headers.get("ETag")||void 0;let au,Ss;if(200===Ar.status){let Zs;try{Zs=yield Ar.json()}catch(mi){throw Ae.create("fetch-client-parse",{originalErrorMessage:null===(Qe=mi)||void 0===Qe?void 0:Qe.message})}au=Zs.entries,Ss=Zs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ss?as=500:"NO_CHANGE"===Ss?as=304:("NO_TEMPLATE"===Ss||"EMPTY_CONFIG"===Ss)&&(au={}),304!==as&&200!==as)throw Ae.create("fetch-status",{httpStatus:as});return{status:as,eTag:pa,config:au}})()}}class Bn{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,P.Z)(function*(){const fe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,fe)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:fe}){var Ue=this;return(0,P.Z)(function*(){yield function Ze(F,k){return new Promise((K,fe)=>{const Ue=Math.max(k-Date.now(),0),Qe=setTimeout(K,Ue);F.addEventListener(()=>{clearTimeout(Qe),fe(Ae.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const Qe=yield Ue.client.fetch(k);return yield Ue.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function rn(F){if(!(F instanceof ge.ZR&&F.customData))return!1;const k=Number(F.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Qe))throw Qe;const Et={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield Ue.storage.setThrottleMetadata(Et),Ue.attemptFetch(k,Et)}})()}}class jt{constructor(k,K,fe,Ue,Qe){this.app=k,this._client=K,this._storageCache=fe,this._storage=Ue,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ct(F,k){var K;const fe=F.target.error||void 0;return Ae.create(k,{originalErrorMessage:fe&&(null===(K=fe)||void 0===K?void 0:K.message)})}const hn="app_namespace_store";class Wn{constructor(k,K,fe,Ue=function Pn(){return new Promise((F,k)=>{var K;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Ue=>{k(Ct(Ue,"storage-open"))},fe.onsuccess=Ue=>{F(Ue.target.result)},fe.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(hn,{keyPath:"compositeKey"})}}catch(fe){k(Ae.create("storage-open",{originalErrorMessage:null===(K=fe)||void 0===K?void 0:K.message}))}})}()){this.appId=k,this.appName=K,this.namespace=fe,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,P.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((Ue,Qe)=>{var Et;const Te=fe.transaction([hn],"readonly").objectStore(hn),Pt=K.createCompositeKey(k);try{const Hn=Te.get(Pt);Hn.onerror=Vt=>{Qe(Ct(Vt,"storage-get"))},Hn.onsuccess=Vt=>{const kn=Vt.target.result;Ue(kn?kn.value:void 0)}}catch(Hn){Qe(Ae.create("storage-get",{originalErrorMessage:null===(Et=Hn)||void 0===Et?void 0:Et.message}))}})})()}set(k,K){var fe=this;return(0,P.Z)(function*(){const Ue=yield fe.openDbPromise;return new Promise((Qe,Et)=>{var Qt;const Pt=Ue.transaction([hn],"readwrite").objectStore(hn),Hn=fe.createCompositeKey(k);try{const Vt=Pt.put({compositeKey:Hn,value:K});Vt.onerror=kn=>{Et(Ct(kn,"storage-set"))},Vt.onsuccess=()=>{Qe()}}catch(Vt){Et(Ae.create("storage-set",{originalErrorMessage:null===(Qt=Vt)||void 0===Qt?void 0:Qt.message}))}})})()}delete(k){var K=this;return(0,P.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((Ue,Qe)=>{var Et;const Te=fe.transaction([hn],"readwrite").objectStore(hn),Pt=K.createCompositeKey(k);try{const Hn=Te.delete(Pt);Hn.onerror=Vt=>{Qe(Ct(Vt,"storage-delete"))},Hn.onsuccess=()=>{Ue()}}catch(Hn){Qe(Ae.create("storage-delete",{originalErrorMessage:null===(Et=Hn)||void 0===Et?void 0:Et.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class br{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,P.Z)(function*(){const K=k.storage.getLastFetchStatus(),fe=k.storage.getLastSuccessfulFetchTimestampMillis(),Ue=k.storage.getActiveConfig(),Qe=yield K;Qe&&(k.lastFetchStatus=Qe);const Et=yield fe;Et&&(k.lastSuccessfulFetchTimestampMillis=Et);const Qt=yield Ue;Qt&&(k.activeConfig=Qt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Dr(){return et.apply(this,arguments)}function et(){return(et=(0,P.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Gn(){(0,ne._registerComponent)(new Ee.wA("remote-config",function F(k,{instanceIdentifier:K}){const fe=k.getProvider("app").getImmediate(),Ue=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");if(!(0,ge.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:Qe,apiKey:Et,appId:Qt}=fe.options;if(!Qe)throw Ae.create("registration-project-id");if(!Et)throw Ae.create("registration-api-key");if(!Qt)throw Ae.create("registration-app-id");const Te=new Wn(Qt,fe.name,K=K||"firebase"),Pt=new br(Te),Hn=new ue.Yd(_e);Hn.logLevel=ue.in.ERROR;const Vt=new Ot(Ue,ne.SDK_VERSION,K,Qe,Et,Qt),kn=new Bn(Vt,Te),Cs=new pt(kn,Te,Pt,Hn),As=new jt(fe,Cs,Pt,Te,Hn);return function We(F){const k=(0,ge.m9)(F);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(As),As},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(_e,z),(0,ne.registerVersion)(_e,z,"esm2017")}();var vn=R(8766);const On="/firebase-messaging-sw.js",dn="/firebase-cloud-messaging-push-scope",Kn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pn="google.c.a.c_id",In="google.c.a.c_l",on="google.c.a.ts",ct="google.c.a.e";var yt=(()=>{return(F=yt||(yt={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",yt;var F})();function fn(F){const k=new Uint8Array(F);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function or(F){const K=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(K),Ue=new Uint8Array(fe.length);for(let Qe=0;Qe<fe.length;++Qe)Ue[Qe]=fe.charCodeAt(Qe);return Ue}const Yn="fcm_token_details_db",ar="fcm_token_object_Store";function Rt(F){return ur.apply(this,arguments)}function ur(){return ur=(0,P.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(Yn))return null;let k=null;return(yield(0,vn.X3)(Yn,5,{upgrade:(fe=(0,P.Z)(function*(Ue,Qe,Et,Qt){var Te;if(Qe<2||!Ue.objectStoreNames.contains(ar))return;const Pt=Qt.objectStore(ar),Hn=yield Pt.index("fcmSenderId").get(F);if(yield Pt.clear(),Hn)if(2===Qe){const Vt=Hn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;k={token:Vt.fcmToken,createTime:null!==(Te=Vt.createTime)&&void 0!==Te?Te:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:fn(Vt.vapidKey)}}}else if(3===Qe){const Vt=Hn;k={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:fn(Vt.auth),p256dh:fn(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:fn(Vt.vapidKey)}}}else if(4===Qe){const Vt=Hn;k={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:fn(Vt.auth),p256dh:fn(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:fn(Vt.vapidKey)}}}}),function(Qe,Et,Qt,Te){return fe.apply(this,arguments)})})).close(),yield(0,vn.Lj)(Yn),yield(0,vn.Lj)("fcm_vapid_details_db"),yield(0,vn.Lj)("undefined"),Gt(k)?k:null;var fe}),ur.apply(this,arguments)}function Gt(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:k}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Xe="firebase-messaging-store";let Ne=null;function rt(){return Ne||(Ne=(0,vn.X3)("firebase-messaging-database",1,{upgrade:(F,k)=>{0===k&&F.createObjectStore(Xe)}})),Ne}function gt(F){return bt.apply(this,arguments)}function bt(){return(bt=(0,P.Z)(function*(F){const k=S(F),fe=yield(yield rt()).transaction(Xe).objectStore(Xe).get(k);if(fe)return fe;{const Ue=yield Rt(F.appConfig.senderId);if(Ue)return yield $(F,Ue),Ue}})).apply(this,arguments)}function $(F,k){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*(F,k){const K=S(F),Ue=(yield rt()).transaction(Xe,"readwrite");return yield Ue.objectStore(Xe).put(k,K),yield Ue.done,k})).apply(this,arguments)}function Y(F){return U.apply(this,arguments)}function U(){return(U=(0,P.Z)(function*(F){const k=S(F),fe=(yield rt()).transaction(Xe,"readwrite");yield fe.objectStore(Xe).delete(k),yield fe.done})).apply(this,arguments)}function S({appConfig:F}){return F.appId}const N=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Z(F,k){return ye.apply(this,arguments)}function ye(){return(ye=(0,P.Z)(function*(F,k){var K;const fe=yield tn(F),Ue=zt(k),Qe={method:"POST",headers:fe,body:JSON.stringify(Ue)};let Et;try{Et=yield(yield fetch(_t(F.appConfig),Qe)).json()}catch(Qt){throw N.create("token-subscribe-failed",{errorInfo:null===(K=Qt)||void 0===K?void 0:K.toString()})}if(Et.error)throw N.create("token-subscribe-failed",{errorInfo:Et.error.message});if(!Et.token)throw N.create("token-subscribe-no-token");return Et.token})).apply(this,arguments)}function ke(F,k){return ze.apply(this,arguments)}function ze(){return(ze=(0,P.Z)(function*(F,k){var K;const fe=yield tn(F),Ue=zt(k.subscriptionOptions),Qe={method:"PATCH",headers:fe,body:JSON.stringify(Ue)};let Et;try{Et=yield(yield fetch(`${_t(F.appConfig)}/${k.token}`,Qe)).json()}catch(Qt){throw N.create("token-update-failed",{errorInfo:null===(K=Qt)||void 0===K?void 0:K.toString()})}if(Et.error)throw N.create("token-update-failed",{errorInfo:Et.error.message});if(!Et.token)throw N.create("token-update-no-token");return Et.token})).apply(this,arguments)}function ae(F,k){return je.apply(this,arguments)}function je(){return(je=(0,P.Z)(function*(F,k){var K;const Ue={method:"DELETE",headers:yield tn(F)};try{const Et=yield(yield fetch(`${_t(F.appConfig)}/${k}`,Ue)).json();if(Et.error)throw N.create("token-unsubscribe-failed",{errorInfo:Et.error.message})}catch(Qe){throw N.create("token-unsubscribe-failed",{errorInfo:null===(K=Qe)||void 0===K?void 0:K.toString()})}})).apply(this,arguments)}function _t({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function tn(F){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*({appConfig:F,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function zt({p256dh:F,auth:k,endpoint:K,vapidKey:fe}){const Ue={web:{endpoint:K,auth:k,p256dh:F}};return fe!==Kn&&(Ue.web.applicationPubKey=fe),Ue}const Zr=6048e5;function Cn(F){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(F){const k=yield Kt(F.swRegistration,F.vapidKey),K={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:k.endpoint,auth:fn(k.getKey("auth")),p256dh:fn(k.getKey("p256dh"))},fe=yield gt(F.firebaseDependencies);if(fe){if(Nn(fe.subscriptionOptions,K))return Date.now()>=fe.createTime+Zr?ee(F,{token:fe.token,createTime:Date.now(),subscriptionOptions:K}):fe.token;try{yield ae(F.firebaseDependencies,fe.token)}catch(Ue){console.warn(Ue)}return He(F.firebaseDependencies,K)}return He(F.firebaseDependencies,K)})).apply(this,arguments)}function ts(F){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(F){const k=yield gt(F.firebaseDependencies);k&&(yield ae(F.firebaseDependencies,k.token),yield Y(F.firebaseDependencies));const K=yield F.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function ee(F,k){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(F,k){try{const K=yield ke(F.firebaseDependencies,k),fe=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield $(F.firebaseDependencies,fe),K}catch(K){throw yield ts(F),K}})).apply(this,arguments)}function He(F,k){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*(F,k){const fe={token:yield Z(F,k),createTime:Date.now(),subscriptionOptions:k};return yield $(F,fe),fe.token})).apply(this,arguments)}function Kt(F,k){return un.apply(this,arguments)}function un(){return(un=(0,P.Z)(function*(F,k){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or(k)})})).apply(this,arguments)}function Nn(F,k){return k.vapidKey===F.vapidKey&&k.endpoint===F.endpoint&&k.auth===F.auth&&k.p256dh===F.p256dh}function An(F){const k={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function xr(F,k){if(!k.notification)return;F.notification={};const K=k.notification.title;K&&(F.notification.title=K);const fe=k.notification.body;fe&&(F.notification.body=fe);const Ue=k.notification.image;Ue&&(F.notification.image=Ue)}(k,F),function Nr(F,k){!k.data||(F.data=k.data)}(k,F),function gn(F,k){var K,fe,Ue,Qe,Et;if(!(k.fcmOptions||null!==(K=k.notification)&&void 0!==K&&K.click_action))return;F.fcmOptions={};const Qt=null!==(Ue=null===(fe=k.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ue?Ue:null===(Qe=k.notification)||void 0===Qe?void 0:Qe.click_action;Qt&&(F.fcmOptions.link=Qt);const Te=null===(Et=k.fcmOptions)||void 0===Et?void 0:Et.analytics_label;Te&&(F.fcmOptions.analyticsLabel=Te)}(k,F),k}function rd(F){return"object"==typeof F&&!!F&&pn in F}function Io(F,k){const K=[];for(let fe=0;fe<F.length;fe++)K.push(F.charAt(fe)),fe<k.length&&K.push(k.charAt(fe));return K.join("")}function ws(F){return N.create("missing-app-config-values",{valueName:F})}Io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ns{constructor(k,K,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function bo(F){if(!F||!F.options)throw ws("App Configuration Object");if(!F.name)throw ws("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=F;for(const fe of k)if(!K[fe])throw ws(fe);return{appName:F.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ue,installations:K,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function rs(F){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,P.Z)(function*(F){var k;try{F.swRegistration=yield navigator.serviceWorker.register(On,{scope:dn}),F.swRegistration.update().catch(()=>{})}catch(K){throw N.create("failed-service-worker-registration",{browserErrorMessage:null===(k=K)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function zn(F,k){return tu.apply(this,arguments)}function tu(){return(tu=(0,P.Z)(function*(F,k){if(!k&&!F.swRegistration&&(yield rs(F)),k||!F.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw N.create("invalid-sw-registration");F.swRegistration=k}})).apply(this,arguments)}function gr(F,k){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(F,k){k?F.vapidKey=k:F.vapidKey||(F.vapidKey=Kn)})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(F,k){if(!navigator)throw N.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N.create("permission-blocked");return yield gr(F,k?.vapidKey),yield zn(F,k?.serviceWorkerRegistration),Cn(F)})).apply(this,arguments)}function Gs(F,k,K){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(F,k,K){const fe=ua(k);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:K[pn],message_name:K[In],message_time:K[on],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ua(F){switch(F){case yt.NOTIFICATION_CLICKED:return"notification_open";case yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(){return(Do=(0,P.Z)(function*(F,k){const K=k.data;if(!K.isFirebaseMessaging)return;F.onMessageHandler&&K.messageType===yt.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(An(K)):F.onMessageHandler.next(An(K)));const fe=K.data;rd(fe)&&"1"===fe[ct]&&(yield Gs(F,K.messageType,fe))})).apply(this,arguments)}const zs="@firebase/messaging",ni=F=>{const k=new ns(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Bf(F,k){return Do.apply(this,arguments)}(k,K)),k},jf=F=>{const k=F.getProvider("messaging").getImmediate();return{getToken:fe=>function is(F,k){return Hs.apply(this,arguments)}(k,fe)}};function id(){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oi(){(0,ne._registerComponent)(new Ee.wA("messaging",ni,"PUBLIC")),(0,ne._registerComponent)(new Ee.wA("messaging-internal",jf,"PRIVATE")),(0,ne.registerVersion)(zs,"0.9.17"),(0,ne.registerVersion)(zs,"0.9.17","esm2017")}();var Tl=R(7982),nu=R(4408),Sm=R(7565);const Cr=new class Cl extends Sm.v{}(class da extends nu.o{constructor(k,K){super(k,K),this.scheduler=k,this.work=K}schedule(k,K=0){return K>0?super.schedule(k,K):(this.delay=K,this.state=k,this.scheduler.flush(this),this)}execute(k,K){return K>0||this.closed?super.execute(k,K):this._execute(k,K)}requestAsyncId(k,K,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(k,K,fe):(k.flush(this),0)}});var Is=R(4986),ru=R(9751),iu=R(8505),ha=R(9468),su=R(5363);const qs=new l.GfV("7.4.1"),fa="__angularfire_symbol__analyticsIsSupportedValue",ki="__angularfire_symbol__analyticsIsSupported",ou="__angularfire_symbol__remoteConfigIsSupportedValue",Pr="__angularfire_symbol__remoteConfigIsSupported",bs="__angularfire_symbol__messagingIsSupportedValue",Br="__angularfire_symbol__messagingIsSupported";globalThis[ki]||(globalThis[ki]=(0,Tl.Gb)().then(F=>globalThis[fa]=F).catch(()=>globalThis[fa]=!1)),globalThis[Br]||(globalThis[Br]=id().then(F=>globalThis[bs]=F).catch(()=>globalThis[bs]=!1)),globalThis[Pr]||(globalThis[Pr]=Dr().then(F=>globalThis[ou]=F).catch(()=>globalThis[ou]=!1));const $n={async:()=>globalThis[ki],sync:()=>{const F=globalThis[fa];if(void 0===F)throw new Error((F=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${F} in the constructor, first ensure that ${F} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${F})\`.`)("Analytics"));return F}};function Al(F,k,K){if(k){if(1===k.length)return k[0];const Qe=k.filter(Et=>Et.app===K);if(1===Qe.length)return Qe[0]}return K.container.getProvider(F).getImmediate({optional:!0})}const ad=(F,k)=>{const K=k?[k]:(0,B.C6)(),fe=[];return K.forEach(Ue=>{Ue.container.getProvider(F).instances.forEach(Et=>{fe.includes(Et)||fe.push(Et)})}),fe};function Ti(){}class Or{constructor(k,K=Cr){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,fe){const Ue=this.zone;return this.delegate.schedule(function(Et){Ue.runGuarded(()=>{k.apply(this,[Et])})},K,fe)}}class Sl{constructor(k){this.zone=k,this.task=null}call(k,K){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ti,{},Ti,Ti)),K.pipe((0,iu.b)({next:fe,complete:fe,error:fe})).subscribe(k).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class F{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Or(Zone.current)),this.insideAngular=K.run(()=>new Or(Zone.current,Is.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(K){return new(K||F)(l.LFG(l.R0b))},F.\u0275prov=l.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function jr(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function mn(F){return jr().ngZone.runOutsideAngular(()=>F())}function Ds(F){return jr().ngZone.run(()=>F())}function gi(F){return jr(),function So(F){return function(K){return(K=K.lift(new Sl(F.ngZone))).pipe((0,ha.R)(F.outsideAngular),(0,su.Q)(F.insideAngular))}}(jr())(F)}const Mo=(F,k)=>function(){const fe=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),Ds(()=>F.apply(void 0,fe))},$t=(F,k)=>function(){let K;const fe=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof fe[Qe]&&(k&&(K||(K=Ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ti,{},Ti,Ti)))),fe[Qe]=Mo(fe[Qe],K));const Ue=mn(()=>F.apply(this,fe));if(!k){if(Ue instanceof ru.y){const Qe=jr();return Ue.pipe((0,ha.R)(Qe.outsideAngular),(0,su.Q)(Qe.insideAngular))}return Ds(()=>Ue)}return Ue instanceof ru.y?Ue.pipe(gi):Ue instanceof Promise?Ds(()=>new Promise((Qe,Et)=>Ue.then(Qt=>Ds(()=>Qe(Qt)),Qt=>Ds(()=>Et(Qt))))):"function"==typeof Ue&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),Ue.apply(this,arguments)}:Ds(()=>Ue)}},1704:(dt,xe,R)=>{"use strict";R.d(xe,{$:()=>Qe,A:()=>G,B:()=>Ae,G:()=>be,H:()=>Nn,J:()=>Oi,L:()=>j,M:()=>Cl,N:()=>ru,P:()=>Ft,Q:()=>iu,R:()=>Wm,T:()=>ha,U:()=>Is,V:()=>ki,W:()=>ou,X:()=>Mm,Y:()=>So,Z:()=>$t,_:()=>k,a:()=>Ks,a0:()=>Hn,a1:()=>kn,a2:()=>As,a3:()=>as,a4:()=>au,a5:()=>Zs,a6:()=>Qn,a7:()=>us,a8:()=>lu,a9:()=>Ws,aA:()=>ba,aB:()=>wa,aC:()=>Gl,aD:()=>op,aE:()=>vt,aI:()=>ma,aL:()=>qs,aa:()=>M0,ab:()=>ud,ac:()=>cd,af:()=>Rm,ag:()=>Pm,ah:()=>Wf,ak:()=>Ti,al:()=>Vm,an:()=>Um,ao:()=>_d,ap:()=>_t,aq:()=>Ie,ar:()=>je,as:()=>ke,at:()=>Ye,au:()=>ro,av:()=>to,aw:()=>Fe,ax:()=>te,ay:()=>X,az:()=>Y,b:()=>Ro,c:()=>Ym,d:()=>Jm,e:()=>Qm,f:()=>ap,g:()=>up,h:()=>Tu,i:()=>Ul,j:()=>ql,k:()=>Fd,l:()=>Km,m:()=>hs,o:()=>pe,r:()=>Ns,s:()=>Wr,u:()=>Vo,v:()=>du});var l=R(5861),B=R(2090),P=R(9681),ne=R(1877),ge=R(655),Ee=R(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new ne.Yd("@firebase/auth");function st(v,...g){ce.logLevel<=ne.in.ERROR&&ce.error(`Auth (${P.SDK_VERSION}): ${v}`,...g)}function Ye(v,...g){throw We(v,...g)}function Fe(v,...g){return We(v,...g)}function Oe(v,g,m){const I=Object.assign(Object.assign({},Se()),{[g]:m});return new B.LL("auth","Firebase",I).create(g,{appName:v.name})}function De(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ye(v,"argument-error"),Oe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...g){if("string"!=typeof v){const m=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return Je.create(v,...g)}function te(v,g,...m){if(!v)throw We(g,...m)}function le(v){const g="INTERNAL ASSERTION FAILED: "+v;throw st(g),new Error(g)}function Ie(v,g){v||le(g)}const J=new Map;function X(v){Ie(v instanceof Function,"Expected a class definition");let g=J.get(v);return g?(Ie(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,J.set(v,g),g)}function $e(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ve(){return"http:"===pt()||"https:"===pt()}function pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ze{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ie(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(v,g){Ie(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Bn{static initialize(g,m,I){this.fetchImpl=g,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new Ze(3e4,6e4);function jt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Ct(v,g,m,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(v,g,m,I,A={}){return pi(v,A,(0,l.Z)(function*(){let O={},re={};I&&("GET"===g?re=I:O={body:JSON.stringify(I)});const Re=(0,B.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),ot=yield v._getAdditionalHeaders();return ot["Content-Type"]="application/json",v.languageCode&&(ot["X-Firebase-Locale"]=v.languageCode),Bn.fetch()(br(v,v.config.apiHost,m,Re),Object.assign({method:g,headers:ot,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function pi(v,g,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(v,g,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},cn),g);try{const A=new Gn(v),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const re=yield O.json();if("needConfirmation"in re)throw Vn(v,"account-exists-with-different-credential",re);if(O.ok&&!("errorMessage"in re))return re;{const Re=O.ok?re.errorMessage:re.error.message,[ot,xt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw Vn(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===ot)throw Vn(v,"email-already-in-use",re);if("USER_DISABLED"===ot)throw Vn(v,"user-disabled",re);const nn=I[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Oe(v,nn,xt);Ye(v,nn)}}catch(A){if(A instanceof B.ZR)throw A;Ye(v,"network-request-failed")}})).apply(this,arguments)}function Pn(v,g,m,I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(v,g,m,I,A={}){const O=yield Ct(v,g,m,I,A);return"mfaPendingCredential"in O&&Ye(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function br(v,g,m,I){const A=`${g}${m}?${I}`;return v.config.emulator?rn(v.config,A):`${v.config.apiScheme}://${A}`}class Gn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Fe(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(v,g,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const A=Fe(v,g,I);return A.customData._tokenResponse=m,A}function Dr(){return(Dr=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function et(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function On(v,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Kn(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function In(){return(In=(0,l.Z)(function*(v,g=!1){const m=(0,B.m9)(v),I=yield m.getIdToken(g),A=ct(I);te(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,re=O?.sign_in_provider;return{claims:A,token:I,authTime:Kn(on(A.auth_time)),issuedAtTime:Kn(on(A.iat)),expirationTime:Kn(on(A.exp)),signInProvider:re||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function on(v){return 1e3*Number(v)}function ct(v){var g;const[m,I,A]=v.split(".");if(void 0===m||void 0===I||void 0===A)return st("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,B.tV)(I);return O?JSON.parse(O):(st("Failed to decode base64 JWT payload"),null)}catch(O){return st("Caught error parsing JWT payload as JSON",null===(g=O)||void 0===g?void 0:g.toString()),null}}function yt(v,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(I){throw I instanceof B.ZR&&or(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}function or({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Yn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),I)}iteration(){var g=this;return(0,l.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(m=I)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class At{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(v){var g;const m=v.auth,I=yield v.getIdToken(),A=yield yt(v,On(m,{idToken:I}));te(A?.users.length,m,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const re=null!==(g=O.providerUserInfo)&&void 0!==g&&g.length?Tn(O.providerUserInfo):[],Re=jn(v.providerData,re),nn=!!v.isAnonymous&&!(v.email&&O.passwordHash||Re?.length),Fn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Re,metadata:new At(O.createdAt,O.lastLoginAt),isAnonymous:nn};Object.assign(v,Fn)})).apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(v){const g=(0,B.m9)(v);yield ar(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function jn(v,g){return[...v.filter(I=>!g.some(A=>A.providerId===I.providerId)),...g]}function Tn(v){return v.map(g=>{var{providerId:m}=g,I=(0,ge._T)(g,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ne(){return(Ne=(0,l.Z)(function*(v,g){const m=yield pi(v,{},(0,l.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,re=br(v,A,"/v1/token",`key=${O}`),Re=yield v._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Bn.fetch()(re,{method:"POST",headers:Re,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(typeof g.idToken<"u","internal-error"),te(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ut(v){const g=ct(v);return te(g,"internal-error"),te(typeof g.exp<"u","internal-error"),te(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var I=this;return(0,l.Z)(function*(){return te(!I.accessToken||I.refreshToken,g,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var I=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:re}=yield function Xe(v,g){return Ne.apply(this,arguments)}(g,m);I.updateTokensAndExpiration(A,O,Number(re))})()}updateTokensAndExpiration(g,m,I){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,m){const{refreshToken:I,accessToken:A,expirationTime:O}=m,re=new rt;return I&&(te("string"==typeof I,"internal-error",{appName:g}),re.refreshToken=I),A&&(te("string"==typeof A,"internal-error",{appName:g}),re.accessToken=A),O&&(te("number"==typeof O,"internal-error",{appName:g}),re.expirationTime=O),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return le("not implemented")}}function gt(v,g){te("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class bt{constructor(g){var{uid:m,auth:I,stsTokenManager:A}=g,O=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new At(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const I=yield yt(m,m.stsTokenManager.getToken(m.auth,g));return te(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(g){return function pn(v){return In.apply(this,arguments)}(this,g)}reload(){return function ur(v){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new bt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var I=this;return(0,l.Z)(function*(){let A=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),A=!0),m&&(yield ar(I)),yield I.auth._persistUserIfCurrent(I),A&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield yt(g,function pr(v,g){return Dr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var I,A,O,re,Re,ot,xt,nn;const Fn=null!==(I=m.displayName)&&void 0!==I?I:void 0,ji=null!==(A=m.email)&&void 0!==A?A:void 0,Os=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Vd=null!==(re=m.photoURL)&&void 0!==re?re:void 0,Xl=null!==(Re=m.tenantId)&&void 0!==Re?Re:void 0,xu=null!==(ot=m._redirectEventId)&&void 0!==ot?ot:void 0,yp=null!==(xt=m.createdAt)&&void 0!==xt?xt:void 0,ry=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Ud,emailVerified:Zo,isAnonymous:Wo,providerData:Nu,stsTokenManager:Ru}=m;te(Ud&&Ru,g,"internal-error");const Pu=rt.fromJSON(this.name,Ru);te("string"==typeof Ud,g,"internal-error"),gt(Fn,g.name),gt(ji,g.name),te("boolean"==typeof Zo,g,"internal-error"),te("boolean"==typeof Wo,g,"internal-error"),gt(Os,g.name),gt(Vd,g.name),gt(Xl,g.name),gt(xu,g.name),gt(yp,g.name),gt(ry,g.name);const Jn=new bt({uid:Ud,auth:g,email:ji,emailVerified:Zo,displayName:Fn,isAnonymous:Wo,photoURL:Vd,phoneNumber:Os,tenantId:Xl,stsTokenManager:Pu,createdAt:yp,lastLoginAt:ry});return Nu&&Array.isArray(Nu)&&(Jn.providerData=Nu.map(_p=>Object.assign({},_p))),xu&&(Jn._redirectEventId=xu),Jn}static _fromIdTokenResponse(g,m,I=!1){return(0,l.Z)(function*(){const A=new rt;A.updateFromServerResponse(m);const O=new bt({uid:m.localId,auth:g,stsTokenManager:A,isAnonymous:I});return yield ar(O),O})()}}const j=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,I){var A=this;return(0,l.Z)(function*(){A.storage[m]=I})()}_get(m){var I=this;return(0,l.Z)(function*(){const A=I.storage[m];return void 0===A?null:A})()}_remove(m){var I=this;return(0,l.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function Y(v,g,m){return`firebase:${v}:${g}:${m}`}class U{constructor(g,m,I){this.persistence=g,this.auth=m,this.userKey=I;const{config:A,name:O}=this.auth;this.fullUserKey=Y(this.userKey,A.apiKey,O),this.fullPersistenceKey=Y("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?bt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,I="authUser"){return(0,l.Z)(function*(){if(!m.length)return new U(X(j),g,I);const A=(yield Promise.all(m.map(function(){var xt=(0,l.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let O=A[0]||X(j);const re=Y(I,g.config.apiKey,g.name);let Re=null;for(const xt of m)try{const nn=yield xt._get(re);if(nn){const Fn=bt._fromJSON(g,nn);xt!==O&&(Re=Fn),O=xt;break}}catch{}const ot=A.filter(xt=>xt._shouldAllowMigration);return O._shouldAllowMigration&&ot.length?(O=ot[0],Re&&(yield O._set(re,Re.toJSON())),yield Promise.all(m.map(function(){var xt=(0,l.Z)(function*(nn){if(nn!==O)try{yield nn._remove(re)}catch{}});return function(nn){return xt.apply(this,arguments)}}())),new U(O,g,I)):new U(O,g,I)})()}}function S(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(x(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ze(g))return"Blackberry";if(ae(g))return"Webos";if(N(g))return"Safari";if((g.includes("chrome/")||Z(g))&&!g.includes("edge/"))return"Chrome";if(ke(g))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function x(v=(0,B.z$)()){return/firefox\//i.test(v)}function N(v=(0,B.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Z(v=(0,B.z$)()){return/crios\//i.test(v)}function ye(v=(0,B.z$)()){return/iemobile/i.test(v)}function ke(v=(0,B.z$)()){return/android/i.test(v)}function ze(v=(0,B.z$)()){return/blackberry/i.test(v)}function ae(v=(0,B.z$)()){return/webos/i.test(v)}function je(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function _t(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function zt(v=(0,B.z$)()){return je(v)||ke(v)||ae(v)||ze(v)||/windows phone/i.test(v)||ye(v)}function Cn(v,g=[]){let m;switch(v){case"Browser":m=S((0,B.z$)());break;case"Worker":m=`${S((0,B.z$)())}-${v}`;break;default:m=v}const I=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${I}`}class Ri{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const I=O=>new Promise((re,Re)=>{try{re(g(O))}catch(ot){Re(ot)}});I.onAbort=m,this.queue.push(I);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){var I;if(m.auth.currentUser===g)return;const A=[];try{for(const O of m.queue)yield O(g),O.onAbort&&A.push(O.onAbort)}catch(O){A.reverse();for(const re of A)try{re()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=O)||void 0===I?void 0:I.message})}})()}}class ts{constructor(g,m,I){this.app=g,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,m){var I=this;return m&&(this._popupRedirectResolver=X(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,O;if(!I._deleted&&(I.persistenceManager=yield U.create(I,g),!I._deleted)){if(null!==(A=I._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(O=I.currentUser)||void 0===O?void 0:O.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var I;const A=yield m.assertedPersistence.getCurrentUser();let O=A,re=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Re=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,ot=O?._redirectEventId,xt=yield m.tryRedirectSignIn(g);(!Re||Re===ot)&&xt?.user&&(O=xt.user,re=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Re){O=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Re))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){var I;try{yield ar(g)}catch(A){if("auth/network-request-failed"!==(null===(I=A)||void 0===I?void 0:I.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const I=g?(0,B.m9)(g):null;return I&&te(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(g,m=!1){var I=this;return(0,l.Z)(function*(){if(!I._deleted)return g&&te(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,l.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(X(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,m,I){return this.registerStateListener(this.authStateSubscription,g,m,I)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,I){return this.registerStateListener(this.idTokenSubscription,g,m,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var I=this;return(0,l.Z)(function*(){const A=yield I.getOrInitRedirectPersistenceManager(m);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const I=g&&X(g)||m._popupRedirectResolver;te(I,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[X(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var I,A;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===g?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,I,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,I,A):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(I["X-Firebase-Client"]=A),I})()}}function vt(v){return(0,B.m9)(v)}class ee{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function be(v,g,m){const I=vt(v);te(I._canInitEmulator,I,"emulator-config-failed"),te(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const A=!!m?.disableWarnings,O=He(g),{host:re,port:Re}=function ht(v){const g=He(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(I);if(A){const O=A[1];return{host:O,port:Kt(I.substr(O.length+1))}}{const[O,re]=I.split(":");return{host:O,port:Kt(re)}}}(g);I.config.emulator={url:`${O}//${re}${null===Re?"":`:${Re}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:Re,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function un(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function He(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Kt(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Nn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return le("not implemented")}_getIdTokenResponse(g){return le("not implemented")}_linkToIdToken(g,m){return le("not implemented")}_getReauthenticationResolver(g){return le("not implemented")}}function An(v,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:resetPassword",jt(v,g))})).apply(this,arguments)}function Nr(v,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rd(v,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",jt(v,g))})).apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithPassword",jt(v,g))})).apply(this,arguments)}function ns(v,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:sendOobCode",jt(v,g))})).apply(this,arguments)}function Pi(v,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(v,g){return ns(v,g)})).apply(this,arguments)}function tu(v,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(v,g){return ns(v,g)})).apply(this,arguments)}function Rr(v,g){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(v,g){return ns(v,g)})).apply(this,arguments)}function Hs(v,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(v,g){return ns(v,g)})).apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",jt(v,g))})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",jt(v,g))})).apply(this,arguments)}class zs extends Nn{constructor(g,m,I,A=null){super("password",I),this._email=g,this._password=m,this._tenantId=A}static _fromEmailAndPassword(g,m){return new zs(g,m,"password")}static _fromEmailAndCode(g,m,I=null){return new zs(g,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function bo(v,g){return ws.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ti(v,g){return ua.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,m){var I=this;return(0,l.Z)(function*(){switch(I.signInMethod){case"password":return Nr(g,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Bf(v,g){return Do.apply(this,arguments)}(g,{idToken:m,email:I._email,oobCode:I._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ss(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithIdp",jt(v,g))})).apply(this,arguments)}class Oi extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Oi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:A}=m,O=(0,ge._T)(m,["providerId","signInMethod"]);if(!I||!A)return null;const re=new Oi(I,A);return re.idToken=O.idToken||void 0,re.accessToken=O.accessToken||void 0,re.secret=O.secret,re.nonce=O.nonce,re.pendingToken=O.pendingToken||null,re}_getIdTokenResponse(g){return ss(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,ss(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ss(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,B.xO)(m)}return g}}function id(v,g){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:sendVerificationCode",jt(v,g))})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,g))})).apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(v,g){const m=yield Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,g));if(m.temporaryProof)throw Vn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Am={USER_NOT_FOUND:"user-not-found"};function od(){return(od=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Am)})).apply(this,arguments)}class To extends Nn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new To({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new To({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function $f(v,g){return ca.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Hf(v,g){return sd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Dl(v,g){return od.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:I,verificationCode:A}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:I,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:I,phoneNumber:A,temporaryProof:O}=g;return I||m||A||O?new To({verificationId:m,verificationCode:I,phoneNumber:A,temporaryProof:O}):null}}class da{constructor(g){var m,I,A,O,re,Re;const ot=(0,B.zd)((0,B.pd)(g)),xt=null!==(m=ot.apiKey)&&void 0!==m?m:null,nn=null!==(I=ot.oobCode)&&void 0!==I?I:null,Fn=function Tl(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ot.mode)&&void 0!==A?A:null);te(xt&&nn&&Fn,"argument-error"),this.apiKey=xt,this.operation=Fn,this.code=nn,this.continueUrl=null!==(O=ot.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(re=ot.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=ot.tenantId)&&void 0!==Re?Re:null}static parseLink(g){const m=function nu(v){const g=(0,B.zd)((0,B.pd)(v)).link,m=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||m||g||v}(g);try{return new da(m)}catch{return null}}}let Cl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return zs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const A=da.parseLink(I);return te(A,"argument-error"),zs._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Cr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Co extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Is extends Co{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return te("providerId"in m&&"signInMethod"in m,"argument-error"),Oi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Is.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Is.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:A,pendingToken:O,nonce:re,providerId:Re}=g;if(!I&&!A&&!m&&!O||!Re)return null;try{return new Is(Re)._credential({idToken:m,accessToken:I,nonce:re,pendingToken:O})}catch{return null}}}let ru=(()=>{class v extends Co{constructor(){super("facebook.com")}static credential(m){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),iu=(()=>{class v extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:A}=m;if(!I&&!A)return null;try{return v.credential(I,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ha=(()=>{class v extends Co{constructor(){super("github.com")}static credential(m){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class qs extends Nn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return ss(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,ss(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ss(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:A,pendingToken:O}=m;return I&&A&&O&&I===A?new qs(I,O):null}static _create(g,m){return new qs(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends Cr{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ki.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ki.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=qs.fromJSON(g);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:I}=g;if(!m||!I)return null;try{return qs._create(I,m)}catch{return null}}}let ou=(()=>{class v extends Co{constructor(){super("twitter.com")}static credential(m,I){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:A}=m;if(!I||!A)return null;try{return v.credential(I,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Pr(v,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signUp",jt(v,g))})).apply(this,arguments)}class Br{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,I,A=!1){return(0,l.Z)(function*(){const O=yield bt._fromIdTokenResponse(g,I,A),re=os(I);return new Br({user:O,providerId:re,_tokenResponse:I,operationType:m})})()}static _forOperation(g,m,I){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const A=os(I);return new Br({user:g,providerId:A,_tokenResponse:I,operationType:m})})()}}function os(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Mm(v){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,l.Z)(function*(v){var g;const m=vt(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Br({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Pr(m,{returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class $n extends B.ZR{constructor(g,m,I,A){var O;super(m.code,m.message),this.operationType=I,this.user=A,Object.setPrototypeOf(this,$n.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,m,I,A){return new $n(g,m,I,A)}}function Al(v,g,m,I){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?$n._fromErrorAndOperation(v,O,g,I):O})}function ad(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Ti(v,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(v,g){const m=(0,B.m9)(v);yield jr(!0,m,g);const{providerUserInfo:I}=yield et(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),A=ad(I||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sl(v,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,g,m=!1){const I=yield yt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Br._forOperation(v,"link",I)})).apply(this,arguments)}function jr(v,g,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(v,g,m){yield ar(g);const A=!1===v?"provider-already-linked":"no-such-provider";te(ad(g.providerData).has(m)===v,g.auth,A)})).apply(this,arguments)}function Ds(v,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(v,g,m=!1){var I;const{auth:A}=v,O="reauthenticate";try{const re=yield yt(v,Al(A,O,g,v),m);te(re.idToken,A,"internal-error");const Re=ct(re.idToken);te(Re,A,"internal-error");const{sub:ot}=Re;return te(v.uid===ot,A,"user-mismatch"),Br._forOperation(v,O,re)}catch(re){throw"auth/user-not-found"===(null===(I=re)||void 0===I?void 0:I.code)&&Ye(A,"user-mismatch"),re}})).apply(this,arguments)}function zf(v,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(v,g,m=!1){const I="signIn",A=yield Al(v,I,g),O=yield Br._fromIdTokenResponse(v,I,A);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function So(v,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(v,g){return zf(vt(v),g)})).apply(this,arguments)}function $t(v,g){return F.apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(v,g){const m=(0,B.m9)(v);return yield jr(!1,m,g.providerId),Sl(m,g)})).apply(this,arguments)}function k(v,g){return K.apply(this,arguments)}function K(){return(K=(0,l.Z)(function*(v,g){return Ds((0,B.m9)(v),g)})).apply(this,arguments)}function fe(v,g){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(v,g){return Pn(v,"POST","/v1/accounts:signInWithCustomToken",jt(v,g))})).apply(this,arguments)}function Qe(v,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(v,g){const m=vt(v),I=yield fe(m,{token:g,returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Qt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Te._fromServerResponse(g,m):Ye(g,"internal-error")}}class Te extends Qt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Te(m)}}function Pt(v,g,m){var I;te((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),te(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Hn(v,g,m){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v),A={requestType:"PASSWORD_RESET",email:g};m&&Pt(I,A,m),yield tu(I,A)})).apply(this,arguments)}function kn(v,g,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(v,g,m){yield An((0,B.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function As(v,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(v,g){yield rd((0,B.m9)(v),{oobCode:g})})).apply(this,arguments)}function as(v,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(v,g){const m=(0,B.m9)(v),I=yield An(m,{oobCode:g}),A=I.requestType;switch(te(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(I.mfaInfo,m,"internal-error");default:te(I.email,m,"internal-error")}let O=null;return I.mfaInfo&&(O=Qt._fromServerResponse(vt(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function au(v,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(v,g){const{data:m}=yield as((0,B.m9)(v),g);return m.email})).apply(this,arguments)}function Zs(v,g,m){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(v,g,m){const I=vt(v),A=yield Pr(I,{returnSecureToken:!0,email:g,password:m}),O=yield Br._fromIdTokenResponse(I,"signIn",A);return yield I._updateCurrentUser(O.user),O})).apply(this,arguments)}function Qn(v,g,m){return So((0,B.m9)(v),Cl.credential(g,m))}function us(v,g,m){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};te(m.handleCodeInApp,I,"argument-error"),m&&Pt(I,A,m),yield Rr(I,A)})).apply(this,arguments)}function lu(v,g){return"EMAIL_SIGNIN"===da.parseLink(g)?.operation}function Ws(v,g,m){return qf.apply(this,arguments)}function qf(){return(qf=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v),A=Cl.credentialWithLink(g,m||$e());return te(A._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),So(I,A)})).apply(this,arguments)}function xm(v,g){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:createAuthUri",jt(v,g))})).apply(this,arguments)}function M0(v,g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(v,g){const I={identifier:g,continueUri:Ve()?$e():"http://localhost"},{signinMethods:A}=yield xm((0,B.m9)(v),I);return A||[]})).apply(this,arguments)}function ud(v,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,l.Z)(function*(v,g){const m=(0,B.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Pt(m.auth,A,g);const{email:O}=yield Pi(m.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function cd(v,g,m){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Pt(I.auth,O,m);const{email:re}=yield Hs(I.auth,O);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nm(v,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,l.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rm(v,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,l.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const I=(0,B.m9)(v),O={idToken:yield I.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},re=yield yt(I,Nm(I.auth,O));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const Re=I.providerData.find(({providerId:ot})=>"password"===ot);Re&&(Re.displayName=I.displayName,Re.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)})).apply(this,arguments)}function Pm(v,g){return ga((0,B.m9)(v),g,null)}function Wf(v,g){return ga((0,B.m9)(v),null,g)}function ga(v,g,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(v,g,m){const{auth:I}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const re=yield yt(v,Nr(I,O));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class qn{constructor(g,m,I={}){this.isNewUser=g,this.providerId=m,this.profile=I}}class Ms extends qn{constructor(g,m,I,A){super(g,m,I),this.username=A}}class Zn extends qn{constructor(g,m){super(g,"facebook.com",m)}}class km extends Ms{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Fm extends qn{constructor(g,m){super(g,"google.com",m)}}class Lm extends Ms{constructor(g,m,I){super(g,"twitter.com",m,I)}}function Vm(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Om(v){var g,m;if(!v)return null;const{providerId:I}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const re=null===(m=null===(g=ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new qn(O,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new Zn(O,A);case"github.com":return new km(O,A);case"google.com":return new Fm(O,A);case"twitter.com":return new Lm(O,A,v.screenName||null);case"custom":case"anonymous":return new qn(O,null);default:return new qn(O,I,A)}}(m)}function du(v,g,m,I){return(0,B.m9)(v).onAuthStateChanged(g,m,I)}class Ci{constructor(g,m,I){this.type=g,this.credential=m,this.auth=I}static _fromIdtoken(g,m){return new Ci("enroll",g,m)}static _fromMfaPendingCredential(g){return new Ci("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,I;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ci._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return Ci._fromIdtoken(g.multiFactorSession.idToken)}return null}}class md{constructor(g,m,I){this.session=g,this.hints=m,this.signInResolver=I}static _fromError(g,m){const I=vt(g),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(Re=>Qt._fromServerResponse(I,Re));te(A.mfaPendingCredential,I,"internal-error");const re=Ci._fromMfaPendingCredential(A.mfaPendingCredential);return new md(re,O,function(){var Re=(0,l.Z)(function*(ot){const xt=yield ot._process(I,re);delete A.mfaInfo,delete A.mfaPendingCredential;const nn=Object.assign(Object.assign({},A),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(m.operationType){case"signIn":const Fn=yield Br._fromIdTokenResponse(I,m.operationType,nn);return yield I._updateCurrentUser(Fn.user),Fn;case"reauthenticate":return te(m.user,I,"internal-error"),Br._forOperation(m.user,m.operationType,nn);default:Ye(I,"internal-error")}});return function(ot){return Re.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function Um(v,g){var m;const I=(0,B.m9)(v),A=g;return te(g.customData.operationType,I,"argument-error"),te(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),md._fromError(I,A)}function hu(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:start",jt(v,g))}class Pl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>Qt._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new Pl(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Ci._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var I=this;return(0,l.Z)(function*(){const A=g,O=yield I.getSession(),re=yield yt(I.user,A._process(I.user.auth,O,m));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){var I;const A="string"==typeof g?g:g.uid,O=yield m.user.getIdToken(),re=yield yt(m.user,function Rl(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(v,g))}(m.user.auth,{idToken:O,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Re})=>Re!==A),yield m.user._updateTokensIfNecessary(re);try{yield m.user.reload()}catch(Re){if("auth/user-token-expired"!==(null===(I=Re)||void 0===I?void 0:I.code))throw Re}})()}}const Bm=new WeakMap;function _d(v){const g=(0,B.m9)(v);return Bm.has(g)||Bm.set(g,Pl._fromUser(g)),Bm.get(g)}const xs="__sak";class vd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ro=(()=>{class v extends vd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ed(){const v=(0,B.z$)();return N(v)||je(v)}()&&function Zr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const A=this.storage.getItem(I),O=this.localCache[I];A!==O&&m(I,O,A)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((Re,ot,xt)=>{this.notifyListeners(Re,xt)});const A=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(A);if(m.newValue!==Re)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!I)return}const O=()=>{const Re=this.storage.getItem(A);!I&&this.localCache[A]===Re||this.notifyListeners(A,Re)},re=this.storage.getItem(A);!function Mt(){return(0,B.w1)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,I){this.localCache[m]=I;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var A=()=>super._set,O=this;return(0,l.Z)(function*(){yield A().call(O,m,I),O.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,A=this;return(0,l.Z)(function*(){const O=yield I().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var I=()=>super._remove,A=this;return(0,l.Z)(function*(){yield I().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Ks=(()=>{class v extends vd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let Ol=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(O=>O.isListeningto(m));if(I)return I;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,l.Z)(function*(){const A=m,{eventId:O,eventType:re,data:Re}=A.data,ot=I.handlersMap[re];if(!ot?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:re});const xt=Array.from(ot).map(function(){var Fn=(0,l.Z)(function*(ji){return ji(A.origin,Re)});return function(ji){return Fn.apply(this,arguments)}}()),nn=yield function wd(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return g.apply(this,arguments)}}()))}(xt);A.ports[0].postMessage({status:"done",eventId:O,eventType:re,response:nn})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ma(v="",g=10){let m="";for(let I=0;I<g;I++)m+=Math.floor(10*Math.random());return v+m}class Hm{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,I=50){var A=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let re,Re;return new Promise((ot,xt)=>{const nn=ma("",20);O.port1.start();const Fn=setTimeout(()=>{xt(new Error("unsupported_event"))},I);Re={messageChannel:O,onMessage(ji){const Os=ji;if(Os.data.eventId===nn)switch(Os.data.status){case"ack":clearTimeout(Fn),re=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),ot(Os.data.response);break;default:clearTimeout(Fn),clearTimeout(re),xt(new Error("invalid_response"))}}},A.handlers.add(Re),O.port1.addEventListener("message",Re.onMessage),A.target.postMessage({eventType:g,eventId:nn,data:m},[O.port2])}).finally(()=>{Re&&A.removeMessageHandler(Re)})})()}}function mr(){return window}function Li(){return typeof mr().WorkerGlobalScope<"u"&&"function"==typeof mr().importScripts}function Po(){return(Po=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pu="firebaseLocalStorageDb",mu="firebaseLocalStorage",Fl="fbase_key";class Oo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ll(v,g){return v.transaction([mu],g?"readwrite":"readonly").objectStore(mu)}function Xf(){const v=indexedDB.open(pu,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(mu,{keyPath:Fl})}catch(A){m(A)}}),v.addEventListener("success",(0,l.Z)(function*(){const I=v.result;I.objectStoreNames.contains(mu)?g(I):(I.close(),yield function Jf(){const v=indexedDB.deleteDatabase(pu);return new Oo(v).toPromise()}(),g(yield Xf()))}))})}function yu(v,g,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,l.Z)(function*(v,g,m){const I=Ll(v,!0).put({[Fl]:g,value:m});return new Oo(I).toPromise()})).apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(v,g){const m=Ll(v,!1).get(g),I=yield new Oo(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ep(v,g){const m=Ll(v,!0).delete(g);return new Oo(m).toPromise()}const Ul=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Xf()),m.db})()}_withRetries(m){var I=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const O=yield I._openDb();return yield m(O)}catch(O){if(A++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Li()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Ol._getInstance(function kl(){return Li()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,l.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,l.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var I,A;if(m.activeServiceWorker=yield function Gm(){return Po.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Hm(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(I=O[0])||void 0===I?void 0:I.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,l.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Id(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xf();return yield yu(m,xs,"1"),yield ep(m,xs),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,l.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(O=>yu(O,m,I)),A.localCache[m]=I,A.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,l.Z)(function*(){const A=yield I._withRetries(O=>function zm(v,g){return Vl.apply(this,arguments)}(O,m));return I.localCache[m]=A,A})()}_remove(m){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(A=>ep(A,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const I=yield m._withRetries(re=>{const Re=Ll(re,!1).getAll();return new Oo(Re).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:re,value:Re}of I)O.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(Re)&&(m.notifyListeners(re,Re),A.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!O.has(re)&&(m.notifyListeners(re,null),A.push(re));return A})()}notifyListeners(m,I){this.localCache[m]=I;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function qm(v,g){return Ct(v,"POST","/v2/accounts/mfaSignIn:start",jt(v,g))}function ko(){return(ko=(0,l.Z)(function*(v){return(yield Ct(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ya(v){return new Promise((g,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=g,I.onerror=A=>{const O=Fe("internal-error");O.customData=A,m(O)},I.type="text/javascript",I.charset="UTF-8",function vu(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(I)})}function bd(v){return`__${v}${Math.floor(1e6*Math.random())}`}const rp=1e12;class x0{constructor(g){this.auth=g,this.counter=rp,this._widgets=new Map}render(g,m){const I=this.counter;return this._widgets.set(I,new Ln(g,this.auth.name,m||{})),this.counter++,I}reset(g){var m;const I=g||rp;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(g){var m;return(null===(m=this._widgets.get(g||rp))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var I;return null===(I=m._widgets.get(g||rp))||void 0===I||I.execute(),""})()}}class Ln{constructor(g,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;te(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function N0(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zm=bd("rcb"),hD=new Ze(3e4,6e4);class pD{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=mr().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return te(function gD(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mr().grecaptcha):new Promise((I,A)=>{const O=mr().setTimeout(()=>{A(Fe(g,"network-request-failed"))},hD.get());mr()[Zm]=()=>{mr().clearTimeout(O),delete mr()[Zm];const Re=mr().grecaptcha;if(!Re)return void A(Fe(g,"internal-error"));const ot=Re.render;Re.render=(xt,nn)=>{const Fn=ot(xt,nn);return this.counter++,Fn},this.hostLanguage=m,I(Re)},ya(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Zm,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(Fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=mr().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mD{load(g){return(0,l.Z)(function*(){return new x0(g)})()}clearedOneInstance(){}}const Fo="recaptcha",R0={theme:"light",type:"image"};class Wm{constructor(g,m=Object.assign({},R0),I){this.parameters=m,this.type=Fo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(I),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;te(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mD:new pD,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(m)||new Promise(O=>{const re=Re=>{!Re||(g.tokenChangeListeners.delete(re),O(Re))};g.tokenChangeListeners.add(re),g.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof g)g(m);else if("string"==typeof g){const I=mr()[g];"function"==typeof I&&I(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){te(Ve()&&!Li(),g.auth,"internal-error"),yield function Sr(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function jl(v){return ko.apply(this,arguments)}(g.auth);te(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sn{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=To._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Wr(v,g,m){return ip.apply(this,arguments)}function ip(){return(ip=(0,l.Z)(function*(v,g,m){const I=vt(v),A=yield Lo(I,g,(0,B.m9)(m));return new Sn(A,O=>So(I,O))})).apply(this,arguments)}function Km(v,g,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v);yield jr(!1,I,"phone");const A=yield Lo(I.auth,g,(0,B.m9)(m));return new Sn(A,O=>$t(I,O))})).apply(this,arguments)}function Ns(v,g,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v),A=yield Lo(I.auth,g,(0,B.m9)(m));return new Sn(A,O=>k(I,O))})).apply(this,arguments)}function Lo(v,g,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(v,g,m){var I;const A=yield m.verify();try{let O;if(te("string"==typeof A,v,"argument-error"),te(m.type===Fo,v,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const re=O.session;if("phoneNumber"in O)return te("enroll"===re.type,v,"internal-error"),(yield hu(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,v,"internal-error");const Re=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return te(Re,v,"missing-multi-factor-info"),(yield qm(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield id(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return re}}finally{m._reset()}})).apply(this,arguments)}function Vo(v,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(v,g){yield Sl((0,B.m9)(v),g)})).apply(this,arguments)}let Ft=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=vt(m)}verifyPhoneNumber(m,I){return Lo(this.auth,m,(0,B.m9)(I))}static credential(m,I){return To._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:A}=m;return I&&A?To._fromTokenResponse(I,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function _a(v,g){return g?X(g):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class sp extends Nn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ss(g,this._buildIdpRequest())}_linkToIdToken(g,m){return ss(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return ss(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Dd(v){return zf(v.auth,new sp(v),v.bypassAuthState)}function ri(v){const{auth:g,user:m}=v;return te(m,g,"internal-error"),Ds(m,new sp(v),v.bypassAuthState)}function Td(v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(v){const{auth:g,user:m}=v;return te(m,g,"internal-error"),Sl(m,new sp(v),v.bypassAuthState)})).apply(this,arguments)}class Uo{constructor(g,m,I,A,O=!1){this.auth=g,this.resolver=I,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(I,A){g.pendingPromise={resolve:I,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(I,A){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:A,postBody:O,tenantId:re,error:Re,type:ot}=g;if(Re)return void m.reject(Re);const xt={auth:m.auth,requestUri:I,sessionId:A,tenantId:re||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ot)(xt))}catch(nn){m.reject(nn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Dd;case"linkViaPopup":case"linkViaRedirect":return Td;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:Ye(this.auth,"internal-error")}}resolve(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new Ze(2e3,1e4);function Ym(v,g,m){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(v,g,m){const I=vt(v);De(v,g,Cr);const A=_a(I,m);return new Iu(I,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Qm(v,g,m){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Cr);const A=_a(I.auth,m);return new Iu(I.auth,"reauthViaPopup",g,A,I).executeNotNull()})).apply(this,arguments)}function Jm(v,g,m){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Cr);const A=_a(I.auth,m);return new Iu(I.auth,"linkViaPopup",g,A,I).executeNotNull()})).apply(this,arguments)}let Iu=(()=>{class v extends Uo{constructor(m,I,A,O,re){super(m,I,O,re),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const I=yield m.execute();return te(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ie(1===m.filter.length,"Popup operations only handle one event");const I=ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,A;this.pollId=null!==(A=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ui.get())};m()}}return v.currentPopupAction=null,v})();const bu=new Map;class cr extends Uo{constructor(g,m,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let I=bu.get(m.auth._key());if(!I){try{const O=(yield function cs(v,g){return Ea.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;I=()=>Promise.resolve(O)}catch(A){I=()=>Promise.reject(A)}bu.set(m.auth._key(),I)}return m.bypassAuthState||bu.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(I,g);if("unknown"!==g.type){if(g.eventId){const A=yield I.auth._redirectUserForId(g.eventId);if(A)return I.user=A,m().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ea(){return(Ea=(0,l.Z)(function*(v,g){const m=Qs(g),I=jo(v);if(!(yield I._isAvailable()))return!1;const A="true"===(yield I._get(m));return yield I._remove(m),A})).apply(this,arguments)}function Bo(v,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(v,g){return jo(v)._set(Qs(g),"true")})).apply(this,arguments)}function op(){bu.clear()}function Gl(v,g){bu.set(v._key(),g)}function jo(v){return X(v._redirectPersistence)}function Qs(v){return Y("pendingRedirect",v.config.apiKey,v.name)}function ap(v,g,m){return function tr(v,g,m){return Du.apply(this,arguments)}(v,g,m)}function Du(){return(Du=(0,l.Z)(function*(v,g,m){const I=vt(v);De(v,g,Cr);const A=_a(I,m);return yield Bo(A,I),A._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function Tu(v,g,m){return function zl(v,g,m){return Js.apply(this,arguments)}(v,g,m)}function Js(){return(Js=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Cr);const A=_a(I.auth,m);yield Bo(A,I.auth);const O=yield Zl(I);return A._openRedirect(I.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function up(v,g,m){return function lp(v,g,m){return Ad.apply(this,arguments)}(v,g,m)}function Ad(){return(Ad=(0,l.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Cr);const A=_a(I.auth,m);yield jr(!1,I,g.providerId),yield Bo(A,I.auth);const O=yield Zl(I);return A._openRedirect(I.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function ql(v,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(v,g){return yield vt(v)._initializationPromise,wa(v,g,!1)})).apply(this,arguments)}function wa(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(v,g,m=!1){const I=vt(v),A=_a(I,g),re=yield new cr(I,A,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,g)),re})).apply(this,arguments)}function Zl(v){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(v){const g=ma(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class ba{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(m=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function cp(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var I;if(g.error&&!Su(g)){const A=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,A))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const I=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Au(g))}saveEventToCache(g){this.cachedEventUids.add(Au(g)),this.lastProcessedEventTime=Date.now()}}function Au(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Su({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function to(v){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(v,g={}){return Ct(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$o=/^https?/;function dp(){return(dp=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield to(v);for(const m of g)try{if(yD(m))return}catch{}Ye(v,"unauthorized-domain")})).apply(this,arguments)}function yD(v){const g=$e(),{protocol:m,hostname:I}=new URL(g);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===I}if(!$o.test(m))return!1;if(Yr.test(v))return I===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(I)}const hp=new Ze(3e4,6e4);function Md(){const v=mr().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ds=null;function fp(v){return ds=ds||function xd(v){return new Promise((g,m)=>{var I,A,O;function re(){Md(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Md(),m(Fe(v,"network-request-failed"))},timeout:hp.get()})}if(null!==(A=null===(I=mr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(O=mr().gapi)||void 0===O||!O.load){const Re=bd("iframefcb");return mr()[Re]=()=>{gapi.load?re():m(Fe(v,"network-request-failed"))},ya(`https://apis.google.com/js/api.js?onload=${Re}`).catch(ot=>m(ot))}re()}}).catch(g=>{throw ds=null,g})}(v),ds}const Nd=new Ze(5e3,15e3),Xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gp(v){const g=v.config;te(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?rn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:v.name,v:P.SDK_VERSION},A=vD.get(v.config.apiHost);A&&(I.eid=A);const O=v._getFrameworks();return O.length&&(I.fw=O.join(",")),`${m}?${(0,B.xO)(I).slice(1)}`}function Rd(){return Rd=(0,l.Z)(function*(v){const g=yield fp(v),m=mr().gapi;return te(m,v,"internal-error"),g.open({where:document.body,url:gp(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xm,dontclear:!0},I=>new Promise(function(){var A=(0,l.Z)(function*(O,re){yield I.restyle({setHideOnLeave:!1});const Re=Fe(v,"network-request-failed"),ot=mr().setTimeout(()=>{re(Re)},Nd.get());function xt(){mr().clearTimeout(ot),O(I)}I.ping(xt).then(xt,()=>{re(Re)})});return function(O,re){return A.apply(this,arguments)}}()))}),Rd.apply(this,arguments)}const Pd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ny{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ro(v,g,m,I,A,O){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:P.SDK_VERSION,eventId:A};if(g instanceof Cr){g.setDefaultLanguage(v.languageCode),re.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ot,xt]of Object.entries(O||{}))re[ot]=xt}if(g instanceof Co){const ot=g.getScopes().filter(xt=>""!==xt);ot.length>0&&(re.scopes=ot.join(","))}v.tenantId&&(re.tid=v.tenantId);const Re=re;for(const ot of Object.keys(Re))void 0===Re[ot]&&delete Re[ot];return`${function Ps({config:v}){return v.emulator?rn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(Re).slice(1)}`}const Wl="webStorageSupport",Fd=class kd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=wa,this._overrideRedirectResult=Gl}_openPopup(g,m,I,A){var O=this;return(0,l.Z)(function*(){var re;Ie(null===(re=O.eventManagers[g._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=ro(g,m,I,$e(),A);return function Da(v,g,m,I=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let Re="";const ot=Object.assign(Object.assign({},Pd),{width:I.toString(),height:A.toString(),top:O,left:re}),xt=(0,B.z$)().toLowerCase();m&&(Re=Z(xt)?"_blank":m),x(xt)&&(g=g||"http://localhost",ot.scrollbars="yes");const nn=Object.entries(ot).reduce((ji,[Os,Vd])=>`${ji}${Os}=${Vd},`,"");if(function tn(v=(0,B.z$)()){var g;return je(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(xt)&&"_self"!==Re)return function Go(v,g){const m=document.createElement("a");m.href=v,m.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(g||"",Re),new ny(null);const Fn=window.open(g||"",Re,nn);te(Fn,v,"popup-blocked");try{Fn.focus()}catch{}return new ny(Fn)}(g,Re,ma())})()}_openRedirect(g,m,I,A){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(g),function Qf(v){mr().location.href=v}(ro(g,m,I,$e(),A)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(Ie(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(g);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const I=yield function P0(v){return Rd.apply(this,arguments)}(g),A=new ba(g);return I.register("authEvent",O=>(te(O?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:A},m.iframes[g._key()]=I,A})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Wl,{type:Wl},A=>{var O;const re=null===(O=A?.[0])||void 0===O?void 0:O[Wl];void 0!==re&&m(!!re),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sd(v){return dp.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return zt()||N()||je()}};class Yl extends class Kl{constructor(g){this.factorId=g}_process(g,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,I);case"signin":return this._finalizeSignIn(g,m.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Yl(g)}_finalizeEnroll(g,m,I){return function yd(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:finalize",jt(v,g))}(g,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bl(v,g){return Ct(v,"POST","/v2/accounts/mfaSignIn:finalize",jt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hs=(()=>{class v{constructor(){}static assertion(m){return Yl._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var fs="@firebase/auth";class O0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(I=>{var A;g((null===(A=I)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function mp(v){(0,P._registerComponent)(new Ee.wA("auth",(g,{options:m})=>{const I=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:O,authDomain:re}=I.options;return((Re,ot)=>{te(O&&!O.includes(":"),"invalid-api-key",{appName:Re.name}),te(!re?.includes(":"),"argument-error",{appName:Re.name});const xt={apiKey:O,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cn(v)},nn=new ts(Re,ot,xt);return function se(v,g){const m=g?.persistence||[],I=(Array.isArray(m)?m:[m]).map(X);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(I,g?.popupRedirectResolver)}(nn,m),nn})(I,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,I)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Ee.wA("auth-internal",g=>{const m=vt(g.getProvider("auth").getImmediate());return new O0(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(fs,"0.20.8",function k0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(fs,"0.20.8","esm2017")}("Browser")},2090:(dt,xe,R)=>{"use strict";R.d(xe,{$s:()=>Ne,BH:()=>Xt,G6:()=>De,L:()=>pe,LL:()=>Bn,Pz:()=>pt,Sg:()=>Ot,UG:()=>Se,US:()=>Ee,ZB:()=>G,ZR:()=>rn,aH:()=>Ve,b$:()=>ce,eu:()=>te,hl:()=>We,jU:()=>Je,m9:()=>bt,ne:()=>pn,pd:()=>Kn,r3:()=>br,ru:()=>we,tV:()=>_e,uI:()=>Ae,vZ:()=>Dr,w1:()=>Ye,xO:()=>On,xb:()=>Vn,z$:()=>Pe,zI:()=>le,zd:()=>dn});const ne=function($){const j=[];let Y=0;for(let U=0;U<$.length;U++){let S=$.charCodeAt(U);S<128?j[Y++]=S:S<2048?(j[Y++]=S>>6|192,j[Y++]=63&S|128):55296==(64512&S)&&U+1<$.length&&56320==(64512&$.charCodeAt(U+1))?(S=65536+((1023&S)<<10)+(1023&$.charCodeAt(++U)),j[Y++]=S>>18|240,j[Y++]=S>>12&63|128,j[Y++]=S>>6&63|128,j[Y++]=63&S|128):(j[Y++]=S>>12|224,j[Y++]=S>>6&63|128,j[Y++]=63&S|128)}return j},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let S=0;S<$.length;S+=3){const x=$[S],N=S+1<$.length,Z=N?$[S+1]:0,ye=S+2<$.length,ke=ye?$[S+2]:0;let je=(15&Z)<<2|ke>>6,_t=63&ke;ye||(_t=64,N||(je=64)),U.push(Y[x>>2],Y[(3&x)<<4|Z>>4],Y[je],Y[_t])}return U.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ne($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let Y=0,U=0;for(;Y<$.length;){const S=$[Y++];if(S<128)j[U++]=String.fromCharCode(S);else if(S>191&&S<224){const x=$[Y++];j[U++]=String.fromCharCode((31&S)<<6|63&x)}else if(S>239&&S<365){const ye=((7&S)<<18|(63&$[Y++])<<12|(63&$[Y++])<<6|63&$[Y++])-65536;j[U++]=String.fromCharCode(55296+(ye>>10)),j[U++]=String.fromCharCode(56320+(1023&ye))}else{const x=$[Y++],N=$[Y++];j[U++]=String.fromCharCode((15&S)<<12|(63&x)<<6|63&N)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let S=0;S<$.length;){const x=Y[$.charAt(S++)],Z=S<$.length?Y[$.charAt(S)]:0;++S;const ke=S<$.length?Y[$.charAt(S)]:64;++S;const ae=S<$.length?Y[$.charAt(S)]:64;if(++S,null==x||null==Z||null==ke||null==ae)throw Error();U.push(x<<2|Z>>4),64!==ke&&(U.push(Z<<4&240|ke>>2),64!==ae&&U.push(ke<<6&192|ae))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},pe=function($){return function($){const j=ne($);return Ee.encodeByteArray(j,!0)}($).replace(/\./g,"")},_e=function($){try{return Ee.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const Y in j)!j.hasOwnProperty(Y)||!Q(Y)||($[Y]=G($[Y],j[Y]));return $}function Q($){return"__proto__"!==$}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function we(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const $=Pe();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function De(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"object"==typeof indexedDB}function te(){return new Promise(($,j)=>{try{let Y=!0;const U="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(U);S.onsuccess=()=>{S.result.close(),Y||self.indexedDB.deleteDatabase(U),$(!0)},S.onupgradeneeded=()=>{Y=!1},S.onerror=()=>{var x;j((null===(x=S.error)||void 0===x?void 0:x.message)||"")}}catch(Y){j(Y)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const $=process.env.__FIREBASE_DEFAULTS__,j=process.env.__FIREBASE_DEFAULTS_PATH__;if($)return j&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse($);if(j)try{return R(9163)(j)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${j}`)}})()||(()=>{if(typeof document>"u")return;const $=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),j=$&&_e($[1]);return j&&JSON.parse(j)})(),Ve=()=>{var $;return null===($=se())||void 0===$?void 0:$.config},pt=$=>{var j;return null===(j=se())||void 0===j?void 0:j[`_${$}`]};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,U)=>{Y?this.reject(Y):this.resolve(U),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,U))}}}function Ot($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=j||"demo-project",S=$.iat||0,x=$.sub||$.user_id;if(!x)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const N=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:S,exp:S+3600,auth_time:S,sub:x,user_id:x,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(N)),""].join(".")}class rn extends Error{constructor(j,Y,U){super(Y),this.code=j,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}}class Bn{constructor(j,Y,U){this.service=j,this.serviceName=Y,this.errors=U}create(j,...Y){const U=Y[0]||{},S=`${this.service}/${j}`,x=this.errors[j],N=x?function cn($,j){return $.replace(en,(Y,U)=>{const S=j[U];return null!=S?String(S):`<${U}?>`})}(x,U):"Error";return new rn(S,`${this.serviceName}: ${N} (${S}).`,U)}}const en=/\{\$([^}]+)}/g;function br($,j){return Object.prototype.hasOwnProperty.call($,j)}function Vn($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function Dr($,j){if($===j)return!0;const Y=Object.keys($),U=Object.keys(j);for(const S of Y){if(!U.includes(S))return!1;const x=$[S],N=j[S];if(et(x)&&et(N)){if(!Dr(x,N))return!1}else if(x!==N)return!1}for(const S of U)if(!Y.includes(S))return!1;return!0}function et($){return null!==$&&"object"==typeof $}function On($){const j=[];for(const[Y,U]of Object.entries($))Array.isArray(U)?U.forEach(S=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(S))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(U));return j.length?"&"+j.join("&"):""}function dn($){const j={};return $.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[S,x]=U.split("=");j[decodeURIComponent(S)]=decodeURIComponent(x)}}),j}function Kn($){const j=$.indexOf("?");if(!j)return"";const Y=$.indexOf("#",j);return $.substring(j,Y>0?Y:void 0)}function pn($,j){const Y=new In($,j);return Y.subscribe.bind(Y)}class In{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(U=>{this.error(U)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,U){let S;if(void 0===j&&void 0===Y&&void 0===U)throw new Error("Missing Observer.");S=function ct($,j){if("object"!=typeof $||null===$)return!1;for(const Y of j)if(Y in $&&"function"==typeof $[Y])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Y,complete:U},void 0===S.next&&(S.next=ut),void 0===S.error&&(S.error=ut),void 0===S.complete&&(S.complete=ut);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch{}}),this.observers.push(S),x}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ut(){}function Ne($,j=1e3,Y=2){const U=j*Math.pow(Y,$),S=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+S)}function bt($){return $&&$._delegate?$._delegate:$}},1855:(dt,xe,R)=>{"use strict";var l=R(4650);let B=null;function P(){return B}const ue=new l.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function _e(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let G=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new G((0,l.LFG)(ue))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(st)},providedIn:"root"}),n})();const ce=new l.OlP("appBaseHref");let st=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+Je(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+Je(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ye=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(ce,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Se(We(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Ae,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Oe(){return new Fe((0,l.LFG)(we))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}let zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tu{constructor(){this.$implicit=null,this.ngIf=null}}function gr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ki="browser";function os(n){return"server"===n}let Al=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ad((0,l.LFG)(ue),window)}),n})();class ad{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Or(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ga extends class Wf extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){B||(B=n)}(new ga)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Om(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}();return null==t?null:function Ms(n){qn=qn||document.createElement("a"),qn.setAttribute("href",n);const e=qn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let qn,xo=null;const Zn=new l.OlP("TRANSITION_ID"),Fm=[{provide:l.ip1,useFactory:function km(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Zn,ue,l.zs3],multi:!0}];let Vm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fd=new l.OlP("EventManagerPlugins");let Nl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fd),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class cu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let du=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),No=(()=>{class n extends du{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pd(n){P().remove(n)}const gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kf=/%COMP%/g;function Rl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Rl(n,i,t):(i=i.replace(Kf,n),t.push(i))}return t}function Pl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _d=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Yf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new jm(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Rl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nl),l.LFG(No),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gd[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(fu(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fu(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gd[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gd[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pl(r)):this.eventManager.addEventListener(e,t,Pl(r))}}function fu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yf extends xs{constructor(e,t,r,i){super(e),this.component=r;const u=Rl(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function hu(n){return"_ngcontent-%COMP%".replace(Kf,n)}(i+"-"+r.id),this.hostAttr=function yd(n){return"_nghost-%COMP%".replace(Kf,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jm extends xs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Rl(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ro=(()=>{class n extends cu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $m=["alt","control","meta","shift"],Ks={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ol=(()=>{class n extends cu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),$m.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=Ks[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$m.forEach(d=>{d!==i&&(0,wd[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:ki},{provide:l.g9A,useValue:function Gm(){ga.makeCurrent()},multi:!0},{provide:ue,useFactory:function Id(){return(0,l.RDi)(document),document},deps:[]}]),gu=new l.OlP(""),mu=[{provide:l.rWj,useClass:class Lm{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const f=function(y){d=d||y,u--,0==u&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Fl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Po(){return new l.qLn},deps:[]},{provide:fd,useClass:Ro,multi:!0,deps:[ue,l.R0b,l.Lbi]},{provide:fd,useClass:Ol,multi:!0,deps:[ue]},{provide:_d,useClass:_d,deps:[Nl,No,l.AFp]},{provide:l.FYo,useExisting:_d},{provide:du,useExisting:No},{provide:No,useClass:No,deps:[ue]},{provide:Nl,useClass:Nl,deps:[fd,l.R0b]},{provide:class Ao{},useClass:Vm,deps:[]},[]];let Oo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Zn,useExisting:l.AFp},Fm]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gu,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Fl,...mu],imports:[fa,l.hGG]}),n})(),ls=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yu(){return new ls((0,l.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Wm),r},providedIn:"root"}),n})(),Wm=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function R0(n){return new Wm(n.get(ue))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Sn=R(8996),Wr=R(9751);const{isArray:ip}=Array,{getPrototypeOf:Km,prototype:Kr,keys:Ns}=Object;function wu(n){if(1===n.length){const e=n[0];if(ip(e))return{args:e,keys:null};if(function Lo(n){return n&&"object"==typeof n&&Km(n)===Kr}(e)){const t=Ns(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Vi=R(8421),Vo=R(7669),lr=R(5403),Ft=R(4004);const{isArray:_a}=Array;function Dd(n){return(0,Ft.U)(e=>function sp(n,e){return _a(e)?n(...e):n(e)}(n,e))}function ri(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Rs=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Uo=(()=>{class n extends Rs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ui=new l.OlP("NgValueAccessor"),Qm={provide:Ui,useExisting:(0,l.Gpc)(()=>va),multi:!0},Jm=new l.OlP("CompositionEventMode");let va=(()=>{class n extends Rs{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cd(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Jm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([Qm]),l.qOj]}),n})();function Bi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function bu(n){return null!=n&&"number"==typeof n.length}const cr=new l.OlP("NgValidators"),cs=new l.OlP("NgAsyncValidators"),Ea=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bo{static min(e){return function Hl(n){return e=>{if(Bi(e.value)||Bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function op(n){return e=>{if(Bi(e.value)||Bi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Gl(n){return Bi(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Qs(n){return Bi(n.value)||Ea.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ap(n){return e=>Bi(e.value)||!bu(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tr(n){return e=>bu(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Du(n){if(!n)return Tu;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Bi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Xs(e)}static composeAsync(e){return eo(e)}}function Tu(n){return null}function zl(n){return null!=n}function Js(n){return(0,l.QGY)(n)?(0,Sn.D)(n):n}function up(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lp(n,e){return e.map(t=>t(n))}function ql(n){return n.map(e=>function Ad(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xs(n){if(!n)return null;const e=n.filter(zl);return 0==e.length?null:function(t){return up(lp(t,e))}}function wa(n){return null!=n?Xs(ql(n)):null}function eo(n){if(!n)return null;const e=n.filter(zl);return 0==e.length?null:function(t){return function Td(...n){const e=(0,Vo.jO)(n),{args:t,keys:r}=wu(n),i=new Wr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const f=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let C=!1;(0,Vi.Xf)(t[D]).subscribe((0,lr.x)(u,V=>{C||(C=!0,w--),f[D]=V},()=>y--,void 0,()=>{(!y||!C)&&(w||u.next(r?ri(r,f):f),u.complete())}))}});return e?i.pipe(Dd(e)):i}(lp(t,e).map(Js)).pipe((0,Ft.U)(up))}}function Zl(n){return null!=n?eo(ql(n)):null}function Cu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ia(n){return n._rawValidators}function ba(n){return n._rawAsyncValidators}function Au(n){return n?Array.isArray(n)?n:[n]:[]}function Su(n,e){return Array.isArray(n)?n.includes(e):n===e}function cp(n,e){const t=Au(e);return Au(n).forEach(i=>{Su(t,i)||t.push(i)}),t}function to(n,e){return Au(e).filter(t=>!Su(n,t))}class no{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yr extends no{get formDirective(){return null}get path(){return null}}class $o extends no{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hp=(()=>{class n extends Sd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($o,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Md=(()=>{class n extends Sd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Go="VALID",Mu="INVALID",zo="PENDING",ro="DISABLED";function Ps(n){return(Kl(n)?n.validators:n)||null}function Wl(n){return Array.isArray(n)?wa(n):n||null}function kd(n,e){return(Kl(e)?e.asyncValidators:n)||null}function Fd(n){return Array.isArray(n)?Zl(n):n||null}function Kl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Yl(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function hs(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class fs{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Wl(this._rawValidators),this._composedAsyncValidatorFn=Fd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Go}get invalid(){return this.status===Mu}get pending(){return this.status==zo}get disabled(){return this.status===ro}get enabled(){return this.status!==ro}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Wl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Fd(e)}addValidators(e){this.setValidators(cp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(to(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(to(e,this._rawAsyncValidators))}hasValidator(e){return Su(this._rawValidators,e)}hasAsyncValidator(e){return Su(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ro,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Go,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Go||this.status===zo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ro:Go}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator=!0;const t=Js(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ro:this.errors?Mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Mu)?Mu:Go}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ta extends fs{constructor(e,t,r){super(Ps(t),kd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hs(this,0,e),Object.keys(e).forEach(r=>{Yl(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mp extends Ta{}function qo(n,e){g(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function I(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&O(n,e)})}(n,e),function re(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function A(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&O(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jl(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),m(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ld(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g(n,e){const t=Ia(n);null!==e.validator?n.setValidators(Cu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ba(n);null!==e.asyncValidator?n.setAsyncValidators(Cu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i)}function m(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ia(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=ba(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r),t}function O(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ru(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Pu=class extends fs{constructor(e=null,t,r){super(Ps(t),kd(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ru(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Nu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Nu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ru(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const uy=new l.OlP("NgModelWithFormControlWarning"),H0={provide:Yr,useExisting:(0,l.Gpc)(()=>io)};let io=(()=>{class n extends Yr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return qo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jl(t.control||null,t,!1),function yp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Xl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Jl(r||null,t),(n=>n instanceof Pu)(i)&&(qo(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Re(n,e){g(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ot(n,e){return m(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g(this.form,this),this._oldForm&&m(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cr,10),l.Y36(cs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([H0]),l.qOj,l.TTD]}),n})();const wp={provide:$o,useExisting:(0,l.Gpc)(()=>Ko)};let Ko=(()=>{class n extends $o{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function xu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===va?t=u:function Vd(n){return Object.getPrototypeOf(n.constructor)===Uo}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Os(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ql(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr,13),l.Y36(cr,10),l.Y36(cs,10),l.Y36(Ui,10),l.Y36(uy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([wp]),l.qOj,l.TTD]}),n})(),kD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[j0]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kD]}),n})(),Dp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kD]}),n})();class FD extends fs{constructor(e,t,r){super(Ps(t),kd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hs(this,0,e),e.forEach((r,i)=>{Yl(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function LD(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let mx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return LD(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ta(i,u)}record(t,r=null){const i=this._reduceControls(t);return new mp(i,r)}control(t,r,i){let u={};return this.useNonNullable?(LD(r)?u=r:(u.validators=r,u.asyncValidators=i),new Pu(t,{...u,nonNullable:!0})):new Pu(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new FD(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Pu||t instanceof fs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Dp}),n})();class _y{}const so="*";function vy(n,e){return{type:7,name:n,definitions:e,options:{}}}function tE(n,e=null){return{type:4,styles:e,timings:n}}function ic(n,e=null){return{type:2,steps:n,options:e}}function jd(n){return{type:6,styles:n,offset:null}}function Ey(n,e,t){return{type:0,name:n,styles:e,options:t}}function wy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function iE(n){Promise.resolve().then(n)}class $d{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?iE(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function oE(n){return new l.vHH(3e3,!1)}function Cy(){return typeof window<"u"&&typeof window.document<"u"}function Gd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qo(n){switch(n.length){case 0:return new $d;case 1:return n[0];default:return new sE(n)}}function XD(n,e,t,r,i=new Map,u=new Map){const d=[],f=[];let y=-1,w=null;if(r.forEach(D=>{const C=D.get("offset"),V=C==y,H=V&&w||new Map;D.forEach((q,oe)=>{let me=oe,tt=q;if("offset"!==oe)switch(me=e.normalizePropertyName(me,d),tt){case"!":tt=i.get(oe);break;case so:tt=u.get(oe);break;default:tt=e.normalizeStyleValue(oe,me,tt,d)}H.set(me,tt)}),V||f.push(H),w=H,y=C}),d.length)throw function Tx(n){return new l.vHH(3502,!1)}();return f}function Ca(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&zd(t,"start",n)));break;case"done":n.onDone(()=>r(t&&zd(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&zd(t,"destroy",n)))}}function zd(n,e,t){const u=Ap(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function Ap(n,e,t,r,i="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!d}}function $i(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Sp(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ay=(n,e)=>!1,pE=(n,e,t)=>[],gE=null;function Sy(n){const e=n.parentNode||n.host;return e===gE?null:e}(Gd()||typeof Element<"u")&&(Cy()?(gE=(()=>document.documentElement)(),Ay=(n,e)=>{for(;e;){if(e===n)return!0;e=Sy(e)}return!1}):Ay=(n,e)=>n.contains(e),pE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Aa=null,Mp=!1;const _E=Ay,My=pE;let Sa=(()=>{class n{validateStyleProperty(t){return function mE(n){Aa||(Aa=function tT(){return typeof document<"u"?document.body:null}()||{},Mp=!!Aa.style&&"WebkitAppearance"in Aa.style);let e=!0;return Aa.style&&!function eT(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Aa.style,!e&&Mp&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Aa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return _E(t,r)}getParentElement(t){return Sy(t)}query(t,r,i){return My(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,d,f=[],y){return new $d(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xp=(()=>{class n{}return n.NOOP=new Sa,n})();const oc="ng-enter",Np="ng-leave",qd="ng-trigger",Zd=".ng-trigger",xy="ng-animating",Wd=".ng-animating";function ao(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ac(parseFloat(e[1]),e[2])}function ac(n,e){return"s"===e?1e3*n:n}function Fu(n,e,t){return n.hasOwnProperty("duration")?n:function wE(n,e,t){let i,u=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(oE()),{duration:0,delay:0,easing:""};i=ac(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=ac(parseFloat(y),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function yi(){return new l.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function Iy(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,oE())}return{duration:i,delay:u,easing:d}}(n,e,t)}function Lu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ny(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ma(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Py(n,e,t){return t?e+":"+t+";":""}function IE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Py(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Py(0,ks(t),n.style[t]));n.setAttribute("style",e)}function uo(n,e,t){n.style&&(e.forEach((r,i)=>{const u=ky(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),Gd()&&IE(n))}function xa(n,e){n.style&&(e.forEach((t,r)=>{const i=ky(r);n.style[i]=""}),Gd()&&IE(n))}function Vu(n){return Array.isArray(n)?1==n.length?n[0]:ic(n):n}const DE=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oy(n){let e=[];if("string"==typeof n){let t;for(;t=DE.exec(n);)e.push(t[1]);DE.lastIndex=0}return e}function Kd(n,e,t){const r=n.toString(),i=r.replace(DE,(u,d)=>{let f=e[d];return null==f&&(t.push(function by(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Yd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const rT=/-+([a-z0-9])/g;function ky(n){return n.replace(rT,(...e)=>e[1].toUpperCase())}function ks(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ii(n){return new l.vHH(3004,!1)}()}}function CE(n,e){return window.getComputedStyle(n)[e]}function SE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ME(n,e,t){if(":"==n[0]){const y=function aT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function sc(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function qD(n){return new l.vHH(3015,!1)}()),e;const i=r[1],u=r[2],d=r[3];e.push(xE(i,d));"<"==u[0]&&!("*"==i&&"*"==d)&&e.push(xE(d,i))}(r,t,e)):t.push(n),t}const Op=new Set(["true","1"]),Jd=new Set(["false","0"]);function xE(n,e){const t=Op.has(n)||Jd.has(n),r=Op.has(e)||Jd.has(e);return(i,u)=>{let d="*"==n||n==i,f="*"==e||e==u;return!d&&t&&"boolean"==typeof i&&(d=i?Op.has(n):Jd.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?Op.has(e):Jd.has(e)),d&&f}}const uT=new RegExp("s*:selfs*,?","g");function Ly(n,e,t,r){return new NE(n).build(e,t,r)}class NE{constructor(e){this._driver=e}build(e,t,r){const i=new cT(t);return this._resetContextStyleTimingState(i),Hi(this,Vu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function uE(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,u.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function UD(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{Oy(y).forEach(w=>{d.hasOwnProperty(w)||u.add(w)})})}),u.size&&(Yd(u.values()),t.errors.push(function BD(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hi(this,Vu(e.animation),t);return{type:1,matchers:SE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hi(this,r,t)),options:Bu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(d=>{t.currentTime=r;const f=Hi(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Bu(e.options)}}visitAnimate(e,t){const r=function Uy(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return PE(Fu(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=PE(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=Fu(t,e);return PE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:jd({});if(5==u.type)i=this.visitKeyframes(u,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=jd(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===so?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(Ny(f));let u=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!u))for(let y of f.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let C=!0;D&&(u!=i&&u>=D.startTime&&i<=D.endTime&&(t.errors.push(function cE(n,e,t,r,i){return new l.vHH(3010,!1)}()),C=!1),u=D.startTime),C&&w.set(y,{startTime:u,endTime:i}),t.options&&function bE(n,e,t){const r=e.params||{},i=Oy(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function aE(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function jD(){return new l.vHH(3011,!1)}()),r;let u=0;const d=[];let f=!1,y=!1,w=0;const D=e.steps.map(tt=>{const at=this._makeStyleAst(tt,t);let Nt=null!=at.offset?at.offset:function Vy(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),wt=0;return null!=Nt&&(u++,wt=at.offset=Nt),y=y||wt<0||wt>1,f=f||wt<w,w=wt,d.push(wt),at});y&&t.errors.push(function dE(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function $D(){return new l.vHH(3200,!1)}());const C=e.steps.length;let V=0;u>0&&u<C?t.errors.push(function HD(){return new l.vHH(3202,!1)}()):0==u&&(V=1/(C-1));const H=C-1,q=t.currentTime,oe=t.currentAnimateTimings,me=oe.duration;return D.forEach((tt,at)=>{const Nt=V>0?at==H?1:V*at:d[at],wt=Nt*me;t.currentTime=q+oe.delay+wt,oe.duration=wt,this._validateStyleAst(tt,t),tt.offset=Nt,r.styles.push(tt)}),r}visitReference(e,t){return{type:8,animation:Hi(this,Vu(e.animation),t),options:Bu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function RE(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uT,"")),n=n.replace(/@\*/g,Zd).replace(/@\w+/g,t=>Zd+"-"+t.slice(1)).replace(/:animating/g,Wd),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,$i(t.collectedStyles,t.currentQuerySelector,new Map);const f=Hi(this,Vu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Bu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function GD(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fu(e.timings,t.errors,!0);return{type:12,animation:Hi(this,Vu(e.animation),t),timings:r,options:null}}}class cT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bu(n){return n?(n=Lu(n)).params&&(n.params=function Uu(n){return n?Lu(n):null}(n.params)):n={},n}function PE(n,e,t){return{duration:n,delay:e,easing:t}}function OE(n,e,t,r,i,u,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:d,subTimeline:f}}class By{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Nx=new RegExp(":enter","g"),lc=new RegExp(":leave","g");function jy(n,e,t,r,i,u=new Map,d=new Map,f,y,w=[]){return(new FE).buildKeyframes(n,e,t,r,i,u,d,f,y,w)}class FE{buildKeyframes(e,t,r,i,u,d,f,y,w,D=[]){w=w||new By;const C=new $y(e,t,w,i,u,D,[]);C.options=y;const V=y.delay?ao(y.delay):0;C.currentTimeline.delayNextStep(V),C.currentTimeline.setStyles([d],null,C.errors,y),Hi(this,r,C);const H=C.timelines.filter(q=>q.containsAnimation());if(H.length&&f.size){let q;for(let oe=H.length-1;oe>=0;oe--){const me=H[oe];if(me.element===t){q=me;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,C.errors,y)}return H.length?H.map(q=>q.buildKeyframes()):[OE(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const d="number"==typeof u?u:ao(Kd(u,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?ao(r.duration):null,f=null!=r.delay?ao(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,f);u=Math.max(u,w.duration+w.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ju);const d=ao(u.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Hi(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?ao(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Hi(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Fu(t.params?Kd(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?ao(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ju);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const C=t.createSubContext(e.options,w);u&&C.delayNextStep(u),w===t.element&&(y=C.currentTimeline),Hi(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const C=D.currentTime;Hi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const ju={};class $y{constructor(e,t,r,i,u,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ju,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Xd(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ao(r.duration)),null!=r.delay&&(i.delay=ao(r.delay));const u=r.params;if(u){let d=i.params;d||(d=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=Kd(u[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new $y(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=ju,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new fT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Nx,"."+this._enterClassName)).replace(lc,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!u&&0==f.length&&d.push(function zD(n){return new l.vHH(3014,!1)}()),f}}class Xd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||so),this._currentKeyframe.set(t,so);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},d=function pT(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,so)}else Ma(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const w=Kd(y,u,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??so),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=Ma(f,new Map,this._backFill);w.forEach((D,C)=>{"!"===D?e.add(C):D===so&&t.add(C)}),r||w.set("offset",y/this.duration),i.push(w)});const u=e.size?Yd(e.values()):[],d=t.size?Yd(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return OE(this.element,i,u,d,this.duration,this.startTime,this.easing,!1)}}class fT extends Xd{constructor(e,t,r,i,u,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,f=t/d,y=Ma(e[0]);y.set("offset",0),u.push(y);const w=Ma(e[0]);w.set("offset",LE(f)),u.push(w);const D=e.length-1;for(let C=1;C<=D;C++){let V=Ma(e[C]);const H=V.get("offset");V.set("offset",LE((t+H*r)/d)),u.push(V)}r=d,t=0,i="",e=u}return OE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hy{}const mT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class VE extends Hy{normalizePropertyName(e,t){return ky(e)}normalizeStyleValue(e,t,r,i){let u="";const d=r.toString().trim();if(mT.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Hd(n,e){return new l.vHH(3005,!1)}())}return d+u}}function Gy(n,e,t,r,i,u,d,f,y,w,D,C,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:C,errors:V}}const eh={};class yT{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function _T(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,d,f,y,w,D){const C=[],V=this.ast.options&&this.ast.options.params||eh,q=this.buildStyles(r,f&&f.params||eh,C),oe=y&&y.params||eh,me=this.buildStyles(i,oe,C),tt=new Set,at=new Map,Nt=new Map,wt="void"===i,Bt={params:Px(oe,V),delay:this.ast.options?.delay},Zt=D?[]:jy(e,t,this.ast.animation,u,d,q,me,Bt,w,C);let wn=0;if(Zt.forEach(Il=>{wn=Math.max(Il.duration+Il.delay,wn)}),C.length)return Gy(t,this._triggerName,r,i,wt,q,me,[],[],at,Nt,wn,C);Zt.forEach(Il=>{const bl=Il.element,nO=$i(at,bl,new Set);Il.preStyleProps.forEach(Vf=>nO.add(Vf));const S0=$i(Nt,bl,new Set);Il.postStyleProps.forEach(Vf=>S0.add(Vf)),bl!==t&&tt.add(bl)});const es=Yd(tt.values());return Gy(t,this._triggerName,r,i,wt,q,me,Zt,es,at,Nt,wn)}}function Px(n,e){const t=Lu(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class cc{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Lu(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!==d&&(i[u]=d)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((d,f)=>{d&&(d=Kd(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(y,d)})}),r}}class jE{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new cc(i.style,i.options&&i.options.params||{},r))}),ps(this.states,"true","1"),ps(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yT(e,i,this.states))}),this.fallbackTransition=function kp(n,e,t){return new yT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ps(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $E=new By;class vT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=Ly(this._driver,t,r,[]);if(r.length)throw function Cx(n){return new l.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=XD(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let d;const f=new Map;if(u?(d=jy(this._driver,t,u,oc,Np,new Map,new Map,r,$E,i),d.forEach(D=>{const C=$i(f,D.element,new Map);D.postStyleProps.forEach(V=>C.set(V,null))})):(i.push(function hE(){return new l.vHH(3300,!1)}()),d=[]),i.length)throw function Ax(n){return new l.vHH(3504,!1)}();f.forEach((D,C)=>{D.forEach((V,H)=>{D.set(H,this._driver.computeStyle(C,H,so))})});const w=Qo(d.map(D=>{const C=f.get(D.element);return this._buildPlayer(D,new Map,C)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function oo(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=Ap(t,"","","");return Ca(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Fp="ng-animate-queued",th="ng-animate-disabled",GE=[],ET={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed";class nh{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function bT(n){return n??null}(r?e.value:e),r){const u=Lu(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const $u="void",rh=new nh($u);class kx{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Dy(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function Ty(n){return new l.vHH(3303,!1)}();if(!function Fx(n){return"start"==n||"done"==n}(r))throw function KD(n,e){return new l.vHH(3400,!1)}();const u=$i(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};u.push(d);const f=$i(this._engine.statesByElement,e,new Map);return f.has(t)||(Gi(e,qd),Gi(e,qd+"-"+t),f.set(t,rh)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function fE(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),d=new qy(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Gi(e,qd),Gi(e,qd+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new nh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=rh),w.value!==$u&&y.value===w.value){if(!function Vx(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,w.params)){const oe=[],me=u.matchStyles(y.value,y.params,oe),tt=u.matchStyles(w.value,w.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{xa(e,me),uo(e,tt)})}return}const V=$i(this._engine.playersByElement,e,[]);V.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let H=u.matchTransition(y.value,w.value,e,w.params),q=!1;if(!H){if(!i)return;H=u.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:w,player:d,isFallbackTransition:q}),q||(Gi(e,Fp),d.onStart(()=>{dc(e,Fp)})),d.onDone(()=>{let oe=this.players.indexOf(d);oe>=0&&this.players.splice(oe,1);const me=this._engine.playersByElement.get(e);if(me){let tt=me.indexOf(d);tt>=0&&me.splice(tt,1)}}),this.players.push(d),V.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zd,!0);r.forEach(i=>{if(i[_i])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const f=[];if(u.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,$u,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Qo(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const d=u.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||rh,D=new nh($u),C=new qy(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:D,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[_i];(!u||u===ET)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Gi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=Ap(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Ca(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class wT{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(ih(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ih(t))return;const u=t[_i];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gi(e,th)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dc(e,th))}removeNode(e,t,r,i){if(ih(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[_i]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return ih(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Zd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Wd,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_i];if(t&&t.setForRemoval){if(e[_i]=ET,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(th)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Gi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function YD(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new By,i=[],u=new Map,d=[],f=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(It=>{D.add(It);const Lt=this.driver.query(It,".ng-animate-queued",!0);for(let Wt=0;Wt<Lt.length;Wt++)D.add(Lt[Wt])});const C=this.bodyNode,V=Array.from(this.statesByElement.keys()),H=Zy(V,this.collectedEnterElements),q=new Map;let oe=0;H.forEach((It,Lt)=>{const Wt=oc+oe++;q.set(Lt,Wt),It.forEach(xn=>Gi(xn,Wt))});const me=[],tt=new Set,at=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Lt=this.collectedLeaveElements[It],Wt=Lt[_i];Wt&&Wt.setForRemoval&&(me.push(Lt),tt.add(Lt),Wt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(xn=>tt.add(xn)):at.add(Lt))}const Nt=new Map,wt=Zy(V,Array.from(tt));wt.forEach((It,Lt)=>{const Wt=Np+oe++;Nt.set(Lt,Wt),It.forEach(xn=>Gi(xn,Wt))}),e.push(()=>{H.forEach((It,Lt)=>{const Wt=q.get(Lt);It.forEach(xn=>dc(xn,Wt))}),wt.forEach((It,Lt)=>{const Wt=Nt.get(Lt);It.forEach(xn=>dc(xn,Wt))}),me.forEach(It=>{this.processLeaveNode(It)})});const Bt=[],Zt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(Wt=>{const xn=Wt.player,fi=Wt.element;if(Bt.push(xn),this.collectedEnterElements.length){const Ni=fi[_i];if(Ni&&Ni.setForMove){if(Ni.previousTriggersValues&&Ni.previousTriggersValues.has(Wt.triggerName)){const Uf=Ni.previousTriggersValues.get(Wt.triggerName),wo=this.statesByElement.get(Wt.element);if(wo&&wo.has(Wt.triggerName)){const dD=wo.get(Wt.triggerName);dD.value=Uf,wo.set(Wt.triggerName,dD)}}return void xn.destroy()}}const eu=!C||!this.driver.containsElement(C,fi),$s=Nt.get(fi),nd=q.get(fi),Ir=this._buildInstruction(Wt,r,nd,$s,eu);if(Ir.errors&&Ir.errors.length)return void Zt.push(Ir);if(eu)return xn.onStart(()=>xa(fi,Ir.fromStyles)),xn.onDestroy(()=>uo(fi,Ir.toStyles)),void i.push(xn);if(Wt.isFallbackTransition)return xn.onStart(()=>xa(fi,Ir.fromStyles)),xn.onDestroy(()=>uo(fi,Ir.toStyles)),void i.push(xn);const sO=[];Ir.timelines.forEach(Ni=>{Ni.stretchStartingKeyframe=!0,this.disabledNodes.has(Ni.element)||sO.push(Ni)}),Ir.timelines=sO,r.append(fi,Ir.timelines),d.push({instruction:Ir,player:xn,element:fi}),Ir.queriedElements.forEach(Ni=>$i(f,Ni,[]).push(xn)),Ir.preStyleProps.forEach((Ni,Uf)=>{if(Ni.size){let wo=y.get(Uf);wo||y.set(Uf,wo=new Set),Ni.forEach((dD,ux)=>wo.add(ux))}}),Ir.postStyleProps.forEach((Ni,Uf)=>{let wo=w.get(Uf);wo||w.set(Uf,wo=new Set),Ni.forEach((dD,ux)=>wo.add(ux))})});if(Zt.length){const It=[];Zt.forEach(Lt=>{It.push(function QD(n,e){return new l.vHH(3505,!1)}())}),Bt.forEach(Lt=>Lt.destroy()),this.reportError(It)}const wn=new Map,es=new Map;d.forEach(It=>{const Lt=It.element;r.has(Lt)&&(es.set(Lt,Lt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,wn))}),i.forEach(It=>{const Lt=It.element;this._getPreviousPlayers(Lt,!1,It.namespaceId,It.triggerName,null).forEach(xn=>{$i(wn,Lt,[]).push(xn),xn.destroy()})});const Il=me.filter(It=>CT(It,y,w)),bl=new Map;DT(bl,this.driver,at,w,so).forEach(It=>{CT(It,y,w)&&Il.push(It)});const S0=new Map;H.forEach((It,Lt)=>{DT(S0,this.driver,new Set(It),y,"!")}),Il.forEach(It=>{const Lt=bl.get(It),Wt=S0.get(It);bl.set(It,new Map([...Array.from(Lt?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const Vf=[],rO=[],iO={};d.forEach(It=>{const{element:Lt,player:Wt,instruction:xn}=It;if(r.has(Lt)){if(D.has(Lt))return Wt.onDestroy(()=>uo(Lt,xn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(xn.totalTime),void i.push(Wt);let fi=iO;if(es.size>1){let $s=Lt;const nd=[];for(;$s=$s.parentNode;){const Ir=es.get($s);if(Ir){fi=Ir;break}nd.push($s)}nd.forEach(Ir=>es.set(Ir,fi))}const eu=this._buildAnimation(Wt.namespaceId,xn,wn,u,S0,bl);if(Wt.setRealPlayer(eu),fi===iO)Vf.push(Wt);else{const $s=this.playersByElement.get(fi);$s&&$s.length&&(Wt.parentPlayer=Qo($s)),i.push(Wt)}}else xa(Lt,xn.fromStyles),Wt.onDestroy(()=>uo(Lt,xn.toStyles)),rO.push(Wt),D.has(Lt)&&i.push(Wt)}),rO.forEach(It=>{const Lt=u.get(It.element);if(Lt&&Lt.length){const Wt=Qo(Lt);It.setRealPlayer(Wt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<me.length;It++){const Lt=me[It],Wt=Lt[_i];if(dc(Lt,Np),Wt&&Wt.hasAnimation)continue;let xn=[];if(f.size){let eu=f.get(Lt);eu&&eu.length&&xn.push(...eu);let $s=this.driver.query(Lt,Wd,!0);for(let nd=0;nd<$s.length;nd++){let Ir=f.get($s[nd]);Ir&&Ir.length&&xn.push(...Ir)}}const fi=xn.filter(eu=>!eu.destroyed);fi.length?Wy(this,Lt,fi):this.processLeaveNode(Lt)}return me.length=0,Vf.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Lt=this.players.indexOf(It);this.players.splice(Lt,1)}),It.play()}),Vf}elementContainsData(e,t){let r=!1;const i=t[_i];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==$u;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==u,C=$i(r,w,[]);this._getPreviousPlayers(w,D,d,f,t.toState).forEach(H=>{const q=H.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),H.destroy(),C.push(H)})}xa(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,d){const f=t.triggerName,y=t.element,w=[],D=new Set,C=new Set,V=t.timelines.map(q=>{const oe=q.element;D.add(oe);const me=oe[_i];if(me&&me.removedBeforeQueried)return new $d(q.duration,q.delay);const tt=oe!==y,at=function Lx(n){const e=[];return TT(n,e),e}((r.get(oe)||GE).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===oe),Nt=u.get(oe),wt=d.get(oe),Bt=XD(0,this._normalizer,0,q.keyframes,Nt,wt),Zt=this._buildPlayer(q,Bt,at);if(q.subTimeline&&i&&C.add(oe),tt){const wn=new qy(e,f,oe);wn.setRealPlayer(Zt),w.push(wn)}return Zt});w.forEach(q=>{$i(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function IT(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,q.element,q))}),D.forEach(q=>Gi(q,xy));const H=Qo(V);return H.onDestroy(()=>{D.forEach(q=>dc(q,xy)),uo(y,t.toStyles)}),C.forEach(q=>{$i(i,q,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $d(e.duration,e.delay)}}class qy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $d,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ca(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$i(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ih(n){return n&&1===n.nodeType}function zE(n,e){const t=n.style.display;return n.style.display=e??"none",t}function DT(n,e,t,r,i){const u=[];t.forEach(y=>u.push(zE(y)));const d=[];r.forEach((y,w)=>{const D=new Map;y.forEach(C=>{const V=e.computeStyle(w,C,i);D.set(C,V),(!V||0==V.length)&&(w[_i]=Lp,d.push(w))}),n.set(w,D)});let f=0;return t.forEach(y=>zE(y,u[f++])),d}function Zy(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function d(f){if(!f)return 1;let y=u.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),u.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Gi(n,e){n.classList?.add(e)}function dc(n,e){n.classList?.remove(e)}function Wy(n,e,t){Qo(t).onDone(()=>n.processLeaveNode(e))}function TT(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof sE?TT(r.players,e):e.push(r)}}function CT(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class Ky{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new wT(e,t,r),this._timelineEngine=new vT(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],D=Ly(this._driver,u,y,[]);if(y.length)throw function WD(n,e){return new l.vHH(3404,!1)}();f=function BE(n,e,t){return new jE(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,d]=Sp(r);this._timelineEngine.command(u,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[d,f]=Sp(r);return this._timelineEngine.listen(d,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bx=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&uo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uo(this._element,this._initialStyles),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),uo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qE(n){let e=null;return n.forEach((t,r)=>{(function jx(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class AT{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:CE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Na{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _E(e,t)}getParentElement(e){return Sy(e)}query(e,t,r){return My(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const w=new Map,D=d.filter(H=>H instanceof AT);(function iT(n,e){return 0===n||0===e})(r,i)&&D.forEach(H=>{H.currentSnapshot.forEach((q,oe)=>w.set(oe,q))});let C=function Ry(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ny(e)):[]}(t).map(H=>Ma(H));C=function TE(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,d)=>{r.has(d)||i.push(d),r.set(d,u)}),i.length)for(let u=1;u<e.length;u++){let d=e[u];i.forEach(f=>d.set(f,CE(n,f)))}}return e}(e,C,w);const V=function Ux(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qE(e[0]),e.length>1&&(r=qE(e[e.length-1]))):e instanceof Map&&(t=qE(e)),t||r?new Bx(n,t,r):null}(e,C);return new AT(e,C,y,V)}}let Yy=(()=>{class n extends _y{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ic(t):t;return Vp(this._renderer,null,r,"register",[i]),new ST(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ST extends class eE{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ZE(this._id,e,t||{},this._renderer)}}class ZE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Vp(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vp(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Up="@.disabled";let MT=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const f=d?.parentNode(u);f&&d.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(u);return D||(D=new Xo("",u,this.engine),this._rendererCache.set(u,D)),D}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(d,f,t,D.name,D)};return r.data.animation.forEach(y),new WE(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,f]=u;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Ky),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Up?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class WE extends Xo{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Up?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function xT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),d="";return"@"!=u.charAt(0)&&([u,d]=function NT(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let KE=(()=>{class n extends Ky{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(xp),l.LFG(Hy),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=[{provide:_y,useClass:Yy},{provide:Hy,useFactory:function RT(){return new VE}},{provide:Ky,useClass:KE},{provide:l.FYo,useFactory:function PT(n,e,t){return new MT(n,e,t)},deps:[_d,Ky,l.R0b]}],Ra=[{provide:xp,useFactory:()=>new Na},{provide:l.QbO,useValue:"BrowserAnimations"},...oh],Bp=[{provide:xp,useClass:Sa},{provide:l.QbO,useValue:"NoopAnimations"},...oh];let hc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Bp:Ra}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Ra,imports:[Oo]}),n})();function mt(...n){const e=(0,Vo.yG)(n);return(0,Sn.D)(n,e)}var kr=R(7579);class zi extends kr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const fc=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ah=R(4671),$x=R(9672);function JE(...n){const e=(0,Vo.yG)(n),t=(0,Vo.jO)(n),{args:r,keys:i}=wu(n);if(0===r.length)return(0,Sn.D)([],e);const u=new Wr.y(function XE(n,e,t=ah.y){return r=>{ew(e,()=>{const{length:i}=n,u=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)ew(e,()=>{const w=(0,Sn.D)(n[y],e);let D=!1;w.subscribe((0,lr.x)(r,C=>{u[y]=C,D||(D=!0,f--),f||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>ri(i,d):ah.y));return t?u.pipe(Dd(t)):u}function ew(n,e,t){n?(0,$x.f)(t,n,e):e()}var pc=R(8189);function Jy(...n){return function tw(){return(0,pc.J)(1)}()((0,Sn.D)(n,(0,Vo.yG)(n)))}function Ai(n){return new Wr.y(e=>{(0,Vi.Xf)(n()).subscribe(e)})}var nw=R(9635),Xy=R(576);function jp(n,e){const t=(0,Xy.m)(n)?n:()=>n,r=i=>i.error(t());return new Wr.y(e?i=>e.schedule(r,0,i):r)}var Pa=R(515),$p=R(727),Qr=R(4482);function e_(){return(0,Qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rw extends Wr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $p.w0;const t=this.getSubject();e.add(this.source.subscribe((0,lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$p.w0.EMPTY)}return e}refCount(){return e_()(this)}}function nr(n,e){return(0,Qr.e)((t,r)=>{let i=null,u=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,lr.x)(r,y=>{i?.unsubscribe();let w=0;const D=u++;(0,Vi.Xf)(n(y,D)).subscribe(i=(0,lr.x)(r,C=>r.next(e?e(y,C,D,w++):C),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function gc(n){return n<=0?()=>Pa.E:(0,Qr.e)((e,t)=>{let r=0;e.subscribe((0,lr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uh(...n){const e=(0,Vo.yG)(n);return(0,Qr.e)((t,r)=>{(e?Jy(n,t,e):Jy(n,t)).subscribe(r)})}function Si(n,e){return(0,Qr.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var si=R(5577);function Hp(n){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function t_(n=iw){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function iw(){return new fc}function ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Si((i,u)=>n(i,u,r)):ah.y,gc(1),t?Hp(e):t_(()=>new fc))}function oi(n,e){return(0,Xy.m)(e)?(0,si.z)(n,e,1):(0,si.z)(n,1)}var $r=R(8505);function Oa(n){return(0,Qr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,lr.x)(t,void 0,void 0,d=>{u=(0,Vi.Xf)(n(d,Oa(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function kT(n,e,t,r,i){return(u,d)=>{let f=t,y=e,w=0;u.subscribe((0,lr.x)(d,D=>{const C=w++;y=f?n(y,D,C):(f=!0,D),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function Gp(n,e){return(0,Qr.e)(kT(n,e,arguments.length>=2,!0))}function zp(n){return n<=0?()=>Pa.E:(0,Qr.e)((e,t)=>{let r=[];e.subscribe((0,lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Si((i,u)=>n(i,u,r)):ah.y,zp(1),t?Hp(e):t_(()=>new fc))}function lh(n){return(0,Qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const an="primary",ch=Symbol("RouteTitle");class qp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ka(n){return new qp(n)}function Zp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],f=n[u];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!VT(n[i],e[i]))return!1;return!0}function VT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function n_(n){return Array.prototype.concat.apply([],n)}function r_(n){return n.length>0?n[n.length-1]:null}function Hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function lo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):mt(n)}const Kp={exact:function s_(n,e,t){if(!Hu(n.segments,e.segments)||!Yp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!s_(n.children[r],e.children[r],t))return!1;return!0},subset:aw},mc={exact:function i_(n,e){return gs(n,e)},subset:function BT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VT(n[t],e[t]))},ignored:()=>!0};function ow(n,e,t){return Kp[t.paths](n.root,e.root,t.matrixParams)&&mc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function aw(n,e,t){return yc(n,e,e.segments,t)}function yc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Hu(i,t)||e.hasChildren()||!Yp(i,t,r))}if(n.segments.length===t.length){if(!Hu(n.segments,t)||!Yp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!aw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Hu(n.segments,i)&&Yp(n.segments,i,r)&&n.children[an])&&yc(n.children[an],e,u,r)}}function Yp(n,e,t){return e.every((r,i)=>mc[t](n[i].parameters,r.parameters))}class _c{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return HT.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vc(this)}}class Qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return Fa(this)}}function Hu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let o_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new dh},providedIn:"root"}),n})();class dh{parse(e){const t=new ai(e);return new _c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hh(e.root,!0)}`,r=function ph(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Jp(t)}=${Jp(i)}`).join("&"):`${Jp(t)}=${Jp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function GT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const HT=new dh;function vc(n){return n.segments.map(e=>Fa(e)).join("/")}function hh(n,e){if(!n.hasChildren())return vc(n);if(e){const t=n.children[an]?hh(n.children[an],!1):"",r=[];return Hr(n.children,(i,u)=>{u!==an&&r.push(`${u}:${hh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $T(n,e){let t=[];return Hr(n.children,(r,i)=>{i===an&&(t=t.concat(e(r,i)))}),Hr(n.children,(r,i)=>{i!==an&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===an?[hh(n.children[an],!1)]:[`${i}:${hh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${vc(n)}/${t[0]}`:`${vc(n)}/(${t.join("//")})`}}function uw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jp(n){return uw(n).replace(/%3B/gi,";")}function a_(n){return uw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xp(n){return decodeURIComponent(n)}function fh(n){return Xp(n.replace(/\+/g,"%20"))}function Fa(n){return`${a_(n.path)}${function Gx(n){return Object.keys(n).map(e=>`;${a_(e)}=${a_(n[e])}`).join("")}(n.parameters)}`}const zT=/^[^\/()?;=#]+/;function eg(n){const e=n.match(zT);return e?e[0]:""}const u_=/^[^=?&#]+/,co=/^[^&#]+/;class ai{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[an]=new ln(e,t)),r}parseSegment(){const e=eg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Qp(Xp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eg(this.remaining);i&&(r=i,this.capture(r))}e[Xp(t)]=Xp(r)}parseQueryParam(e){const t=function qT(n){const e=n.match(u_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function gh(n){const e=n.match(co);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=fh(t),u=fh(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=an);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[an]:new ln([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function ta(n){return n.segments.length>0?new ln([],{[an]:n}):n}function Gu(n){const e={};for(const r of Object.keys(n.children)){const u=Gu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ms(n){if(1===n.numberOfChildren&&n.children[an]){const e=n.children[an];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}function na(n){return n instanceof _c}function Ic(n,e,t,r,i){if(0===t.length)return Ls(e.root,e.root,e.root,r,i);const u=function c_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new l_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Hr(u.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new l_(t,e,r)}(t);return u.toRoot()?Ls(e.root,e.root,new ln([],{}),r,i):function d(y){const w=function cw(n,e,t,r){if(n.isAbsolute)return new qu(e.root,!0,0);if(-1===r)return new qu(t,t===e.root,0);return function d_(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new qu(r,!1,i-u)}(t,r+(ho(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),D=w.processChildren?bc(w.segmentGroup,w.index,u.commands):tg(w.segmentGroup,w.index,u.commands);return Ls(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function ho(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fo(n){return"object"==typeof n&&null!=n&&n.outlets}function Ls(n,e,t,r,i){let d,u={};r&&Hr(r,(y,w)=>{u[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=n===e?t:zu(n,e,t);const f=ta(Gu(d));return new _c(f,u,i)}function zu(n,e,t){const r={};return Hr(n.children,(i,u)=>{r[u]=i===e?t:zu(i,e,t)}),new ln(n.segments,r)}class l_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ho(r[0]))throw new l.vHH(4003,!1);const i=r.find(fo);if(i&&i!==r_(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tg(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return bc(n,e,t);const r=function ZT(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],f=t[r];if(fo(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!pw(y,w,d))return u;r+=2}else{if(!pw(y,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ln(n.segments.slice(0,r.pathIndex),{});return u.children[an]=new ln(n.segments.slice(r.pathIndex),n.children),bc(u,0,i)}return r.match&&0===i.length?new ln(n.segments,{}):r.match&&!n.hasChildren()?h_(n,e,t):r.match?bc(n,0,i):h_(n,e,t)}function bc(n,e,t){if(0===t.length)return new ln(n.segments,{});{const r=function dw(n){return fo(n[0])?n[0].outlets:{[an]:n}}(t),i={};return Hr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=tg(n.children[d],e,u))}),Hr(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new ln(n.segments,i)}}function h_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(fo(u)){const y=hw(u.outlets);return new ln(r,y)}if(0===i&&ho(t[0])){r.push(new Qp(n.segments[e].path,fw(t[0]))),i++;continue}const d=fo(u)?u.outlets[an]:`${u}`,f=i<t.length-1?t[i+1]:null;d&&f&&ho(f)?(r.push(new Qp(d,fw(f))),i+=2):(r.push(new Qp(d,{})),i++)}return new ln(r,{})}function hw(n){const e={};return Hr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=h_(new ln([],{}),0,t))}),e}function fw(n){const e={};return Hr(n,(t,r)=>e[r]=`${t}`),e}function pw(n,e,t){return n==t.path&&gs(e,t.parameters)}class Vs{constructor(e,t){this.id=e,this.url=t}}class yh extends Vs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zu extends Vs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wu extends Vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _h extends Vs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class f_ extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WT extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ng extends Vs{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rg extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gw extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _w{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class y_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ig(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(t=>t.value)}}function ig(n,e){if(n===e.value)return e;for(const t of e.children){const r=ig(n,t);if(r)return r}return null}function sg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sg(n,t);if(r.length)return r.unshift(e),r}return[]}class ra{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ww extends y_{constructor(e,t){super(e),this.snapshot=t,og(this,e)}toString(){return this.snapshot.toString()}}function __(n,e){const t=function v_(n,e){const d=new vh([],{},{},"",{},an,e,null,n.root,-1,{});return new w_("",new ra(d,[]))}(n,e),r=new zi([new Qp("",{})]),i=new zi({}),u=new zi({}),d=new zi({}),f=new zi(""),y=new Va(r,i,d,f,u,an,e,t.root);return y.snapshot=t.root,new ww(new ra(y,[]),t)}class Va{constructor(e,t,r,i,u,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,Ft.U)(w=>w[ch]))??mt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(e=>ka(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(e=>ka(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Iw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vh{constructor(e,t,r,i,u,d,f,y,w,D,C,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.[ch],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=V??D,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w_ extends y_{constructor(e,t){super(t),this.url=e,og(this,t)}toString(){return I_(this._root)}}function og(n,e){e.value._routerState=n,e.children.forEach(t=>og(n,t))}function I_(n){const e=n.children.length>0?` { ${n.children.map(I_).join(", ")} } `:"";return`${n.value}${e}`}function ag(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function Hx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bw(n,e){const t=gs(n.params,e.params)&&function jT(n,e){return Hu(n,e)&&n.every((t,r)=>gs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bw(n.parent,e.parent))}function Eh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Dw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Eh(n,r,i);return Eh(n,r)})}(n,e,t);return new ra(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Eh(n,f)),d}}const r=function YT(n){return new Va(new zi(n.url),new zi(n.params),new zi(n.queryParams),new zi(n.fragment),new zi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Eh(n,u));return new ra(r,i)}}const yr="ngNavigationCancelingError";function b_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Tw(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Tw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[yr]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Cw(n){return D_(n)&&na(n.url)}function D_(n){return n&&n[yr]}class QT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tc,this.attachRef=null}}let Tc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new QT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wh=!1;let Ua=(()=>{class n{constructor(t,r,i,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||an,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,wh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,wh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,wh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,wh);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new JT(t,f,i.injector);if(r&&function XT(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Tc),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class JT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Va?this.route:e===Tc?this.childContexts:this.parent.get(e,t)}}let Ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ua],encapsulation:2}),n})();function Aw(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qi(n){const e=n.children&&n.children.map(qi),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=Ih),t}function dr(n){return n.outlet||an}function T_(n,e){const t=n.filter(r=>dr(r)===e);return t.push(...n.filter(r=>dr(r)!==e)),t}function Cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class rC{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ag(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),Hr(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Dc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Dc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new m_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new _w(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(ag(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),ag(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=Cc(i.snapshot),y=f?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Nw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ug{constructor(e,t){this.component=e,this.route=t}}function C_(n,e,t){const r=n._root;return Sc(r,e?e._root:null,t,[r.value])}function Ac(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Dc(e);return n.children.forEach(d=>{(function iC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function Rw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hu(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bw(n,e)||!gs(n.queryParams,e.queryParams);default:return!bw(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Nw(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Sc(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ug(f.outlet.component,d))}else d&&Mc(e,f,i),i.canActivateChecks.push(new Nw(r)),Sc(n,null,u.component?f?f.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),Hr(u,(d,f)=>Mc(d,t.getContext(f),i)),i}function Mc(n,e,t){const r=Dc(n),i=n.value;Hr(r,(u,d)=>{Mc(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ug(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ba(n){return"function"==typeof n}function cg(n){return n instanceof fc||"EmptyError"===n?.name}const Dh=Symbol("INITIAL_VALUE");function Ku(){return nr(n=>JE(n.map(e=>e.pipe(gc(1),uh(Dh)))).pipe((0,Ft.U)(e=>{for(const t of e)if(!0!==t){if(t===Dh)return Dh;if(!1===t||t instanceof _c)return t}return!0}),Si(e=>e!==Dh),gc(1)))}function Bw(n){return(0,nw.z)((0,$r.b)(e=>{if(na(e))throw b_(0,e)}),(0,Ft.U)(e=>!0===e))}const A_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jw(n,e,t,r,i){const u=S_(n,e,t);return u.matched?function pC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(d=>{const f=Ac(d,n);return lo(function Fw(n){return n&&Ba(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ku(),Bw()):mt(!0)}(r=Aw(e,r),e,t).pipe((0,Ft.U)(d=>!0===d?u:{...A_})):mt(u)}function S_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...A_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zp)(t,n,e);if(!i)return{...A_};const u={};Hr(i.posParams,(f,y)=>{u[y]=f.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function dg(n,e,t,r,i="corrected"){if(t.length>0&&function yC(n,e,t){return t.some(r=>hg(n,e,r)&&dr(r)!==an)}(n,t,r)){const d=new ln(e,function mC(n,e,t,r){const i={};i[an]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&dr(u)!==an){const d=new ln([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[dr(u)]=d}return i}(n,e,r,new ln(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function _C(n,e,t){return t.some(r=>hg(n,e,r))}(n,t,r)){const d=new ln(n.segments,function gC(n,e,t,r,i,u){const d={};for(const f of r)if(hg(n,t,f)&&!i[dr(f)]){const y=new ln([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[dr(f)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new ln(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function hg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function M_(n,e,t,r){return!!(dr(n)===r||r!==an&&hg(e,t,n))&&("**"===n.path||S_(e,n,t).matched)}function x_(n,e,t){return 0===e.length&&!n.children[t]}const Th=!1;class Ch{constructor(e){this.segmentGroup=e||null}}class N_{constructor(e){this.urlTree=e}}function xc(n){return jp(new Ch(n))}function R_(n){return jp(new N_(n))}class P_{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=dg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ln(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,an).pipe((0,Ft.U)(u=>this.createUrlTree(Gu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(u=>{if(u instanceof N_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ch?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,an).pipe((0,Ft.U)(i=>this.createUrlTree(Gu(i),e.queryParams,e.fragment))).pipe(Oa(i=>{throw i instanceof Ch?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Th)}createUrlTree(e,t,r){const i=ta(e);return new _c(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ft.U)(u=>new ln([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Sn.D)(i).pipe(oi(u=>{const d=r.children[u],f=T_(t,u);return this.expandSegmentGroup(e,f,d,u).pipe((0,Ft.U)(y=>({segment:y,outlet:u})))}),Gp((u,d)=>(u[d.outlet]=d.segment,u),{}),sw())}expandSegment(e,t,r,i,u,d){return(0,Sn.D)(r).pipe(oi(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,d).pipe(Oa(w=>{if(w instanceof Ch)return mt(null);throw w}))),ea(f=>!!f),Oa((f,y)=>{if(cg(f))return x_(t,i,u)?mt(new ln([],{})):xc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,d,f){return M_(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):xc(t):xc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R_(u):this.lineralizeSegments(r,u).pipe((0,si.z)(d=>{const f=new ln(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=S_(t,i,u);if(!f)return xc(t);const C=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?R_(C):this.lineralizeSegments(i,C).pipe((0,si.z)(V=>this.expandSegment(e,t,r,V.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=Aw(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ft.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new ln(i,{})))):mt(new ln(i,{}))):jw(t,r,i,e).pipe(nr(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,si.z)(D=>{const C=D.injector??e,V=D.routes,{segmentGroup:H,slicedSegments:q}=dg(t,f,y,V),oe=new ln(H.segments,H.children);if(0===q.length&&oe.hasChildren())return this.expandChildren(C,V,oe).pipe((0,Ft.U)(Nt=>new ln(f,Nt)));if(0===V.length&&0===q.length)return mt(new ln(f,{}));const me=dr(r)===u;return this.expandSegment(C,oe,V,q,me?an:u,!0).pipe((0,Ft.U)(at=>new ln(f.concat(at.segments),at.children)))})):xc(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function fC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(d=>{const f=Ac(d,n);return lo(function Pw(n){return n&&Ba(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ku(),Bw())}(e,t,r).pipe((0,si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,$r.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Hw(n){return jp(Tw(Th,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[an])return jp(new l.vHH(4e3,Th));i=i.children[an]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new _c(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return Hr(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new ln(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Th);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vC{}class O_{constructor(e,t,r,i,u,d,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=dg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,an).pipe((0,Ft.U)(t=>{if(null===t)return null;const r=new vh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ra(r,t),u=new w_(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=E_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(oi(i=>{const u=r.children[i],d=T_(t,i);return this.processSegmentGroup(e,d,u,i)}),Gp((i,u)=>i&&u?(i.push(...u),i):null),function FT(n,e=!1){return(0,Qr.e)((t,r)=>{let i=0;t.subscribe((0,lr.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),Hp(null),sw(),(0,Ft.U)(i=>{if(null===i)return null;const u=EC(i);return function qx(n){n.sort((e,t)=>e.value.outlet===an?-1:t.value.outlet===an?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Sn.D)(t).pipe(oi(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),ea(d=>!!d),Oa(d=>{if(cg(d))return x_(r,i,u)?mt([]):mt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!M_(t,r,i,u))return mt(null);let d;if("**"===t.path){const f=i.length>0?r_(i).parameters:{},y=Ww(r)+i.length;d=mt({snapshot:new vh(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qu(t),dr(t),t.component??t._loadedComponent??null,t,Zw(r),y,Yw(t),y),consumedSegments:[],remainingSegments:[]})}else d=jw(r,t,i,e).pipe((0,Ft.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!f)return null;const C=Ww(r)+y.length;return{snapshot:new vh(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qu(t),dr(t),t.component??t._loadedComponent??null,t,Zw(r),C,Yw(t),C),consumedSegments:y,remainingSegments:w}}));return d.pipe(nr(f=>{if(null===f)return mt(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const C=t._loadedInjector??e,V=function zw(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:q}=dg(r,w,D,V.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===q.length&&H.hasChildren())return this.processChildren(C,V,H).pipe((0,Ft.U)(me=>null===me?null:[new ra(y,me)]));if(0===V.length&&0===q.length)return mt([new ra(y,[])]);const oe=dr(t)===u;return this.processSegment(C,V,H,q,oe?an:u).pipe((0,Ft.U)(me=>null===me?null:[new ra(y,me)]))}))}}function qw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EC(n){const e=[],t=new Set;for(const r of n){if(!qw(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=EC(r.children);e.push(new ra(r.value,i))}return e.filter(r=>!t.has(r))}function Zw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ww(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Qu(n){return n.data||{}}function Yw(n){return n.resolve||{}}function Xw(n){return"string"==typeof n.title||null===n.title}function mg(n){return nr(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,Ft.U)(()=>e)):mt(e)})}let k_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===an);return r}getResolvedTitleForRoute(t){return t.data[ch]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(F_)},providedIn:"root"}),n})(),F_=(()=>{class n extends k_{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IC{}class DC extends class bC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yg=new l.OlP("",{providedIn:"root",factory:()=>({})}),L_=new l.OlP("ROUTES");let Rc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=lo(t.loadComponent()).pipe((0,$r.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),lh(()=>{this.componentLoaders.delete(t)})),i=new rw(r,()=>new kr.x).pipe(e_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=n_(y.get(L_,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(qi),injector:y}}),lh(()=>{this.childrenLoaders.delete(r)})),d=new rw(u,()=>new kr.x).pipe(e_());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return lo(t()).pipe((0,si.z)(r=>r instanceof l.YKP||Array.isArray(r)?mt(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tI{}class nI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function TC(n){throw n}function Mh(n,e,t){return e.parse("/")}const xh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function rI(){const n=(0,l.f3M)(o_),e=(0,l.f3M)(Tc),t=(0,l.f3M)(Fe),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),u=(0,l.f3M)(L_,{optional:!0})??[],d=(0,l.f3M)(yg,{optional:!0})??{},f=(0,l.f3M)(F_),y=(0,l.f3M)(k_,{optional:!0}),w=(0,l.f3M)(tI,{optional:!0}),D=(0,l.f3M)(IC,{optional:!0}),C=new Mr(null,n,e,t,r,i,n_(u));return w&&(C.urlHandlingStrategy=w),D&&(C.routeReuseStrategy=D),C.titleStrategy=y??f,function AC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),C}let Mr=(()=>{class n{constructor(t,r,i,u,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kr.x,this.errorHandler=TC,this.malformedUriErrorHandler=Mh,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mt(void 0),this.urlHandlingStrategy=new nI,this.routeReuseStrategy=new DC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Rc),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new p_(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new mw(V)),this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const C=d.get(l.R0b);this.isNgZoneEnabled=C instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Wp(){return new _c(new ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=__(this.currentUrlTree,this.rootComponentType),this.transitions=new zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Si(i=>0!==i.id),(0,Ft.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),nr(i=>{let u=!1,d=!1;return mt(i).pipe((0,$r.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nr(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return V_(f.source)&&(this.browserUrlTree=f.extractedUrl),mt(f).pipe(nr(C=>{const V=this.transitions.getValue();return r.next(new yh(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),V!==this.transitions.getValue()?Pa.E:Promise.resolve(C)}),function Yu(n,e,t,r){return nr(i=>function Gw(n,e,t,r,i){return new P_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ft.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$r.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function pg(n,e,t,r,i,u){return(0,si.z)(d=>function zx(n,e,t,r,i,u,d="emptyOnly",f="legacy"){return new O_(n,e,t,r,i,d,f,u).recognize().pipe(nr(y=>null===y?function Nc(n){return new Wr.y(e=>e.error(n))}(new vC):mt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,u).pipe((0,Ft.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$r.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(H,C)}this.browserUrlTree=C.urlAfterRedirects}const V=new f_(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:q,restoredState:oe,extras:me}=f,tt=new yh(V,this.serializeUrl(H),q,oe);r.next(tt);const at=__(H,this.rootComponentType).snapshot;return mt(i={...f,targetSnapshot:at,urlAfterRedirects:H,extras:{...me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Pa.E}),(0,$r.b)(f=>{const y=new WT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Ft.U)(f=>i={...f,guards:C_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Vw(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?mt({...t,guardsResult:!0}):function Uw(n,e,t,r){return(0,Sn.D)(n).pipe((0,si.z)(i=>function hC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?mt(u.map(f=>{const y=Cc(e)??i,w=Ac(f,y);return lo(function lg(n){return n&&Ba(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(ea())})).pipe(Ku()):mt(!0)}(i.component,i.route,t,e,r)),ea(i=>!0!==i,!0))}(d,r,i,n).pipe((0,si.z)(f=>f&&function sC(n){return"boolean"==typeof n}(f)?function aC(n,e,t,r){return(0,Sn.D)(e).pipe(oi(i=>Jy(function lC(n,e){return null!==n&&e&&e(new yw(n)),mt(!0)}(i.route.parent,r),function uC(n,e){return null!==n&&e&&e(new g_(n)),mt(!0)}(i.route,r),function dC(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function bh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ai(()=>mt(d.guards.map(y=>{const w=Cc(d.node)??t,D=Ac(y,w);return lo(function kw(n){return n&&Ba(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(ea())})).pipe(Ku())));return mt(u).pipe(Ku())}(n,i.path,t),function cC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(u=>Ai(()=>{const d=Cc(e)??t,f=Ac(u,d);return lo(function Ow(n){return n&&Ba(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(ea())}));return mt(i).pipe(Ku())}(n,i.route,t))),ea(i=>!0!==i,!0))}(r,u,n,e):mt(f)),(0,Ft.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,$r.b)(f=>{if(i.guardsResult=f.guardsResult,na(f.guardsResult))throw b_(0,f.guardsResult);const y=new ng(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Si(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),mg(f=>{if(f.guards.canActivateChecks.length)return mt(f).pipe((0,$r.b)(y=>{const w=new rg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),nr(y=>{let w=!1;return mt(y).pipe(function gg(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let u=0;return(0,Sn.D)(i).pipe(oi(d=>function hr(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Xw(i)&&(u[ch]=i.title),function Zx(n,e,t,r){const i=function Qw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const u={};return(0,Sn.D)(i).pipe((0,si.z)(d=>function Jw(n,e,t,r){const i=Cc(e)??r,u=Ac(n,i);return lo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ea(),(0,$r.b)(f=>{u[d]=f}))),zp(1),function LT(n){return(0,Ft.U)(()=>n)}(u),Oa(d=>cg(d)?Pa.E:jp(d)))}(u,n,e,r).pipe((0,Ft.U)(d=>(n._resolvedData=d,n.data=E_(n,t).resolve,i&&Xw(i)&&(n.data[ch]=i.title),null)))}(d.route,r,n,e)),(0,$r.b)(()=>u++),zp(1),(0,si.z)(d=>u===i.length?mt(t):Pa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$r.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,$r.b)(y=>{const w=new gw(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),mg(f=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,$r.b)(C=>{w.component=C}),(0,Ft.U)(()=>{})));for(const C of w.children)D.push(...y(C));return D};return JE(y(f.targetSnapshot.root)).pipe(Hp(),gc(1))}),mg(()=>this.afterPreactivation()),(0,Ft.U)(f=>{const y=function KT(n,e,t){const r=Eh(n,e._root,t?t._root:void 0);return new ww(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,$r.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ft.U)(r=>(new rC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,$r.b)({next(){u=!0},complete(){u=!0}}),lh(()=>{u||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Oa(f=>{if(d=!0,D_(f)){Cw(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Wu(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),Cw(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V_(i.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new _h(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Pa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const f={...u};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),Ic(w,this.currentUrlTree,t,C,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=na(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function iI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...xh}:!1===r?{...CC}:r,na(t))return ow(this.currentUrlTree,t,i);const u=this.parseUrl(t);return ow(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let f,y,w;d?(f=d.resolve,y=d.reject,w=d.promise):w=new Promise((V,H)=>{f=V,y=H});const D=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:D,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new Wu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return rI()},providedIn:"root"}),n})();function V_(n){return"imperative"!==n}let Nh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new kr.x,this.subscription=t.events.subscribe(u=>{u instanceof Zu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,d){return!!(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mr),l.Y36(Va),l.Y36(we))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class xC{}let Wx=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof Zu),oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,f=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Sn.D)(i).pipe((0,pc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const u=i.pipe((0,si.z)(d=>null===d?mt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Sn.D)([u,d]).pipe((0,pc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(xC),l.LFG(Rc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _g=new l.OlP("");let Rh=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function go(n,e){return{\u0275kind:n,\u0275providers:e}}function j_(n){return[{provide:L_,multi:!0,useValue:n}]}function sI(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Mr),i=n.get(oI);1===n.get($_)&&r.initialNavigation(),n.get(Pc,null,l.XFs.Optional)?.setUpPreloading(),n.get(_g,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const oI=new l.OlP("",{factory:()=>new kr.x}),$_=new l.OlP("",{providedIn:"root",factory:()=>1});const Pc=new l.OlP("");function PC(n){return go(0,[{provide:Pc,useExisting:Wx},{provide:xC,useExisting:n}])}const uI=new l.OlP("ROUTER_FORROOT_GUARD"),lI=[Fe,{provide:o_,useClass:dh},{provide:Mr,useFactory:rI},Tc,{provide:Va,useFactory:function B_(n){return n.routerState.root},deps:[Mr]},Rc];function FC(){return new l.PXZ("Router",Mr)}let wg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lI,[],j_(t),{provide:uI,useFactory:VC,deps:[[Mr,new l.FiY,new l.tp0]]},{provide:yg,useValue:r||{}},r?.useHash?{provide:we,useClass:Ye}:{provide:we,useClass:st},{provide:_g,useFactory:()=>{const n=(0,l.f3M)(Mr),e=(0,l.f3M)(Al),t=(0,l.f3M)(yg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Rh(n,e,t)}},r?.preloadingStrategy?PC(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:FC},r?.initialNavigation?UC(r):[],[{provide:hI,useFactory:sI},{provide:l.tb,multi:!0,useExisting:hI}]]}}static forChild(t){return{ngModule:n,providers:[j_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uI,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ih]}),n})();function VC(n){return"guarded"}function UC(n){return["disabled"===n.initialNavigation?go(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Mr);return()=>{e.setUpLocationChangeListener()}}},{provide:$_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?go(2,[{provide:$_,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(Mr),f=e.get(oI);(function i(u){e.get(Mr).events.pipe(Si(f=>f instanceof Zu||f instanceof Wu||f instanceof _h),(0,Ft.U)(f=>f instanceof Zu||f instanceof Wu&&(0===f.code||1===f.code)&&null),Si(f=>null!==f),gc(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||f.closed?mt(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const hI=new l.OlP("");var fI=R(4986),Mn=R(880);function Ig(){return(0,Qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,lr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function pI(n,e=ah.y){return n=n??BC,(0,Qr.e)((t,r)=>{let i,u=!0;t.subscribe((0,lr.x)(r,d=>{const f=e(d);(u||!n(i,f))&&(u=!1,i=f,r.next(d))}))})}function BC(n,e){return n===e}var Dt,vi=R(2011),jC=(R(5881),R(3942)),Me=R(5861),ja=R(9681),Ph=R(4859),$a=R(1877),bn=R(2090),gI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ia={},G_=G_||{},qt=gI||self;function Oc(){}function Oh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ju(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var z_="closure_uid_"+(1e9*Math.random()>>>0),q_=0;function HC(n,e,t){return n.call.apply(n.bind,arguments)}function mI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _r(n,e,t){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HC:mI).apply(null,arguments)}function kh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Xu(){this.s=this.s,this.o=this.o}var Z_={};Xu.prototype.s=!1,Xu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function $C(n){return Object.prototype.hasOwnProperty.call(n,z_)&&n[z_]||(n[z_]=++q_)}(this);delete Z_[n]}},Xu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _I=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Oh(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var W_=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",Oc,e),qt.removeEventListener("test",Oc,e)}catch{}return n}();function Lh(n){return/^[\s\xa0]*$/.test(n)}var K_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bg(n,e){return n<e?-1:n>e?1:0}function Vh(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function mo(n){return-1!=Vh().indexOf(n)}function Y_(n){return Y_[" "](n),n}Y_[" "]=Oc;var Q_,n,zC=mo("Opera"),el=mo("Trident")||mo("MSIE"),qC=mo("Edge"),Dg=qC||el,EI=mo("Gecko")&&!(-1!=Vh().toLowerCase().indexOf("webkit")&&!mo("Edge"))&&!(mo("Trident")||mo("MSIE"))&&!mo("Edge"),ZC=-1!=Vh().toLowerCase().indexOf("webkit")&&!mo("Edge");function WC(){var n=qt.document;return n?n.documentMode:void 0}e:{var J_="",X_=(n=Vh(),EI?/rv:([^\);]+)(\)|;)/.exec(n):qC?/Edge\/([\d\.]+)/.exec(n):el?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZC?/WebKit\/(\S+)/.exec(n):zC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(X_&&(J_=X_?X_[1]:""),el){var ev=WC();if(null!=ev&&ev>parseFloat(J_)){Q_=String(ev);break e}}Q_=J_}var KC={};var QC=qt.document&&el&&(WC()||parseInt(Q_,10))||void 0;function Uh(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EI){e:{try{Y_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uh.X.h.call(this)}}Jr(Uh,Xr);var JC={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bh="closure_listenable_"+(1e6*Math.random()|0),XC=0;function jh(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++XC,this.ba=this.ea=!1}function $h(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Tg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nv(n){const e={};for(const t in n)e[t]=n[t];return e}const rv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<rv.length;u++)t=rv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cg(n){this.src=n,this.g={},this.h=0}function sv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=_I(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&($h(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function II(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}Cg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=II(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new jh(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var ov="closure_lm_"+(1e6*Math.random()|0),av={};function bI(n,e,t,r,i){if(r&&r.once)return kc(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)bI(n,e[u],t,r,i);return null}return t=uv(t),n&&n[Bh]?n.N(e,t,Ju(r)?!!r.capture:!!r,i):DI(n,e,t,!1,r,i)}function DI(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=Ju(i)?!!i.capture:!!i,f=Gh(n);if(f||(n[ov]=f=new Cg(n)),(t=f.add(e,t,r,d,u)).proxy)return t;if(r=function eA(){const e=tA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)W_||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Us(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kc(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)kc(n,e[u],t,r,i);return null}return t=uv(t),n&&n[Bh]?n.O(e,t,Ju(r)?!!r.capture:!!r,i):DI(n,e,t,!0,r,i)}function TI(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)TI(n,e[u],t,r,i);else r=Ju(r)?!!r.capture:!!r,t=uv(t),n&&n[Bh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=II(u=n.g[e],t,r,i))&&($h(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Gh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=II(e,t,r,i)),(t=-1<n?e[n]:null)&&Hh(t))}function Hh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Bh])sv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Us(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gh(e))?(sv(t,n),0==t.h&&(t.src=null,e[ov]=null)):$h(n)}}}function Us(n){return n in av?av[n]:av[n]="on"+n}function tA(n,e){if(n.ba)n=!0;else{e=new Uh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Hh(n),n=t.call(r,e)}return n}function Gh(n){return(n=n[ov])instanceof Cg?n:null}var tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uv(n){return"function"==typeof n?n:(n[tl]||(n[tl]=function(e){return n.handleEvent(e)}),n[tl])}function Gr(){Xu.call(this),this.i=new Cg(this),this.P=this,this.I=null}function ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var i=e;iv(e=new Xr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=nl(d,r,!0,e)&&i}if(i=nl(d=e.g=n,r,!0,e)&&i,i=nl(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=nl(d=e.g=t[u],r,!1,e)&&i}function nl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&sv(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Jr(Gr,Xu),Gr.prototype[Bh]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){TI(this,n,e,t,r)},Gr.prototype.M=function(){if(Gr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$h(t[r]);delete n.g[e],n.h--}}this.I=null},Gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Fc=qt.JSON.stringify;function nA(){var n=Ag;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hv,lv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new CI,n=>n.reset());class CI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cv(n){qt.setTimeout(()=>{throw n},0)}function dv(n,e){hv||function iA(){var n=qt.Promise.resolve(void 0);hv=function(){n.then(fv)}}(),AI||(hv(),AI=!0),Ag.add(n,e)}var AI=!1,Ag=new class rA{constructor(){this.h=this.g=null}add(e,t){const r=lv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function fv(){for(var n;n=nA();){try{n.h.call(n.g)}catch(t){cv(t)}var e=lv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}AI=!1}function zh(n,e){Gr.call(this),this.h=n||1,this.g=e||qt,this.j=_r(this.kb,this),this.l=Date.now()}function qh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Zh(n,e,t){if("function"==typeof n)t&&(n=_r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_r(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function SI(n){n.g=Zh(()=>{n.g=null,n.i&&(n.i=!1,SI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(zh,Gr),(Dt=zh.prototype).ca=!1,Dt.R=null,Dt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ei(this,"tick"),this.ca&&(qh(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){zh.X.M.call(this),qh(this),delete this.g};class sA extends Xu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SI(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wh(n){Xu.call(this),this.h=n,this.g={}}Jr(Wh,Xu);var MI=[];function pv(n,e,t,r){Array.isArray(t)||(t&&(MI[0]=t.toString()),t=MI);for(var i=0;i<t.length;i++){var u=bI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Sg(n){Tg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hh(e)},n),n.g={}}function Kh(){this.g=!0}function rl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return Fc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Wh.prototype.M=function(){Wh.X.M.call(this),Sg(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kh.prototype.Aa=function(){this.g=!1},Kh.prototype.info=function(){};var Ha={},PI=null;function Yh(){return PI=PI||new Gr}function OI(n){Xr.call(this,Ha.Oa,n)}function Fr(n){const e=Yh();ei(e,new OI(e,n))}function il(n,e){Xr.call(this,Ha.STAT_EVENT,n),this.stat=e}function Ei(n){const e=Yh();ei(e,new il(e,n))}function kI(n,e){Xr.call(this,Ha.Pa,n),this.size=e}function Mg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}Ha.Oa="serverreachability",Jr(OI,Xr),Ha.STAT_EVENT="statevent",Jr(il,Xr),Ha.Pa="timingevent",Jr(kI,Xr);var gv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},mv={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xg(){}function FI(){}xg.prototype.h=null;var _v,sl={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function yv(){Xr.call(this,"d")}function Ng(){Xr.call(this,"c")}function Rg(){}function Qh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Wh(this),this.O=LI,this.T=new zh(n=Dg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Pg}function Pg(){this.i=null,this.g="",this.h=!1}Jr(yv,Xr),Jr(Ng,Xr),Jr(Rg,xg),Rg.prototype.g=function(){return new XMLHttpRequest},Rg.prototype.i=function(){return{}},_v=new Rg;var LI=45e3,Og={},ol={};function Jh(n,e,t){n.K=1,n.v=nf(sa(e)),n.s=t,n.P=!0,aA(n,null)}function aA(n,e){n.F=Date.now(),yo(n),n.A=sa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),fA(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Pg,n.g=nb(n.l,t?e:null,!n.s),0<n.N&&(n.L=new sA(_r(n.Ka,n,n.g),n.N)),pv(n.S,n.g,"readystatechange",n.hb),e=n.H?nv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Fr(1),function xI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",f=u.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var C=D.split("_");d=2<=C.length&&"type"==C[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function VI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=UI(n,t),i==ol){4==e&&(n.o=4,Ei(14),r=!1),rl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Og){n.o=4,Ei(15),rl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rl(n.j,n.m,i,null),Ev(n,i)}vv(n)&&i!=ol&&i!=Og&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nv(e),e.K=!0,Ei(11))):(rl(n.j,n.m,t,"[Invalid Chunked Response]"),Vc(n),al(n))}function UI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ol:(t=Number(e.substring(t,r)),isNaN(t)?Og:(r+=1)+t>e.length?ol:(e=e.substr(r,t),n.C=r+t,e))}function yo(n){n.V=Date.now()+n.O,BI(n,n.O)}function BI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mg(_r(n.fb,n),e)}function Xh(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.G||n.I||Rv(n.l,n)}function Vc(n){Xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,qh(n.T),Sg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ev(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jc(t.h,n)))if(!n.J&&jc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Bs(t),jg(t)}Hg(t),Ei(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mg(_r(t.bb,t),6e3));if(1>=Iv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else wi(t,11)}else if((n.J||t.g==n)&&Bs(t),!Lh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const C=w[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var u=r.h;u.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Fg(u,u.h),u.h=null))}if(r.D){const oe=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.za=oe,Xn(r.F,r.D,oe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=EA(r,r.H?r.ka:null,r.V),d.J){bv(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(Xh(f),yo(f)),r.g=d}else eb(r);0<t.i.length&&hf(t)}else"stop"!=w[0]&&"close"!=w[0]||wi(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?wi(t,7):Mv(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Fr(4)}catch{}}function jI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Oh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uA(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Oh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Xx(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Oh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Dt=Qh.prototype).setTimeout=function(n){this.O=n},Dt.hb=function(n){n=n.target;const e=this.L;e&&3==oa(n)?e.l():this.Ka(n)},Dt.Ka=function(n){try{if(n==this.g)e:{const D=oa(this.g);var e=this.g.Ea();const C=this.g.aa();if(!(3>D)&&(3!=D||Dg||this.g&&(this.h.h||this.g.fa()||Ug(this.g)))){this.I||4!=D||7==e||Fr(8==e||0>=C?3:2),Xh(this);var t=this.g.aa();this.Y=t;t:if(vv(this)){var r=Ug(this.g);n="";var i=r.length,u=4==oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vc(this),al(this);var d="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function NI(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ei(12),Vc(this),al(this);break e}rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ev(this,t)}this.P?(VI(this,D,d),Dg&&this.i&&3==D&&(pv(this.S,this.T,"tick",this.gb),this.T.start())):(rl(this.j,this.m,d,null),Ev(this,d)),4==D&&Vc(this),this.i&&!this.I&&(4==D?Rv(this.l,this):(this.i=!1,yo(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Vc(this),al(this)}}}catch{}},Dt.gb=function(){if(this.g){var n=oa(this.g),e=this.g.fa();this.C<e.length&&(Xh(this),VI(this,n,e),this.i&&4!=n&&yo(this))}},Dt.cancel=function(){this.I=!0,Vc(this)},Dt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function oA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fr(3),Ei(17)),Vc(this),this.o=2,al(this)):BI(this,this.V-n)};var $I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ga){this.h=void 0!==e?e:n.h,ef(this,n.j),this.s=n.s,this.g=n.g,tf(this,n.m),this.l=n.l,e=n.i;var t=new Bc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),GI(this,t),this.o=n.o}else n&&(t=String(n).match($I))?(this.h=!!e,ef(this,t[1]||"",!0),this.s=rf(t[2]||""),this.g=rf(t[3]||"",!0),tf(this,t[4]),this.l=rf(t[5]||"",!0),GI(this,t[6]||"",!0),this.o=rf(t[7]||"")):(this.h=!!e,this.i=new Bc(null,this.h))}function sa(n){return new Ga(n)}function ef(n,e,t){n.j=t?rf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function GI(n,e,t){e instanceof Bc?(n.i=e,function t1(n,e){e&&!n.j&&(ul(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(dA(this,r),fA(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uc(e,cA)),n.i=new Bc(e,n.h))}function Xn(n,e,t){n.i.set(e,t)}function nf(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ga.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uc(e,wv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uc(e,wv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uc(t,"/"==t.charAt(0)?lA:qI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uc(t,e1)),n.join("")};var wv=/[#\/\?@]/g,qI=/[#\?:]/g,lA=/[#\?]/g,cA=/[#\?@]/g,e1=/#/g;function Bc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ul(n){n.g||(n.g=new Map,n.h=0,n.i&&function HI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function dA(n,e){ul(n),e=sf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function hA(n,e){return ul(n),e=sf(n,e),n.g.has(e)}function fA(n,e,t){dA(n,e),0<t.length&&(n.i=null,n.g.set(sf(n,e),Fh(t)),n.h+=t.length)}function sf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pA(n){this.l=n||kg,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ga&&qt.g.Ga()&&qt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=Bc.prototype).add=function(n,e){ul(this),this.i=null,n=sf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){ul(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Dt.oa=function(){ul(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Dt.W=function(n){ul(this);let e=[];if("string"==typeof n)hA(this,n)&&(e=e.concat(this.g.get(sf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return ul(this),this.i=null,hA(this,n=sf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var kg=10;function gA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Iv(n){return n.h?1:n.g?n.g.size:0}function jc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fg(n,e){n.g?n.g.add(e):n.h=e}function bv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fh(n.i)}function af(){}function ZI(){this.g=new af}function yA(n,e,t){const r=t||"";try{jI(n,function(i,u){let d=i;Ju(i)&&(d=Fc(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uf(n){this.l=n.$b||null,this.j=n.ib||!1}function Lg(n,e){Gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pA.prototype.cancel=function(){if(this.i=mA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},af.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},af.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},Jr(uf,xg),uf.prototype.g=function(){return new Lg(this.l,this.j)},uf.prototype.i=function(n){return function(){return n}}({}),Jr(Lg,Gr);var Tv=0;function lf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function cf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vg(n)}function Vg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=Lg.prototype).open=function(n,e){if(this.readyState!=Tv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Vg(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=Tv},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vg(this)),this.g&&(this.readyState=3,Vg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lf(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cf(this):Vg(this),3==this.readyState&&lf(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,cf(this))},Dt.Ta=function(n){this.g&&(this.response=n,cf(this))},Dt.ga=function(){this.g&&cf(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var r1=qt.JSON.parse;function Lr(n){Gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=KI,this.K=this.L=!1}Jr(Lr,Gr);var KI="",_A=/^https?$/i,vA=["POST","PUT"];function YI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Cv(n),Sv(n)}function Cv(n){n.D||(n.D=!0,ei(n,"complete"),ei(n,"error"))}function Av(n){if(n.h&&typeof G_<"u"&&(!n.C[1]||4!=oa(n)||2!=n.aa()))if(n.v&&4==oa(n))Zh(n.Ha,0,n);else if(ei(n,"readystatechange"),4==oa(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match($I)[1]||null;if(!i&&qt.self&&qt.self.location){var u=qt.self.location.protocol;i=u.substr(0,u.length-1)}r=!_A.test(i?i.toLowerCase():"")}t=r}if(t)ei(n,"complete"),ei(n,"success");else{n.m=6;try{var d=2<oa(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Cv(n)}}finally{Sv(n)}}}function Sv(n,e){if(n.g){_s(n);const t=n.g,r=n.C[0]?Oc:null;n.g=null,n.C=null,e||ei(n,"ready");try{t.onreadystatechange=r}catch{}}}function _s(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function oa(n){return n.g?n.g.readyState:0}function Ug(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case KI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function QI(n){let e="";return Tg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Mi(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=QI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function df(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Bg(n){this.Ca=0,this.i=[],this.j=new Kh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=df("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=df("baseRetryDelayMs",5e3,n),this.ab=df("retryDelaySeedMs",1e4,n),this.Za=df("forwardChannelMaxRetries",2,n),this.ta=df("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new pA(n&&n.concurrentRequestLimit),this.Fa=new ZI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Mv(n){if($g(n),3==n.G){var e=n.U++,t=sa(n.F);Xn(t,"SID",n.I),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),$c(n,t),(e=new Qh(n,n.j,e,void 0)).K=2,e.v=nf(sa(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=nb(e.l,null),e.g.da(e.v)),e.F=Date.now(),yo(e)}tb(n)}function jg(n){n.g&&(Nv(n),n.g.cancel(),n.g=null)}function $g(n){jg(n),n.u&&(qt.clearTimeout(n.u),n.u=null),Bs(n),n.h.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function hf(n){gA(n.h)||n.m||(n.m=!0,dv(n.Ja,n),n.C=0)}function XI(n,e){var t;t=e?e.m:n.U++;const r=sa(n.F);Xn(r,"SID",n.I),Xn(r,"RID",t),Xn(r,"AID",n.T),$c(n,r),n.o&&n.s&&Mi(r,n.o,n.s),t=new Qh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=xv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Fg(n.h,t),Jh(t,r,e)}function $c(n,e){n.ia&&Tg(n.ia,function(t,r){Xn(e,r,t)}),n.l&&jI({},function(t,r){Xn(e,r,t)})}function xv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?_r(n.l.Qa,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),f=!1;else try{yA(D,d,"req"+w+"_")}catch{r&&r(D)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function eb(n){n.g||n.u||(n.Z=1,dv(n.Ia,n),n.A=0)}function Hg(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Mg(_r(n.Ia,n),zg(n,n.A)),n.A++,0))}function Nv(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function Gg(n){n.g=new Qh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=sa(n.sa);Xn(e,"RID","rpc"),Xn(e,"SID",n.I),Xn(e,"CI",n.L?"0":"1"),Xn(e,"AID",n.T),Xn(e,"TYPE","xmlhttp"),$c(n,e),n.o&&n.s&&Mi(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=nf(sa(e)),t.s=null,t.P=!0,aA(t,n)}function Bs(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function Rv(n,e){var t=null;if(n.g==e){Bs(n),Nv(n),n.g=null;var r=2}else{if(!jc(n.h,e))return;t=e.D,bv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ei(r=Yh(),new kI(r,t,e,i)),hf(n)}else eb(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function JI(n,e){return!(Iv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Mg(_r(n.Ja,n,e),zg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Hg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:wi(n,5);break;case 4:wi(n,10);break;case 3:wi(n,6);break;default:wi(n,2)}}function zg(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function wi(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=_r(n.jb,n);t||(t=new Ga("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||ef(t,"https"),nf(t)),function WI(n,e){const t=new Kh;if(qt.Image){const r=new Image;r.onload=kh(Dv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(Dv,t,r,"TestLoadImage: error",!1,e),r.onabort=kh(Dv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(Dv,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ei(2);n.G=0,n.l&&n.l.va(e),tb(n),$g(n)}function tb(n){if(n.G=0,n.la=[],n.l){const e=mA(n.h);(0!=e.length||0!=n.i.length)&&(vI(n.la,e),vI(n.la,n.i),n.h.i.length=0,Fh(n.i),n.i.length=0),n.l.ua()}}function EA(n,e,t){var r=t instanceof Ga?sa(t):new Ga(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),tf(r,r.m);else{var i=qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Ga(null,void 0);r&&ef(u,r),e&&(u.g=e),i&&tf(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Xn(r,t,e),Xn(r,"VER",n.ma),$c(n,r),r}function nb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t&&n.Da&&!n.ra?new uf({ib:!0}):n.ra)).L=n.H,e}function rb(){}function qg(){if(el&&!(10<=Number(QC)))throw Error("Environmental error: no available transport.")}function Zi(n,e){Gr.call(this),this.g=new Bg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Lh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ll(this)}function Pv(n){yv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wA(){Ng.call(this),this.status=1}function ll(n){this.g=n}(Dt=Lr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_v.g(),this.C=function Lc(n){return n.h||(n.h=n.i())}(this.u?this.u:_v),this.g.onreadystatechange=_r(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void YI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=qt.FormData&&n instanceof qt.FormData,!(0<=_I(vA,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_s(this),0<this.B&&((this.K=function i1(n){return el&&function YC(){return function GC(n){var e=KC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=K_(String(Q_)).split("."),t=K_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=bg(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||bg(0==i[2].length,0==u[2].length)||bg(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.qa,this)):this.A=Zh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){YI(this,u)}},Dt.qa=function(){typeof G_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ei(this,"complete"),ei(this,"abort"),Sv(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),Lr.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?Av(this):this.eb())},Dt.eb=function(){Av(this)},Dt.aa=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),r1(e)}},Dt.Ea=function(){return this.m},Dt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=Bg.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Qh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=nv(u),iv(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xv(this,i,e),Xn(t=sa(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),$c(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(QI(u)))+"&"+e:this.o&&Mi(t,this.o,u)),Fg(this.h,i),this.Xa&&Xn(t,"TYPE","init"),this.O?(Xn(t,"$req",e),Xn(t,"SID","null"),i.Z=!0,Jh(i,t,null)):Jh(i,t,e),this.G=2}}else 3==this.G&&(n?XI(this,n):0==this.i.length||gA(this.h)||XI(this))},Dt.Ia=function(){if(this.u=null,Gg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Mg(_r(this.cb,this),n)}},Dt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ei(10),jg(this),Gg(this))},Dt.bb=function(){null!=this.v&&(this.v=null,jg(this),Hg(this),Ei(19))},Dt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(Dt=rb.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Qa=function(){},qg.prototype.g=function(n,e){return new Zi(n,e)},Jr(Zi,Gr),Zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ei(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=EA(n,null,n.V),hf(n)},Zi.prototype.close=function(){Mv(this.g)},Zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Fc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&hf(e)},Zi.prototype.M=function(){this.g.l=null,delete this.j,Mv(this.g),delete this.g,Zi.X.M.call(this)},Jr(Pv,yv),Jr(wA,Ng),Jr(ll,rb),ll.prototype.xa=function(){ei(this.g,"a")},ll.prototype.wa=function(n){ei(this.g,new Pv(n))},ll.prototype.va=function(n){ei(this.g,new wA(n))},ll.prototype.ua=function(){ei(this.g,"b")},qg.prototype.createWebChannel=qg.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,gv.NO_ERROR=0,gv.TIMEOUT=8,gv.HTTP_ERROR=6,mv.COMPLETE="complete",FI.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,Lr.prototype.listenOnce=Lr.prototype.O,Lr.prototype.getLastError=Lr.prototype.Na,Lr.prototype.getLastErrorCode=Lr.prototype.Ea,Lr.prototype.getStatus=Lr.prototype.aa,Lr.prototype.getResponseJson=Lr.prototype.Ra,Lr.prototype.getResponseText=Lr.prototype.fa,Lr.prototype.send=Lr.prototype.da;var IA=ia.createWebChannelTransport=function(){return new qg},ib=ia.getStatEventTarget=function(){return Yh()},sb=ia.ErrorCode=gv,Ov=ia.EventType=mv,ob=ia.Event=Ha,kv=ia.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ab=ia.FetchXmlHttpFactory=uf,ff=ia.WebChannel=FI,ub=ia.XhrIo=Lr;const pf="@firebase/firestore";class vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let cl="9.11.0";const za=new $a.Yd("@firebase/firestore");function Zg(){return za.logLevel}function Ge(n,...e){if(za.logLevel<=$a.in.DEBUG){const t=e.map(cb);za.debug(`Firestore (${cl}): ${n}`,...t)}}function Er(n,...e){if(za.logLevel<=$a.in.ERROR){const t=e.map(cb);za.error(`Firestore (${cl}): ${n}`,...t)}}function Hc(n,...e){if(za.logLevel<=$a.in.WARN){const t=e.map(cb);za.warn(`Firestore (${cl}): ${n}`,...t)}}function cb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function Ut(n,e){n||ft()}function it(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vr.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wg{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new zr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Me.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},y=w=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new zr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new DA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new vr(e)}}class CA{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class AA{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new CA(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.A=t.token,new Fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Kg{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lv(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Yg(n){return n+"\0"}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Un(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Un(0,0))}static max(){return new Ht(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Qg{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const o1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Qg{construct(e,t,r){return new rr(e,t,r)}static isValidIdentifier(e){return o1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Be(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Be(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(u(),i++)}if(u(),d)throw new Be(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(En.fromString(e))}static fromName(e){return new nt(En.fromString(e).popFirst(5))}static empty(){return new nt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new En(e.slice()))}}class Jg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vv(n){return n.fields.find(e=>2===e.kind)}function hl(n){return n.fields.filter(e=>2!==e.kind)}Jg.UNKNOWN_ID=-1;class gf{constructor(e,t){this.fieldPath=e,this.kind=t}}class mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mf(0,Ii.min())}}function fb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ht.fromTimestamp(1e9===r?new Un(t+1,0):new Un(t,r));return new Ii(i,nt.empty(),e)}function Uv(n){return new Ii(n.readTime,n.key,-1)}class Ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ii(Ht.min(),nt.empty(),-1)}static max(){return new Ii(Ht.max(),nt.empty(),-1)}}function pb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Za(n){return jv.apply(this,arguments)}function jv(){return jv=(0,Me.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==Bv)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),jv.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,u=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++u,d&&u===i&&t()},y=>r(y))}),d=!0,u===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const u=e.length,d=new Array(u);let f=0;for(let y=0;y<u;y++){const w=y;t(e[w]).next(D=>{d[w]=D,++f,f===u&&r(d)},D=>i(D))}})}static doWhile(e,t){return new de((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new zr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new yf(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=gb(r.target.error);this.P.reject(new yf(e,i))}}static open(e,t,r,i){try{return new $v(t,e.transaction(i,r))}catch(u){throw new yf(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new a1(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===js.D((0,bn.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Gc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,bn.hl)())return!1;if(js.N())return!0;const e=(0,bn.z$)(),t=js.D(e),r=0<t&&t<10,i=js.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new yf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Be(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Be(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new yf(e,f))},u.onupgradeneeded=d=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Me.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const y=$v.open(u.db,e,d?"readonly":"readwrite",r),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),de.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),u.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MA{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Gc(this.U.delete())}}class yf extends Be{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fl(n){return"IndexedDbTransactionError"===n.name}class a1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gc(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Gc(this.store.add(e))}get(e){return Gc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Gc(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Gc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(d,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new de((u,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=u=>{const d=gb(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new de((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new MA(f),w=t(f.primaryKey,f.value,y);if(w instanceof de){const D=w.catch(C=>(y.done(),de.reject(C)));r.push(D)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gc(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=gb(r.target.error);t(i)}})}let xA=!1;function gb(n){const e=js.D((0,bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xA||(xA=!0,setTimeout(()=>{throw r},0)),r}}return n}class NA{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){fl(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Za(r)}yield t.nt(6e4)}))}}class u1{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return de.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ge("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,u)).next(f=>(Ge("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=Uv(u);pb(d,r)>0&&(r=d)}),new Ii(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Wi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function RA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Wi.at=-1;class wr{constructor(e,t){this.comparator=e,this.root=t||o.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,o.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new s(this.root,e,this.comparator,!1)}getReverseIterator(){return new s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new s(this.root,e,this.comparator,!0)}}class s{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class o{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??o.RED,this.left=i??o.EMPTY,this.right=u??o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new o(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return o.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}o.EMPTY=null,o.RED=!0,o.BLACK=!1,o.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new o(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class a{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c(this.data.getIterator())}getIteratorFrom(e){return new c(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof a)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new a(this.comparator);return t.data=e,t}}class c{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function h(n){return n.hasNext()?n.getNext():void 0}class p{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new p([])}unionWith(e){let t=new a(rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new p(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class E{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new E(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new E(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}E.EMPTY_BYTE_STRING=new E("");const b=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=b.exec(n);if(Ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:M(n.seconds),nanos:M(n.nanos)}}function M(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function L(n){return"string"==typeof n?E.fromBase64String(n):E.fromUint8Array(n)}function W(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ie(n){const e=n.mapValue.fields.__previous_value__;return W(e)?ie(e):e}function Ce(n){const e=T(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class qe{constructor(e,t,r,i,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Ke{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ke("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ke&&e.projectId===this.projectId&&e.database===this.database}}function lt(n){return null==n}function Tt(n){return 0===n&&1/n==-1/0}function Le(n){return"number"==typeof n&&Number.isInteger(n)&&!Tt(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const St={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yn={nullValue:"NULL_VALUE"};function Rn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W(n)?4:c1(n)?9007199254740991:10:ft()}function ui(n,e){if(n===e)return!0;const t=Rn(n);if(t!==Rn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ce(n).isEqual(Ce(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=T(r.timestampValue),d=T(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,L(n.bytesValue).isEqual(L(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return M(r.geoPointValue.latitude)===M(i.geoPointValue.latitude)&&M(r.geoPointValue.longitude)===M(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return M(r.integerValue)===M(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=M(r.doubleValue),d=M(i.doubleValue);return u===d?Tt(u)===Tt(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return qa(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(RA(u)!==RA(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!ui(u[f],d[f])))return!1;return!0}(n,e);default:return ft()}var i}function pl(n,e){return void 0!==(n.values||[]).find(t=>ui(t,e))}function _o(n,e){if(n===e)return 0;const t=Rn(n),r=Rn(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=M(i.integerValue||i.doubleValue),f=M(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return em(n.timestampValue,e.timestampValue);case 4:return em(Ce(n),Ce(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=L(i),f=L(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Yt(d[y],f[y]);if(0!==w)return w}return Yt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Yt(M(i.latitude),M(u.latitude));return 0!==d?d:Yt(M(i.longitude),M(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],f=u.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=_o(d[y],f[y]);if(w)return w}return Yt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===St.mapValue&&u===St.mapValue)return 0;if(i===St.mapValue)return 1;if(u===St.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const C=Yt(f[D],w[D]);if(0!==C)return C;const V=_o(d[f[D]],y[w[D]]);if(0!==V)return V}return Yt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ft()}}function em(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=T(n),r=T(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Wa(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=T(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?L(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=_f(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const f of i)d?d=!1:u+=",",u+=`${f}:${_f(r.fields[f])}`;return u+"}"}(n.mapValue):ft();var e}function aa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vf(n){return!!n&&"integerValue"in n}function gl(n){return!!n&&"arrayValue"in n}function tm(n){return!!n&&"nullValue"in n}function l1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mb(n){return!!n&&"mapValue"in n}function Hv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function c1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dO(n){return"nullValue"in n?yn:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?aa(Ke.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function hO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?aa(Ke.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?St:ft()}function d1(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function h1(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hv(t)}setAll(e){let t=rr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Hv(d):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());mb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new bi(Hv(this.value))}}function f1(n){const e=[];return zc(n.fields,(t,r)=>{const i=new rr([t]);if(mb(r)){const u=f1(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new p(e)}class er{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new er(e,0,Ht.min(),Ht.min(),bi.empty(),0)}static newFoundDocument(e,t,r){return new er(e,1,t,Ht.min(),r,0)}static newNoDocument(e,t){return new er(e,2,t,Ht.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Ht.min(),bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fO{constructor(e,t=null,r=[],i=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=f,this.ht=null}}function p1(n,e=null,t=[],r=[],i=null,u=null,d=null){return new fO(n,e,t,r,i,u,d)}function Ef(n){const e=it(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Wa(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),lt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wa(r)).join(",")),e.ht=t}return e.ht}function Gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!IO(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ui(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!v1(n.startAt,e.startAt)&&v1(n.endAt,e.endAt)}function yb(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _b(n,e){return n.filters.filter(t=>t instanceof Di&&t.field.isEqual(e))}function g1(n,e,t){let r=yn,i=!0;for(const u of _b(n,e)){let d=yn,f=!0;switch(u.op){case"<":case"<=":d=dO(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,f=!1;break;case"!=":case"not-in":d=yn}d1({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];d1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function m1(n,e,t){let r=St,i=!0;for(const u of _b(n,e)){let d=St,f=!0;switch(u.op){case">=":case">":d=hO(u.value),f=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,f=!1;break;case"!=":case"not-in":d=St}h1({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];h1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Di extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new gO(e,t,r):"array-contains"===t?new _O(e,r):"in"===t?new vO(e,r):"not-in"===t?new EO(e,r):"array-contains-any"===t?new wO(e,r):new Di(e,t,r)}static lt(e,t,r){return"in"===t?new mO(e,r):new yO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(_o(t,this.value)):null!==t&&Rn(this.value)===Rn(t)&&this.ft(_o(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gO extends Di{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.ft(t)}}class mO extends Di{constructor(e,t){super(e,"in",t),this.keys=y1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yO extends Di{constructor(e,t){super(e,"not-in",t),this.keys=y1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function y1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class _O extends Di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gl(t)&&pl(t.arrayValue,this.value)}}class vO extends Di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pl(this.value.arrayValue,t)}}class EO extends Di{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pl(this.value.arrayValue,t)}}class wO extends Di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}class nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function IO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?nt.comparator(nt.fromName(d.referenceValue),t.key):_o(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function v1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}class ml{constructor(e,t=null,r=[],i=[],u=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=y,this._t=null,this.wt=null}}function E1(n,e,t,r,i,u,d,f){return new ml(n,e,t,r,i,u,d,f)}function rm(n){return new ml(n)}function w1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function OA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kA(n){for(const e of n.filters)if(e.dt())return e.field;return null}function FA(n){return null!==n.collectionGroup}function im(n){const e=it(n);if(null===e._t){e._t=[];const t=kA(e),r=OA(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new nm(t)),e._t.push(new nm(rr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nm(rr.keyField(),u))}}}return e._t}function Ki(n){const e=it(n);if(!e.wt)if("F"===e.limitType)e.wt=p1(e.path,e.collectionGroup,im(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of im(e))t.push(new nm(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;e.wt=p1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function vb(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zv(n,e){return Gv(Ki(n),Ki(e))&&n.limitType===e.limitType}function I1(n){return`${Ef(Ki(n))}|lt:${n.limitType}`}function LA(n){return`Query(target=${function pO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Wa(r.value)}`;var r}).join(", ")}]`),lt(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Wa(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Wa(t)).join(",")),`Target(${e})`}(Ki(n))}; limitType=${n.limitType})`}function VA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const f=_1(i,u,d);return i.inclusive?f<=0:f<0}(t.startAt,im(t),r)||t.endAt&&!function(i,u,d){const f=_1(i,u,d);return i.inclusive?f>=0:f>0}(t.endAt,im(t),r)));var t,r}function b1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D1(n){return(e,t)=>{let r=!1;for(const i of im(n)){const u=bO(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function bO(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,u,d){const f=u.data.field(i),y=d.data.field(i);return null!==f&&null!==y?_o(f,y):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function T1(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tt(e)?"-0":e}}function C1(n){return{integerValue:""+n}}function A1(n,e){return Le(e)?C1(e):T1(n,e)}class Eb{constructor(){this._=void 0}}function DO(n,e,t){return n instanceof sm?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof wf?M1(n,e):n instanceof If?x1(n,e):function(r,i){const u=S1(r,i),d=N1(u)+N1(r.yt);return vf(u)&&vf(r.yt)?C1(d):T1(r.It,d)}(n,e)}function TO(n,e,t){return n instanceof wf?M1(n,e):n instanceof If?x1(n,e):t}function S1(n,e){return n instanceof om?vf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sm extends Eb{}class wf extends Eb{constructor(e){super(),this.elements=e}}function M1(n,e){const t=R1(e);for(const r of n.elements)t.some(i=>ui(i,r))||t.push(r);return{arrayValue:{values:t}}}class If extends Eb{constructor(e){super(),this.elements=e}}function x1(n,e){let t=R1(e);for(const r of n.elements)t=t.filter(i=>!ui(i,r));return{arrayValue:{values:t}}}class om extends Eb{constructor(e,t){super(),this.It=e,this.yt=t}}function N1(n){return M(n.integerValue||n.doubleValue)}function R1(n){return gl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qv{constructor(e,t){this.field=e,this.transform=t}}class AO{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ib{}function P1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new um(n.key,fr.none()):new am(n.key,n.data,fr.none());{const t=n.data,r=bi.empty();let i=new a(rr.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new yl(n.key,r,new p(i.toArray()),fr.none())}}function SO(n,e,t){n instanceof am?function(r,i,u){const d=r.value.clone(),f=F1(r.fieldTransforms,i,u.transformResults);d.setAll(f),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof yl?function(r,i,u){if(!wb(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=F1(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(k1(r)),f.setAll(d),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zv(n,e,t,r){return n instanceof am?function(i,u,d,f){if(!wb(i.precondition,u))return d;const y=i.value.clone(),w=L1(i.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof yl?function(i,u,d,f){if(!wb(i.precondition,u))return d;const y=L1(i.fieldTransforms,f,u),w=u.data;return w.setAll(k1(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(d=t,wb(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function MO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=S1(r.transform,i||null);null!=u&&(null===t&&(t=bi.empty()),t.set(r.field,u))}return t||null}function O1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&qa(t,r,(i,u)=>function CO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wf&&r instanceof wf||t instanceof If&&r instanceof If?qa(t.elements,r.elements,ui):t instanceof om&&r instanceof om?ui(t.yt,r.yt):t instanceof sm&&r instanceof sm);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class am extends Ib{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends Ib{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function k1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function F1(n,e,t){const r=new Map;Ut(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,f=e.data.field(u.field);r.set(u.field,TO(d,f,t[i]))}return r}function L1(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,DO(u,d,e))}return r}class um extends Ib{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UA extends Ib{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xO{constructor(e){this.count=e}}var qr,Dn;function V1(n){switch(n){default:return ft();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function U1(n){if(void 0===n)return Er("GRPC error has no .code"),ve.UNKNOWN;switch(n){case qr.OK:return ve.OK;case qr.CANCELLED:return ve.CANCELLED;case qr.UNKNOWN:return ve.UNKNOWN;case qr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case qr.INTERNAL:return ve.INTERNAL;case qr.UNAVAILABLE:return ve.UNAVAILABLE;case qr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case qr.NOT_FOUND:return ve.NOT_FOUND;case qr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case qr.ABORTED:return ve.ABORTED;case qr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case qr.DATA_LOSS:return ve.DATA_LOSS;default:return ft()}}(Dn=qr||(qr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}const NO=new wr(nt.comparator);function vs(){return NO}const B1=new wr(nt.comparator);function Wv(...n){let e=B1;for(const t of n)e=e.insert(t.key,t);return e}function j1(n){let e=B1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ka(){return Kv()}function $1(){return Kv()}function Kv(){return new Zc(n=>n.toString(),(n,e)=>n.isEqual(e))}const RO=new wr(nt.comparator),PO=new a(nt.comparator);function sn(...n){let e=PO;for(const t of n)e=e.add(t);return e}const OO=new a(Yt);function bb(){return OO}class Yv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Qv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yv(Ht.min(),r,bb(),vs(),sn())}}class Qv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Qv(E.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class Db{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class H1{constructor(e,t){this.targetId=e,this.At=t}}class G1{constructor(e,t,r=E.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class z1{constructor(){this.Rt=0,this.bt=Z1(),this.Pt=E.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),r=sn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new Qv(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Z1()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class kO{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=vs(),this.qt=q1(),this.Kt=new a(Yt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(yb(u))if(0===r){const d=new nt(u.path);this.jt(t,d,er.newNoDocument(d,Ht.min()))}else Ut(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const f=this.Xt(d);if(f){if(u.current&&yb(f.target)){const y=new nt(f.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,er.newNoDocument(y,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=sn();this.qt.forEach((u,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const i=new Yv(e,t,this.Kt,this.Ut,r);return this.Ut=vs(),this.qt=q1(),this.Kt=new a(Yt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new z1,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new a(Yt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new z1),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function q1(){return new wr(nt.comparator)}function Z1(){return new wr(nt.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},LO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VO{constructor(e,t){this.databaseId=e,this.gt=t}}function Jv(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(n,e){return n.gt?e.toBase64():e.toUint8Array()}function UO(n,e){return Jv(n,e.toTimestamp())}function li(n){return Ut(!!n),Ht.fromTimestamp(function(e){const t=T(e);return new Un(t.seconds,t.nanos)}(n))}function BA(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function K1(n){const e=En.fromString(n);return Ut(rN(e)),e}function Xv(n,e){return BA(n.databaseId,e.path)}function Ya(n,e){const t=K1(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(Q1(t))}function jA(n,e){return BA(n.databaseId,e)}function Y1(n){const e=K1(n);return 4===e.length?En.emptyPath():Q1(e)}function e0(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q1(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function J1(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function X1(n,e,t){const r=Ya(n,e.name),i=li(e.updateTime),u=new bi({mapValue:{fields:e.fields}}),d=er.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function t0(n,e){let t;if(e instanceof am)t={update:J1(n,e.key,e.value)};else if(e instanceof um)t={delete:Xv(n,e.key)};else if(e instanceof yl)t={update:J1(n,e.key,e.data),updateMask:WO(e.fieldMask)};else{if(!(e instanceof UA))return ft();t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof sm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof If)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof om)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:UO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function $A(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?fr.updateTime(li(i.updateTime)):void 0!==i.exists?fr.exists(i.exists):fr.none():fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let f=null;"setToServerValue"in d?(Ut("REQUEST_TIME"===d.setToServerValue),f=new sm):"appendMissingElements"in d?f=new wf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new If(d.removeAllFromArray.values||[]):"increment"in d?f=new om(u,d.increment):ft();const y=rr.fromServerFormat(d.fieldPath);return new qv(y,f)}(n,i)):[];var i;if(e.update){const i=Ya(n,e.update.name),u=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new p((e.updateMask.fieldPaths||[]).map(w=>rr.fromServerFormat(w)));return new yl(i,u,d,t,r)}return new am(i,u,t,r)}if(e.delete){const i=Ya(n,e.delete);return new um(i,t)}if(e.verify){const i=Ya(n,e.verify);return new UA(i,t)}return ft()}function eN(n,e){return{documents:[jA(n,e.path)]}}function HA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=jA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(C){if("=="===C.op){if(l1(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NAN"}};if(tm(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(l1(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NOT_NAN"}};if(tm(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lm(C.field),op:zO(C.op),value:C.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:lm((D=w).field),direction:GO(D.dir)};var D})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=e.limit,n.gt||lt(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function tN(n){let e=Y1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let u=[];t.where&&(u=nN(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new nm(cm((C=D).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let f=null;t.limit&&(f=function(D){let C;return C="object"==typeof D?D.value:D,lt(C)?null:C}(t.limit));let y=null;var D;t.startAt&&(y=new qc((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new qc(D.values||[],!D.before)}(t.endAt)),E1(e,i,d,u,f,"F",y,w)}function nN(n){return n?void 0!==n.unaryFilter?[ZO(n)]:void 0!==n.fieldFilter?[qO(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>nN(e)).reduce((e,t)=>e.concat(t)):ft():[]}function GO(n){return FO[n]}function zO(n){return LO[n]}function lm(n){return{fieldPath:n.canonicalString()}}function cm(n){return rr.fromServerFormat(n.fieldPath)}function qO(n){return Di.create(cm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=cm(n.unaryFilter.field);return Di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cm(n.unaryFilter.field);return Di.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cm(n.unaryFilter.field);return Di.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cm(n.unaryFilter.field);return Di.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function WO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iN(e)),e=KO(n.get(t),e);return iN(e)}function KO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function iN(n){return n+"\x01\x01"}function Qa(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ft(),n.charAt(d+1)){case"\x01":const f=n.substring(u,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:ft()}u=d+2}return new En(r)}const sN=["userId","batchId"];function Tb(n,e){return[n,Yi(e)]}function oN(n,e,t){return[n,Yi(e),t]}const YO={},QO=["prefixPath","collectionGroup","readTime","documentId"],JO=["prefixPath","collectionGroup","documentId"],XO=["collectionGroup","readTime","prefixPath","documentId"],ek=["canonicalId","targetId"],tk=["targetId","path"],nk=["path","targetId"],rk=["collectionId","parent"],ik=["indexId","uid"],sk=["uid","sequenceNumber"],ok=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ak=["indexId","uid","orderedDocumentKey"],uk=["userId","collectionPath","documentId"],lk=["userId","collectionPath","largestBatchId"],ck=["userId","collectionGroup","largestBatchId"],aN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dk=[...aN,"documentOverlays"],uN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lN=uN,hk=[...lN,"indexConfiguration","indexState","indexEntries"];class GA extends Xg{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ci(n,e){const t=it(n);return js.M(t.ie,e)}class zA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&SO(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$1();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(i.key)?null:f;const y=P1(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(t,r)=>O1(t,r))&&qa(this.baseMutations,e.baseMutations,(t,r)=>O1(t,r))}}class qA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length);let i=RO;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new qA(e,t,r,i)}}class ZA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wc{constructor(e,t,r,i,u=Ht.min(),d=Ht.min(),f=E.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cN{constructor(e){this.re=e}}function dN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Xv(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Jv(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bf(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:bf(e.version)}}var i,u;return r}function Cb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Df(n){const e=new Un(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function Tf(n,e){const t=(e.baseMutations||[]).map(u=>$A(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>$A(n.re,u)),i=Un.fromMillis(e.localWriteTimeMs);return new zA(e.batchId,i,t,r)}function n0(n){const e=Df(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Df(n.lastLimboFreeSnapshotVersion):Ht.min();let r;var i;return void 0!==n.query.documents?(Ut(1===(i=n.query).documents.length),r=Ki(rm(Y1(i.documents[0])))):r=Ki(tN(n.query)),new Wc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,E.fromBase64String(n.resumeToken))}function hN(n,e){const t=bf(e.snapshotVersion),r=bf(e.lastLimboFreeSnapshotVersion);let i;i=yb(e.target)?eN(n.re,e.target):HA(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ef(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function WA(n){const e=tN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vb(e,e.limit,"L"):e}function KA(n,e){return new ZA(e.largestBatchId,$A(n.re,e.overlayMutation))}function fN(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}function pN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:bf(r.readTime),documentKey:Yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class pk{getBundleMetadata(e,t){return gN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Df(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return gN(e).put({bundleId:(r=t).id,createTime:bf(li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:WA(i.bundledQuery),readTime:Df(i.readTime)};var i})}saveNamedQuery(e,t){return mN(e).put({name:(r=t).name,readTime:bf(li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function gN(n){return ci(n,"bundles")}function mN(n){return ci(n,"namedQueries")}class Ab{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Ab(e,t.uid||"")}getOverlay(e,t){return r0(e).get(fN(this.userId,t)).next(r=>r?KA(this.It,r):null)}getOverlays(e,t){const r=Ka();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const f=new ZA(t,d);i.push(this.ue(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Yi(d.getCollectionPath())));const u=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(r0(e).Y("collectionPathOverlayIndex",f))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Ka(),u=Yi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return r0(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=KA(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Ka();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return r0(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const C=KA(this.It,w);u.size()<i||C.largestBatchId===d?(u.set(C.getKey(),C),d=C.largestBatchId):D.done()}).next(()=>u)}ue(e,t){return r0(e).put(function(r,i,u){const[d,f,y]=fN(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:t0(r.re,u.mutation)}}(this.It,this.userId,t))}}function r0(n){return ci(n,"documentOverlays")}class Cf{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(M(e.integerValue));else if("doubleValue"in e){const r=M(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Tt(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(L(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?c1(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ft()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),nt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function gk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function yN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=gk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Cf.Te=new Cf;class mk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=yN(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=yN(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yk{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class _k{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class s0{constructor(){this.Be=new mk,this.Le=new yk(this.Be),this.Ue=new _k(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Af{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Af(this.indexId,this.documentKey,this.arrayValue,r)}}function Sf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_N(n.arrayValue,e.arrayValue),0!==t?t:(t=_N(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function _N(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class vk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Vv(e);if(void 0!==t&&!this.ze(t))return!1;const r=hl(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ek{constructor(){this.Ye=new YA}addToCollectionParentIndex(e,t){return this.Ye.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Ii.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class YA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new a(En.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new a(En.comparator)).toArray()}}const Sb=new Uint8Array(0);class wk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new YA,this.Ze=new Zc(r=>Ef(r),(r,i)=>Gv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Yi(i)};return vN(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Yg(t),""],!1,!0);return vN(e).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Qa(d.parent))}return r})}addFieldIndex(e,t){const r=Mb(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=a0(e);return u.next(f=>{d.put(pN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Mb(e),i=a0(e),u=o0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=o0(e);let i=!0;const u=new Map;return de.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),u.set(d,f)})).next(()=>{if(i){let d=sn();const f=[];return de.forEach(u,(y,w)=>{var D;Ge("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Ef(t)}`);const C=function(Nt,wt){const Bt=Vv(wt);if(void 0===Bt)return null;for(const Zt of _b(Nt,Bt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(w,y),V=function(Nt,wt){const Bt=new Map;for(const Zt of hl(wt))for(const wn of _b(Nt,Zt.fieldPath))switch(wn.op){case"==":case"in":Bt.set(Zt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Bt.set(Zt.fieldPath.canonicalString(),wn.value),Array.from(Bt.values())}return null}(w,y),H=function(Nt,wt){const Bt=[];let Zt=!0;for(const wn of hl(wt)){const es=0===wn.kind?g1(Nt,wn.fieldPath,Nt.startAt):m1(Nt,wn.fieldPath,Nt.startAt);Bt.push(es.value),Zt&&(Zt=es.inclusive)}return new qc(Bt,Zt)}(w,y),q=function(Nt,wt){const Bt=[];let Zt=!0;for(const wn of hl(wt)){const es=0===wn.kind?m1(Nt,wn.fieldPath,Nt.endAt):g1(Nt,wn.fieldPath,Nt.endAt);Bt.push(es.value),Zt&&(Zt=es.inclusive)}return new qc(Bt,Zt)}(w,y),oe=this.nn(y,w,H),me=this.nn(y,w,q),tt=this.sn(y,w,V),at=this.rn(y.indexId,C,oe,H.inclusive,me,q.inclusive,tt);return de.forEach(at,Nt=>r.J(Nt,t.limit).next(wt=>{wt.forEach(Bt=>{const Zt=nt.fromSegments(Bt.documentKey);d.has(Zt)||(d=d.add(Zt),f.push(Zt))})}))}).next(()=>f)}return de.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),w=y/(null!=t?t.length:1),D=[];for(let C=0;C<y;++C){const V=t?this.on(t[C/w]):Sb,H=this.un(e,V,r[C%w],i),q=this.cn(e,V,u[C%w],d),oe=f.map(me=>this.un(e,V,me,!0));D.push(...this.createRange(H,q,oe))}return D}un(e,t,r,i){const u=new Af(e,nt.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new Af(e,nt.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new vk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const f of u)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return de.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let f=new a(rr.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:f=f.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new s0;for(const i of hl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.qe(i.kind);Cf.Te.ce(u,d)}return r.$e()}on(e){const t=new s0;return Cf.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new s0;return Cf.Te.ce(aa(this.databaseId,t),r.qe(function(i){const u=hl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new s0);let u=0;for(const d of hl(e)){const f=r[u++];for(const y of i)if(this.ln(t,d.fieldPath)&&gl(f))i=this.fn(i,d,f);else{const w=y.qe(d.kind);Cf.Te.ce(f,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new s0;y.seed(f.$e()),Cf.Te.ce(d,y.qe(t.kind)),u.push(y)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Di&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mb(e),i=a0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return de.forEach(u,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,D){const C=D?new mf(D.sequenceNumber,new Ii(Df(D.readTime),new nt(Qa(D.documentKey)),D.largestBatchId)):mf.empty(),V=w.fields.map(([H,q])=>new gf(rr.fromServerFormat(H),q));return new Jg(w.indexId,w.collectionGroup,V,C)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Mb(e),u=a0(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,y=>u.put(pN(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,y=>this.wn(e,i,y).next(w=>{const D=this.mn(u,y);return w.isEqual(D)?de.resolve():this.gn(e,u,y,w,D)}))))})}yn(e,t,r,i){return o0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return o0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=o0(e);let u=new a(Sf);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{u=u.add(new Af(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}mn(e,t){let r=new a(Sf);const i=this.an(t,e);if(null==i)return r;const u=Vv(t);if(null!=u){const d=e.data.field(u.fieldPath);if(gl(d))for(const f of d.arrayValue.values||[])r=r.add(new Af(t.indexId,e.key,this.on(f),i))}else r=r.add(new Af(t.indexId,e.key,Sb,i));return r}gn(e,t,r,i,u){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,D,C){const V=f.getIterator(),H=y.getIterator();let q=h(V),oe=h(H);for(;q||oe;){let me=!1,tt=!1;if(q&&oe){const at=w(q,oe);at<0?tt=!0:at>0&&(me=!0)}else null!=q?tt=!0:me=!0;me?(D(oe),oe=h(H)):tt?(C(q),q=h(V)):(q=h(V),oe=h(H))}}(i,u,Sf,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),de.waitFor(d)}_n(e){let t=1;return a0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Sf(d,f)).filter((d,f,y)=>!f||0!==Sf(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=Sf(d,e),y=Sf(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Sb,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Sb,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(EN)}getMinOffset(e,t){return de.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ft())).next(EN)}}function vN(n){return ci(n,"collectionParents")}function o0(n){return ci(n,"indexEntries")}function Mb(n){return ci(n,"indexConfiguration")}function a0(n){return ci(n,"indexState")}function EN(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ii(e.readTime,e.documentKey,t)}const wN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(D,C,V)=>(f++,V.delete()));u.push(y.next(()=>{Ut(1===f)}));const w=[];for(const D of t.mutations){const C=oN(e,D.key.path,t.batchId);u.push(i.delete(C)),w.push(D.key)}return de.waitFor(u).next(()=>w)}function xb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class Nb{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Nb(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Z({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=dm(e),d=Kc(e);return d.add({}).next(f=>{Ut("number"==typeof f);const y=new zA(f,t,r,i),w=function(V,H,q){const oe=q.baseMutations.map(tt=>t0(V.re,tt)),me=q.mutations.map(tt=>t0(V.re,tt));return{userId:H,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:oe,mutations:me}}(this.It,this.userId,y),D=[];let C=new a((V,H)=>Yt(V.canonicalString(),H.canonicalString()));for(const V of i){const H=oN(this.userId,V.key.path,f);C=C.add(V.key.path.popLast()),D.push(d.put(w)),D.push(u.put(H,YO))}return C.forEach(V=>{D.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),de.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(r=>r?(Ut(r.userId===this.userId),Tf(this.It,r)):null)}Tn(e,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Kc(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(Ut(f.batchId>=r),u=Tf(this.It,f)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).W("userMutationsIndex",t).next(r=>r.map(i=>Tf(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Tb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return dm(e).Z({range:i},(d,f,y)=>{const[w,D,C]=d,V=Qa(D);if(w===this.userId&&t.path.isEqual(V))return Kc(e).get(C).next(H=>{if(!H)throw ft();Ut(H.userId===this.userId),u.push(Tf(this.It,H))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a(Yt);const i=[];return t.forEach(u=>{const d=Tb(this.userId,u.path),f=IDBKeyRange.lowerBound(d),y=dm(e).Z({range:f},(w,D,C)=>{const[V,H,q]=w,oe=Qa(H);V===this.userId&&u.path.isEqual(oe)?r=r.add(q):C.done()});i.push(y)}),de.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Tb(this.userId,r),d=IDBKeyRange.lowerBound(u);let f=new a(Yt);return dm(e).Z({range:d},(y,w,D)=>{const[C,V,H]=y,q=Qa(V);C===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(H)):D.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Kc(e).get(u).next(d=>{if(null===d)throw ft();Ut(d.userId===this.userId),r.push(Tf(this.It,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return IN(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dm(e).Z({range:r},(u,d,f)=>{if(u[0]===this.userId){const y=Qa(u[1]);i.push(y)}else f.done()}).next(()=>{Ut(0===i.length)})})}containsKey(e,t){return bN(e,this.userId,t)}Rn(e){return DN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bN(n,e,t){const r=Tb(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return dm(n).Z({range:u,X:!0},(f,y,w)=>{const[D,C,V]=f;D===e&&C===i&&(d=!0),w.done()}).next(()=>d)}function Kc(n){return ci(n,"mutations")}function dm(n){return ci(n,"documentMutations")}function DN(n){return ci(n,"mutationQueues")}class Mf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Mf(0)}static vn(){return new Mf(-1)}}class Ik{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Mf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ht.fromTimestamp(new Un(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hm(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return hm(e).Z((d,f)=>{const y=n0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(e,t){return hm(e).Z((r,i)=>{const u=n0(i);t(u)})}Vn(e){return TN(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}Sn(e,t){return TN(e).put("targetGlobalKey",t)}Dn(e,t){return hm(e).put(hN(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ef(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return hm(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=n0(f);Gv(t,w.target)&&(u=w,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Yc(e);return t.forEach(d=>{const f=Yi(d.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yc(e);return de.forEach(t,u=>{const d=Yi(u.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Yc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yc(e);let u=sn();return i.Z({range:r,X:!0},(d,f,y)=>{const w=Qa(d[1]),D=new nt(w);u=u.add(D)}).next(()=>u)}containsKey(e,t){const r=Yi(t.path),i=IDBKeyRange.bound([r],[Yg(r)],!1,!0);let u=0;return Yc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}se(e,t){return hm(e).get(t).next(r=>r?n0(r):null)}}function hm(n){return ci(n,"targets")}function TN(n){return ci(n,"targetGlobal")}function Yc(n){return ci(n,"targetDocuments")}function CN([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class bk{constructor(e){this.xn=e,this.buffer=new a(CN),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){fl(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Za(r)}yield t.Fn(3e5)}))}}class Tk{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Wi.at);const r=new bk(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(wN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wN):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,d,f,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,d=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,f=Date.now(),this.removeTargets(e,r,t))).next(C=>(u=C,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(w=Date.now(),Zg()<=$a.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${u} targets in `+(y-f)+`ms\n\tRemoved ${C} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:C})))}}class Ck{constructor(e,t){this.db=e,this.garbageCollector=new Tk(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Rb(e,r)}removeReference(e,t,r){return Rb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Rb(e,t)}Gn(e,t){return function(r,i){let u=!1;return DN(r).tt(d=>bN(r,d,i).next(f=>(f&&(u=!0),de.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(w=>{if(!w)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ht.min()),Yc(e).delete([0,Yi(d.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Rb(e,t)}Kn(e,t){const r=Yc(e);let i,u=Wi.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(u!==Wi.at&&t(new nt(Qa(i)),u),u=w,i=y):u=Wi.at}).next(()=>{u!==Wi.at&&t(new nt(Qa(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rb(n,e){return Yc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class AN{constructor(){this.changes=new Zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ak{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xf(e).put(r)}removeEntry(e,t,r){return xf(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Cb(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=er.newInvalidDocument(t);return xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(u0(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:er.newInvalidDocument(t)};return xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(u0(t))},(i,u)=>{r={document:this.jn(t,u),size:xb(u)}}).next(()=>r)}getEntries(e,t){let r=vs();return this.zn(e,t,(i,u)=>{const d=this.jn(i,u);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=vs(),i=new wr(nt.comparator);return this.zn(e,t,(u,d)=>{const f=this.jn(u,d);r=r.insert(u,f),i=i.insert(u,xb(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return de.resolve();let i=new a(NN);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(u0(i.first()),u0(i.last())),d=i.getIterator();let f=d.getNext();return xf(e).Z({index:"documentKeyIndex",range:u},(y,w,D)=>{const C=nt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&NN(f,C)<0;)r(f,null),f=d.getNext();f&&f.isEqual(C)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?D.j(u0(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Cb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xf(e).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let f=vs();for(const y of d){const w=this.jn(nt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=vs();const d=xN(t,r),f=xN(t,Ii.max());return xf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,D)=>{const C=this.jn(nt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(C.key,C),u.size===i&&D.done()}).next(()=>u)}newChangeBuffer(e){return new Sk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return MN(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Qn(e,t){return MN(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function fk(n,e){let t;if(e.document)t=X1(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),i=Df(e.noDocument.readTime);t=er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=nt.fromSegments(e.unknownDocument.path),i=Df(e.unknownDocument.version);t=er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Un(r[0],r[1]);return Ht.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ht.min()))return r}return er.newInvalidDocument(e)}}function SN(n){return new Ak(n)}class Sk extends AN{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Zc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new a((u,d)=>Yt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),d.isValidDocument()){const y=dN(this.Yn.It,d);i=i.add(u.path.popLast()),r+=xb(y)-f.size,t.push(this.Yn.addEntry(e,u,y))}else if(r-=f.size,this.trackRemovals){const y=dN(this.Yn.It,d.convertToNoDocument(Ht.min()));t.push(this.Yn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function MN(n){return ci(n,"remoteDocumentGlobal")}function xf(n){return ci(n,"remoteDocumentsV14")}function u0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xN(n,e){const t=e.documentKey.path.toArray();return[n,Cb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function NN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Yt(t[u],r[u]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class Mk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Zv(r.mutation,i,p.empty(),Un.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const i=Ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=Wv();return u.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let u=vs();const d=Kv(),f=Kv();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof yl)?u=u.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),Zv(D.mutation,w,D.mutation.getFieldMask(),Un.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var C;return f.set(w,new Mk(D,null!==(C=d.get(w))&&void 0!==C?C:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Kv();let i=new wr((d,f)=>d-f),u=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||p.empty();D=f.applyToLocalView(w,D),r.set(y,D);const C=(i.get(f.batchId)||sn()).add(y);i=i.insert(f.batchId,C)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,C=$1();D.forEach(V=>{if(!u.has(V)){const H=P1(t.get(V),r.get(V));null!==H&&C.set(V,H),u=u.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,C))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):de.resolve(Ka());let f=-1,y=u;return d.next(w=>de.forEach(w,(D,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),u.get(D)?de.resolve():this.getBaseDocument(e,D,C).next(V=>{y=y.insert(D,V)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,y,w,sn())).next(D=>({batchId:f,changes:j1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let i=Wv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Wv();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,f=>{const y=(w=t,D=f.child(i),new ml(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,C)=>{u=u.insert(D,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,er.newInvalidDocument(w)))});let d=Wv();return i.forEach((f,y)=>{const w=u.get(f);void 0!==w&&Zv(w.mutation,y,p.empty(),Un.now()),VA(t,y)&&(d=d.insert(f,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(er.newInvalidDocument(t))}}class xk{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:li(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:WA(r.bundledQuery),readTime:li(r.readTime)}),de.resolve();var r}}class Nk{constructor(){this.overlays=new wr(nt.comparator),this.es=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ka();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=Ka(),u=t.length+1,d=new nt(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new wr((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=u.get(w.largestBatchId);null===D&&(D=Ka(),u=u.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Ka(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return de.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ZA(t,r));let u=this.es.get(t);void 0===u&&(u=sn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class QA{constructor(){this.ns=new a(di.ss),this.rs=new a(di.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new di(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new di(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new nt(new En([])),r=new di(t,e),i=new di(t,e+1),u=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new nt(new En([])),r=new di(t,e),i=new di(t,e+1);let u=sn();return this.rs.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new di(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return nt.comparator(e.key,t.key)||Yt(e._s,t._s)}static os(e,t){return Yt(e._s,t._s)||nt.comparator(e.key,t.key)}}class Rk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new a(di.ss)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const d=new zA(u,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new di(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);u.push(f)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a(Yt);return t.forEach(i=>{const u=new di(i,0),d=new di(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],f=>{r=r.add(f._s)})}),de.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;nt.isDocumentKey(u)||(u=u.child(""));const d=new di(new nt(u),0);let f=new a(Yt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y._s)),!0)},d),de.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return de.forEach(t.mutations,i=>{const u=new di(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new di(t,0),i=this.gs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pk{constructor(e){this.Es=e,this.docs=new wr(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():er.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=vs();const u=new nt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||pb(Uv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ft()}As(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ok(this)}getSize(e){return de.resolve(this.size)}}class Ok extends AN{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class kk{constructor(e){this.persistence=e,this.Rs=new Zc(t=>Ef(t),Gv),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.bs=0,this.Ps=new QA,this.targetCount=0,this.vs=Mf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),de.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Mf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Dn(t),de.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ps.containsKey(t))}}class PN{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Wi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new kk(this),this.indexManager=new Ek,this.remoteDocumentCache=new Pk(r=>this.referenceDelegate.xs(r)),this.It=new cN(t),this.Ns=new xk(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Rk(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new Fk(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return de.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Fk extends Xg{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.Fs=new QA,this.$s=null}static Bs(e){return new Pb(e)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,r=>{const i=nt.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,Ht.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Lk{constructor(e){this.It=e}$(e,t,r,i){const u=new $v("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sN,{unique:!0}),f.createObjectStore("documentMutations"),ON(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),ON(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sN,{unique:!0});const D=y.store("mutations"),C=w.map(V=>D.put(V));return de.waitFor(C)})}(e,u))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(u))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(u))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(u))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:uk});y.createIndex("collectionPathOverlayIndex",lk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",ck,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:QO});y.createIndex("documentKeyIndex",JO),y.createIndex("collectionGroupIndex",XO)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ik}).createIndex("sequenceNumberIndex",sk,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ok}).createIndex("documentKeyIndex",ak,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=xb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>de.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>de.forEach(f,y=>{Ut(y.userId===u.userId);const w=Tf(this.It,y);return IN(e,u.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((d,f)=>{const y=new En(d),w=[0,Yi(y)];u.push(t.get(w).next(D=>D?de.resolve():t.put({targetId:0,path:Yi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:rk});const r=t.store("collectionParents"),i=new YA,u=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:Yi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new En(d);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],w)=>{const D=Qa(f);return u(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=n0(i),d=hN(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new nt(En.fromString(w.document.name).popFirst(5)):w.noDocument?nt.fromSegments(w.noDocument.path):w.unknownDocument?nt.fromSegments(w.unknownDocument.path):ft()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>de.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=SN(this.It),u=new PN(Pb.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:sn();Tf(this.It,y).keys().forEach(C=>D=D.add(C)),f.set(y.userId,D)}),de.forEach(f,(y,w)=>{const D=new vr(w),C=Ab.oe(this.It,D),V=u.getIndexManager(D),H=Nb.oe(D,this.It,V,u.referenceDelegate);return new RN(i,H,C,V).recalculateAndSaveOverlaysForDocumentKeys(new GA(t,Wi.at),y).next()})})}}function ON(n){n.createObjectStore("targetDocuments",{keyPath:tk}).createIndex("documentTargetsIndex",nk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ek,{unique:!0}),n.createObjectStore("targetGlobal")}const JA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XA{constructor(e,t,r,i,u,d,f,y,w,D,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=f,this.Js=w,this.Ys=D,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!XA.C())throw new Be(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ck(this,i),this.ii=t+"main",this.It=new cN(y),this.ri=new js(this.ii,this.Xs,new Lk(this.It)),this.Cs=new Ik(this.referenceDelegate,this.It),this.remoteDocumentCache=SN(this.It),this.Ns=new pk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,JA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Wi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Me.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ob(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(fl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return l0(e).get("owner").next(t=>de.resolve(this.mi(t)))}gi(e){return Ob(e).delete(this.clientId)}yi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.W().next(u=>{const d=e.Ii(u,18e5),f=u.filter(y=>-1===d.indexOf(y));return de.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?de.resolve(!0):l0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,JA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ob(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new GA(t,Wi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ob(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Nb.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new wk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Ab.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?hk:14===d?lN:13===d?uN:12===d?dk:11===d?aN:void ft();var d;let f;return this.ri.runTransaction(e,i,u,y=>(f=new GA(y,this.Ss?this.Ss.next():Wi.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(ve.FAILED_PRECONDITION,Bv);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return l0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(ve.FAILED_PRECONDITION,JA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return l0(e).put("owner",t)}static C(){return js.C()}_i(e){const t=l0(e);return t.get("owner").next(r=>this.mi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,bn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function l0(n){return ci(n,"owner")}function Ob(n){return ci(n,"clientMetadata")}function eS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=sn(),i=sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new tS(e,t.fromCache,r,i)}}class kN{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(w1(t))return de.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=vb(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=sn(...u);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,f);return this.$i(t,w,d,y.readTime)?this.ki(e,vb(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return w1(t)||i.isEqual(Ht.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,i)?this.Mi(e,t):(Zg()<=$a.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),LA(t)),this.Bi(e,d,t,fb(i,-1)))})}Fi(e,t){let r=new a(D1(e));return t.forEach((i,u)=>{VA(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return Zg()<=$a.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",LA(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ii.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Vk{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new wr(Yt),this.qi=new Zc(u=>Ef(u),Gv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function FN(n,e,t,r){return new Vk(n,e,t,r)}function LN(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,Me.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],f=[];let y=sn();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of u){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),nS.apply(this,arguments)}function Uk(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const D=y.batch,C=D.keys();let V=de.resolve();return C.forEach(H=>{V=V.next(()=>w.getEntry(f,H)).next(q=>{const oe=y.docVersions.get(H);Ut(null!==oe),q.version.compareTo(oe)<0&&(D.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),w.addEntry(q)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(f,D))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=sn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function VN(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Bk(n,e){const t=it(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((D,C)=>{const V=i.get(C);if(!V)return;f.push(t.Cs.removeMatchingKeys(u,D.removedDocuments,C).next(()=>t.Cs.addMatchingKeys(u,D.addedDocuments,C)));let H=V.withSequenceNumber(u.currentSequenceNumber);var q,oe,me;e.targetMismatches.has(C)?H=H.withResumeToken(E.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),i=i.insert(C,H),oe=H,me=D,(0===(q=V).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,H))});let y=vs(),w=sn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),f.push(UN(u,d,e.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!r.isEqual(Ht.min())){const D=t.Cs.getLastRemoteSnapshotVersion(u).next(C=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(D)}return de.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.Ui=i,u))}function UN(n,e,t){let r=sn(),i=sn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=vs();return t.forEach((f,y)=>{const w=u.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Ht.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function jk(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fm(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,de.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Wc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function pm(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,Me.Z)(function*(n,e,t){const r=it(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!fl(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),rS.apply(this,arguments)}function kb(n,e,t){const r=it(n);let i=Ht.min(),u=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const D=it(f),C=D.qi.get(w);return void 0!==C?de.resolve(D.Ui.get(C)):D.Cs.getTargetData(y,w)}(r,d,Ki(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{u=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Ht.min(),t?u:sn())).next(f=>($N(r,b1(e),f),{documents:f,Hi:u})))}function BN(n,e){const t=it(n),r=it(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function jN(n,e){const t=it(n),r=t.Ki.get(e)||Ht.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,fb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($N(t,e,i),i))}function $N(n,e,t){let r=n.Ki.get(e)||Ht.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function iS(){return iS=(0,Me.Z)(function*(n,e,t,r){const i=it(n);let u=sn(),d=vs();for(const w of t){const D=e.Ji(w.metadata.name);w.document&&(u=u.add(D));const C=e.Yi(w);C.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(D,C)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield fm(i,(w=r,Ki(rm(En.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>UN(w,f,d).next(D=>(f.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),iS.apply(this,arguments)}function Hk(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,Me.Z)(function*(n,e,t=sn()){const r=yield fm(n,Ki(WA(e.bundledQuery))),i=it(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=li(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(E.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(u,f).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),sS.apply(this,arguments)}function HN(n,e){return`firestore_clients_${n}_${e}`}function GN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oS(n,e){return`firestore_targets_${n}_${e}`}class Fb{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Be(i.error.code,i.error.message))),d?new Fb(e,t,i.state,u):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class c0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Be(r.error.code,r.error.message))),u?new c0(e,r.state,i):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=bb();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Le(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new Lb(e,u):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aS(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uS{constructor(){this.activeTargetIds=bb()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lS{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wr(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=HN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new uS),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(HN(e.persistenceKey,i));if(u){const d=Lb.Zi(i,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(oS(this.persistenceKey,e));if(r){const i=c0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let d=Wi.at;if(null!=u)try{const f=JSON.parse(u);Ut("number"==typeof f),d=f}catch(f){Er("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Wi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Fb(this.currentUser,e,t,r),u=GN(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=GN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=oS(this.persistenceKey,e),u=new c0(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Lb.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Fb.Zi(new vr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return c0.Zi(i,t)}yr(e){return aS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),d=[],f=[];return u.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{u.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=bb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class zN{constructor(){this.Lr=new uS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gk{qr(e){}shutdown(){}}class qN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qk{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Zk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const d=this.ho(e,t);Ge("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,u),this.fo(e,d,f,r).then(y=>(Ge("RestConnection","Received: ",y),y),y=>{throw Hc("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,u,d){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${zk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,d)=>{const f=new ub;f.listenOnce(Ov.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sb.NO_ERROR:const w=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),u(w);break;case sb.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),d(new Be(ve.DEADLINE_EXCEEDED,"Request time out"));break;case sb.HTTP_ERROR:const D=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const C=f.getResponseJson().error;if(C&&C.status&&C.message){const V=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(q)>=0?q:ve.UNKNOWN}(C.status);d(new Be(V,C.message))}else d(new Be(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Be(ve.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=IA(),d=ib(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new ab({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Ge("Connection","Creating WebChannel: "+y,f);const w=u.createWebChannel(y,f);let D=!1,C=!1;const V=new qk({Hr:q=>{C?Ge("Connection","Not sending because WebChannel is closed:",q):(D||(Ge("Connection","Opening WebChannel transport."),w.open(),D=!0),Ge("Connection","WebChannel sending:",q),w.send(q))},Jr:()=>w.close()}),H=(q,oe,me)=>{q.listen(oe,tt=>{try{me(tt)}catch(at){setTimeout(()=>{throw at},0)}})};return H(w,ff.EventType.OPEN,()=>{C||Ge("Connection","WebChannel transport opened.")}),H(w,ff.EventType.CLOSE,()=>{C||(C=!0,Ge("Connection","WebChannel transport closed"),V.io())}),H(w,ff.EventType.ERROR,q=>{C||(C=!0,Hc("Connection","WebChannel transport errored:",q),V.io(new Be(ve.UNAVAILABLE,"The operation could not be completed")))}),H(w,ff.EventType.MESSAGE,q=>{var oe;if(!C){const me=q.data[0];Ut(!!me);const tt=me,at=tt.error||(null===(oe=tt[0])||void 0===oe?void 0:oe.error);if(at){Ge("Connection","WebChannel received error:",at);const Nt=at.status;let wt=function(Zt){const wn=qr[Zt];if(void 0!==wn)return U1(wn)}(Nt),Bt=at.message;void 0===wt&&(wt=ve.INTERNAL,Bt="Unknown error status: "+Nt+" with message "+at.message),C=!0,V.io(new Be(wt,Bt)),w.close()}else Ge("Connection","WebChannel received:",me),V.ro(me)}}),H(d,ob.STAT_EVENT,q=>{q.stat===kv.PROXY?Ge("Connection","Detected buffering proxy"):q.stat===kv.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function ZN(){return typeof window<"u"?window:null}function Vb(){return typeof document<"u"?document:null}function d0(n){return new VO(n,!0)}class cS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class WN{constructor(e,t,r,i,u,d,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new cS(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Me.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Me.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Me.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Be(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Me.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wk extends WN{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function jO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ft(),i=e.targetChange.targetIds||[],u=function(y,w){return y.gt?(Ut(void 0===w||"string"==typeof w),E.fromBase64String(w||"")):(Ut(void 0===w||w instanceof Uint8Array),E.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const w=void 0===y.code?ve.UNKNOWN:U1(y.code);return new Be(w,y.message||"")}(d);t=new G1(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ya(n,r.document.name),u=li(r.document.updateTime),d=new bi({mapValue:{fields:r.document.fields}}),f=er.newFoundDocument(i,u,d);t=new Db(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ya(n,r.document),u=r.readTime?li(r.readTime):Ht.min(),d=er.newNoDocument(i,u);t=new Db([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ya(n,r.document);t=new Db([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,u=new xO(r.count||0);t=new H1(r.targetId,u)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Ht.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Ht.min():u.readTime?li(u.readTime):Ht.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=e0(this.It),t.addTarget=function(i,u){let d;const f=u.target;return d=yb(f)?{documents:eN(i,f)}:{query:HA(i,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=W1(i,u.resumeToken):u.snapshotVersion.compareTo(Ht.min())>0&&(d.readTime=Jv(i,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function HO(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=e0(this.It),t.removeTarget=e,this.Lo(t)}}class Kk extends WN{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function $O(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,i){let u=li(r.updateTime?r.updateTime:i);return u.isEqual(Ht.min())&&(u=li(i)),new AO(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.tu(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=e0(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>t0(this.It,r))};this.Lo(t)}}class Yk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(ve.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Be(ve.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class Jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Er(t),this.uu=!1):Ge("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Xk{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(f=>{r.enqueueAndForget((0,Me.Z)(function*(){var y;_l(d)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Me.Z)(function*(w){const D=it(w);D.wu.add(4),yield gm(D),D.yu.set("Unknown"),D.wu.delete(4),yield h0(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new Jk(r,i)}}function h0(n){return hS.apply(this,arguments)}function hS(){return hS=(0,Me.Z)(function*(n){if(_l(n))for(const e of n.mu)yield e(!0)}),hS.apply(this,arguments)}function gm(n){return fS.apply(this,arguments)}function fS(){return fS=(0,Me.Z)(function*(n){for(const e of n.mu)yield e(!1)}),fS.apply(this,arguments)}function Ub(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),mS(t)?gS(t):ym(t).Oo()&&pS(t,e))}function f0(n,e){const t=it(n),r=ym(t);t._u.delete(e),r.Oo()&&KN(t,e),0===t._u.size&&(r.Oo()?r.$o():_l(t)&&t.yu.set("Unknown"))}function pS(n,e){n.pu.Mt(e.targetId),ym(n).Ho(e)}function KN(n,e){n.pu.Mt(e),ym(n).Jo(e)}function gS(n){n.pu=new kO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),ym(n).start(),n.yu.cu()}function mS(n){return _l(n)&&!ym(n).ko()&&n._u.size>0}function _l(n){return 0===it(n).wu.size}function YN(n){n.pu=void 0}function eF(n){return yS.apply(this,arguments)}function yS(){return yS=(0,Me.Z)(function*(n){n._u.forEach((e,t)=>{pS(n,e)})}),yS.apply(this,arguments)}function tF(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,Me.Z)(function*(n,e){YN(n),mS(n)?(n.yu.lu(e),gS(n)):n.yu.set("Unknown")}),_S.apply(this,arguments)}function nF(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,Me.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof G1&&2===e.state&&e.cause)try{yield(r=(0,Me.Z)(function*(i,u){const d=u.cause;for(const f of u.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bb(n,r)}else if(e instanceof Db?n.pu.Gt(e):e instanceof H1?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Ht.min()))try{const r=yield VN(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.pu.te(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(f=>{const y=i._u.get(f);if(!y)return;i._u.set(f,y.withResumeToken(E.EMPTY_BYTE_STRING,y.snapshotVersion)),KN(i,f);const w=new Wc(y.target,f,1,y.sequenceNumber);pS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield Bb(n,r)}var r}),vS.apply(this,arguments)}function Bb(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,Me.Z)(function*(n,e,t){if(!fl(e))throw e;n.wu.add(1),yield gm(n),n.yu.set("Offline"),t||(t=()=>VN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield h0(n)}))}),ES.apply(this,arguments)}function QN(n,e){return e().catch(t=>Bb(n,t,e))}function mm(n){return wS.apply(this,arguments)}function wS(){return wS=(0,Me.Z)(function*(n){const e=it(n),t=Qc(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;rF(e);)try{const i=yield jk(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,iF(e,i)}catch(i){yield Bb(e,i)}JN(e)&&XN(e)}),wS.apply(this,arguments)}function rF(n){return _l(n)&&n.du.length<10}function iF(n,e){n.du.push(e);const t=Qc(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function JN(n){return _l(n)&&!Qc(n).ko()&&n.du.length>0}function XN(n){Qc(n).start()}function sF(n){return IS.apply(this,arguments)}function IS(){return IS=(0,Me.Z)(function*(n){Qc(n).nu()}),IS.apply(this,arguments)}function oF(n){return bS.apply(this,arguments)}function bS(){return bS=(0,Me.Z)(function*(n){const e=Qc(n);for(const t of n.du)e.Zo(t.mutations)}),bS.apply(this,arguments)}function aF(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,Me.Z)(function*(n,e,t){const r=n.du.shift(),i=qA.from(r,e,t);yield QN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield mm(n)}),DS.apply(this,arguments)}function uF(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,Me.Z)(function*(n,e){var t;e&&Qc(n).Xo&&(yield(t=(0,Me.Z)(function*(r,i){if(V1(u=i.code)&&u!==ve.ABORTED){const d=r.du.shift();Qc(r).Fo(),yield QN(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield mm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),JN(n)&&XN(n)}),TS.apply(this,arguments)}function eR(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,Me.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=_l(t);t.wu.add(3),yield gm(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield h0(t)}),CS.apply(this,arguments)}function AS(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,Me.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield h0(t)):e||(t.wu.add(2),yield gm(t),t.yu.set("Unknown"))}),SS.apply(this,arguments)}function ym(n){return n.Iu||(n.Iu=function(e,t,r){const i=it(e);return i.iu(),new Wk(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:eF.bind(null,n),Zr:tF.bind(null,n),zo:nF.bind(null,n)}),n.mu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Iu.Fo(),mS(n)?gS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),YN(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Qc(n){return n.Tu||(n.Tu=function(e,t,r){const i=it(e);return i.iu(),new Kk(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:sF.bind(null,n),Zr:uF.bind(null,n),eu:oF.bind(null,n),tu:aF.bind(null,n)}),n.mu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Tu.Fo(),yield mm(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class MS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,f=new MS(e,t,d,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(n,e){if(Er("AsyncQueue",`${e}: ${n}`),fl(n))return new Be(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class vm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Wv(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new vm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tR{constructor(){this.Eu=new wr(nt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ft():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Em{constructor(e,t,r,i,u,d,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Em(e,t,vm.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class lF{constructor(){this.Ru=void 0,this.listeners=[]}}class cF{constructor(){this.queries=new Zc(e=>I1(e),zv),this.onlineState="Unknown",this.bu=new Set}}function xS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new lF),i)try{u.Ru=yield t.onListen(r)}catch(d){const f=_m(d,`Initialization of query '${LA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&OS(t)}),NS.apply(this,arguments)}function RS(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),PS.apply(this,arguments)}function dF(n,e){const t=it(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.vu(i)&&(r=!0);d.Ru=i}}r&&OS(t)}function hF(n,e,t){const r=it(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function OS(n){n.bu.forEach(e=>{e.next()})}class kS{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class fF{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class nR{constructor(e){this.It=e}Ji(e){return Ya(this.It,e)}Yi(e){return e.metadata.exists?X1(this.It,e.document,!1):er.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return li(e)}}class pF{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=En.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new nR(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||sn()).add(u);t.set(d,f)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function $k(n,e,t,r){return iS.apply(this,arguments)}(e.localStore,new nR(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Hk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function rR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iR{constructor(e){this.key=e}}class sR{constructor(e){this.key=e}}class oR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=D1(e),this.Qu=new vm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new tR,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,C)=>{const V=i.get(D),H=VA(this.query,C)?C:null,q=!!V&&this.mutatedKeys.has(V.key),oe=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let me=!1;V&&H?V.data.isEqual(H.data)?q!==oe&&(r.track({type:3,doc:H}),me=!0):this.Hu(V,H)||(r.track({type:2,doc:H}),me=!0,(y&&this.Gu(H,y)>0||w&&this.Gu(H,w)<0)&&(f=!0)):!V&&H?(r.track({type:0,doc:H}),me=!0):V&&!H&&(r.track({type:1,doc:V}),me=!0,(y||w)&&(f=!0)),me&&(H?(d=d.add(H),u=oe?u.add(D):u.delete(D)):(d=d.delete(D),u=u.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),u=u.delete(D.key),r.track({type:1,doc:D})}return{Qu:d,zu:r,$i:f,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((w,D)=>function(C,V){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return H(C)-H(V)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==u.length||y?{snapshot:new Em(this.query,e.Qu,i,u,e.mutatedKeys,0===f,y,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new tR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new sR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new iR(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Em.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class gF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mF{constructor(e){this.key=e,this.nc=!1}}class yF{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Zc(f=>I1(f),zv),this.rc=new Map,this.oc=new Set,this.uc=new wr(nt.comparator),this.cc=new Map,this.ac=new QA,this.hc={},this.lc=new Map,this.fc=Mf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _F(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,Me.Z)(function*(n,e){const t=sM(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const d=yield fm(t.localStore,Ki(e));t.isPrimaryClient&&Ub(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield LS(t,e,r,"current"===f)}return i}),FS.apply(this,arguments)}function LS(n,e,t,r){return VS.apply(this,arguments)}function VS(){return VS=(0,Me.Z)(function*(n,e,t,r){n._c=(D,C,V)=>{return(H=(0,Me.Z)(function*(q,oe,me,tt){let at=oe.view.Wu(me);at.$i&&(at=yield kb(q.localStore,oe.query,!1).then(({documents:Bt})=>oe.view.Wu(Bt,at)));const Nt=tt&&tt.targetChanges.get(oe.targetId),wt=oe.view.applyChanges(at,q.isPrimaryClient,Nt);return WS(q,oe.targetId,wt.Xu),wt.snapshot}),function(q,oe,me,tt){return H.apply(this,arguments)})(n,D,C,V);var H};const i=yield kb(n.localStore,e,!0),u=new oR(e,i.Hi),d=u.Wu(i.documents),f=Qv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(d,n.isPrimaryClient,f);WS(n,t,y.Xu);const w=new gF(e,t,u);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),y.snapshot}),VS.apply(this,arguments)}function vF(n,e){return US.apply(this,arguments)}function US(){return US=(0,Me.Z)(function*(n,e){const t=it(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!zv(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),f0(t.remoteStore,r.targetId),wm(t,r.targetId)}).catch(Za))):(wm(t,r.targetId),yield pm(t.localStore,r.targetId,!0))}),US.apply(this,arguments)}function BS(){return BS=(0,Me.Z)(function*(n,e,t){const r=oM(n);try{const i=yield function(u,d){const f=it(u),y=Un.now(),w=d.reduce((V,H)=>V.add(H.key),sn());let D,C;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let H=vs(),q=sn();return f.Gi.getEntries(V,w).next(oe=>{H=oe,H.forEach((me,tt)=>{tt.isValidDocument()||(q=q.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,H)).next(oe=>{D=oe;const me=[];for(const tt of d){const at=MO(tt,D.get(tt.key).overlayedDocument);null!=at&&me.push(new yl(tt.key,at,f1(at.value.mapValue),fr.exists(!0)))}return f.mutationQueue.addMutationBatch(V,y,me,d)}).next(oe=>{C=oe;const me=oe.applyToLocalDocumentSet(D,q);return f.documentOverlayCache.saveOverlays(V,oe.batchId,me)})}).then(()=>({batchId:C.batchId,changes:j1(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let y=u.hc[u.currentUser.toKey()];y||(y=new wr(Yt)),y=y.insert(d,f),u.hc[u.currentUser.toKey()]=y}(r,i.batchId,t),yield vl(r,i.changes),yield mm(r.remoteStore)}catch(i){const u=_m(i,"Failed to persist write");t.reject(u)}}),BS.apply(this,arguments)}function aR(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,Me.Z)(function*(n,e){const t=it(n);try{const r=yield Bk(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.cc.get(u);d&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Ut(d.nc):i.removedDocuments.size>0&&(Ut(d.nc),d.nc=!1))}),yield vl(t,r,e)}catch(r){yield Za(r)}}),jS.apply(this,arguments)}function uR(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(u,d){const f=it(u);f.onlineState=d;let y=!1;f.queries.forEach((w,D)=>{for(const C of D.listeners)C.Pu(d)&&(y=!0)}),y&&OS(f)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wF(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,Me.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let d=new wr(nt.comparator);d=d.insert(u,er.newNoDocument(u,Ht.min()));const f=sn().add(u),y=new Yv(Ht.min(),new Map,new a(Yt),d,f);yield aR(r,y),r.uc=r.uc.remove(u),r.cc.delete(e),KS(r)}else yield pm(r.localStore,e,!1).then(()=>wm(r,e,t)).catch(Za)}),$S.apply(this,arguments)}function IF(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const i=yield Uk(t.localStore,e);ZS(t,r,null),qS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vl(t,i)}catch(i){yield Za(i)}}),HS.apply(this,arguments)}function bF(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,Me.Z)(function*(n,e,t){const r=it(n);try{const i=yield function(u,d){const f=it(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(D=>(Ut(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);ZS(r,e,t),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vl(r,i)}catch(i){yield Za(i)}}),GS.apply(this,arguments)}function zS(){return zS=(0,Me.Z)(function*(n,e){const t=it(n);_l(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=it(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=_m(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),zS.apply(this,arguments)}function qS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function ZS(n,e,t){const r=it(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function wm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||lR(n,r)})}function lR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(f0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),KS(n))}function WS(n,e,t){for(const r of t)r instanceof iR?(n.ac.addReference(r.key,e),TF(n,r)):r instanceof sR?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||lR(n,r.key)):ft()}function TF(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.oc.add(r),KS(n))}function KS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new nt(En.fromString(e)),r=n.fc.next();n.cc.set(r,new mF(t)),n.uc=n.uc.insert(t,r),Ub(n.remoteStore,new Wc(Ki(rm(t.path)),r,2,Wi.at))}}function vl(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,Me.Z)(function*(n,e,t){const r=it(n),i=[],u=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=tS.Ci(y.targetId,w);u.push(D)}}))}),yield Promise.all(d),r.sc.zo(i),yield(f=(0,Me.Z)(function*(y,w){const D=it(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>de.forEach(w,V=>de.forEach(V.Si,H=>D.persistence.referenceDelegate.addReference(C,V.targetId,H)).next(()=>de.forEach(V.Di,H=>D.persistence.referenceDelegate.removeReference(C,V.targetId,H)))))}catch(C){if(!fl(C))throw C;Ge("LocalStore","Failed to update sequence numbers: "+C)}for(const C of w){const V=C.targetId;if(!C.fromCache){const H=D.Ui.get(V),oe=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.Ui=D.Ui.insert(V,oe)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,u))}),YS.apply(this,arguments)}function CF(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,Me.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield LN(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new Be(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vl(t,r.ji)}var i}),QS.apply(this,arguments)}function AF(n,e){const t=it(n),r=t.cc.get(e);if(r&&r.nc)return sn().add(r.key);{let i=sn();const u=t.rc.get(e);if(!u)return i;for(const d of u){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function SF(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,Me.Z)(function*(n,e){const t=it(n),r=yield kb(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&WS(t,e.targetId,i.Xu),i}),JS.apply(this,arguments)}function MF(n,e){return XS.apply(this,arguments)}function XS(){return XS=(0,Me.Z)(function*(n,e){const t=it(n);return jN(t.localStore,e).then(r=>vl(t,r))}),XS.apply(this,arguments)}function xF(n,e,t,r){return eM.apply(this,arguments)}function eM(){return eM=(0,Me.Z)(function*(n,e,t,r){const i=it(n),u=yield function(d,f){const y=it(d),w=it(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,f).next(C=>C?y.localDocuments.getDocuments(D,C):de.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield mm(i.remoteStore):"acknowledged"===t||"rejected"===t?(ZS(i,e,r||null),qS(i,e),f=e,it(it(i.localStore).mutationQueue).An(f)):ft(),yield vl(i,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),eM.apply(this,arguments)}function tM(){return tM=(0,Me.Z)(function*(n,e){const t=it(n);if(sM(t),oM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield cR(t,r.toArray());t.dc=!0,yield AS(t.remoteStore,!0);for(const u of i)Ub(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(wm(t,d),pm(t.localStore,d,!0))),f0(t.remoteStore,d)}),yield i,yield cR(t,r),function(u){const d=it(u);d.cc.forEach((f,y)=>{f0(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new wr(nt.comparator)}(t),t.dc=!1,yield AS(t.remoteStore,!1)}}),tM.apply(this,arguments)}function cR(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,Me.Z)(function*(n,e,t){const r=it(n),i=[],u=[];for(const d of e){let f;const y=r.rc.get(d);if(y&&0!==y.length){f=yield fm(r.localStore,Ki(y[0]));for(const w of y){const D=r.ic.get(w),C=yield SF(r,D);C.snapshot&&u.push(C.snapshot)}}else{const w=yield BN(r.localStore,d);f=yield fm(r.localStore,w),yield LS(r,dR(w),d,!1)}i.push(f)}return r.sc.zo(u),i}),nM.apply(this,arguments)}function dR(n){return E1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RF(n){const e=it(n);return it(it(e.localStore).persistence).vi()}function PF(n,e,t,r){return rM.apply(this,arguments)}function rM(){return rM=(0,Me.Z)(function*(n,e,t,r){const i=it(n);if(i.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield jN(i.localStore,b1(u[0])),f=Yv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield vl(i,d,f);break}case"rejected":yield pm(i.localStore,e,!0),wm(i,e,r);break;default:ft()}}),rM.apply(this,arguments)}function OF(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,Me.Z)(function*(n,e,t){const r=sM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const u=yield BN(r.localStore,i),d=yield fm(r.localStore,u);yield LS(r,dR(u),d.targetId,!1),Ub(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield pm(r.localStore,i,!1).then(()=>{f0(r.remoteStore,i),wm(r,i)}).catch(Za))}}),iM.apply(this,arguments)}function sM(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.sc.zo=dF.bind(null,e.eventManager),e.sc.wc=hF.bind(null,e.eventManager),e}function oM(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}class hR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.It=d0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return FN(this.persistence,new kN,e.initialUser,this.It)}yc(e){return new PN(Pb.Bs,this.It)}gc(e){return new zN}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fR extends hR{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield oM(r.Ac.syncEngine),yield mm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return FN(this.persistence,new kN,e.initialUser,this.It)}Tc(e,t){return new Dk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new u1(t,this.persistence);return new NA(e.asyncQueue,r)}yc(e){const t=eS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new XA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ZN(),Vb(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new zN}}class FF extends fR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof lS&&(r.sharedClientState.syncEngine={Fr:xF.bind(null,i),$r:PF.bind(null,i),Br:OF.bind(null,i),vi:RF.bind(null,i),Mr:MF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Me.Z)(function*(d){yield function NF(n,e){return tM.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=ZN();if(!lS.C(t))throw new Be(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class aM{initialize(e,t){var r=this;return(0,Me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CF.bind(null,r.syncEngine),yield AS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cF}createDatastore(e){const t=d0(e.databaseInfo.databaseId),r=new Zk(e.databaseInfo);return new Yk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>uR(this.syncEngine,f,0),d=qN.C()?new qN:new Gk,new Xk(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,f,y,w){const D=new yF(r,i,u,d,f,y);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const r=it(t);Ge("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield gm(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uM(n,e,t){if(!t)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pR(n,e,t,r){if(!0===e&&!0===r)throw new Be(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gR(n){if(!nt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mR(n){if(nt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jb(n);throw new Be(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yR(n,e){if(e<=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const _R=new Map;class vR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new s1;switch(t.type){case"gapi":return new AA(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_R.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),_R.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class Ja extends xi{constructor(e,t,r){super(e,t,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new nt(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function wR(n,e,...t){if(n=(0,bn.m9)(n),uM("collection","path",e),n instanceof p0){const r=En.fromString(e,...t);return mR(r),new Ja(n,null,r)}{if(!(n instanceof ir||n instanceof Ja))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return mR(r),new Ja(n.firestore,null,r)}}function $b(n,e,...t){if(n=(0,bn.m9)(n),1===arguments.length&&(e=Kg.R()),uM("doc","path",e),n instanceof p0){const r=En.fromString(e,...t);return gR(r),new ir(n,null,new nt(r))}{if(!(n instanceof ir||n instanceof Ja))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return gR(r),new ir(n.firestore,n instanceof Ja?n.converter:null,new nt(r))}}function IR(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),(n instanceof ir||n instanceof Ja)&&(e instanceof ir||e instanceof Ja)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lM(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),n instanceof xi&&e instanceof xi&&n.firestore===e.firestore&&zv(n._query,e._query)&&n.converter===e.converter}function bR(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VF{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new zr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new fF(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class jF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Me.Z)(function*(u,d){const f=it(u),y=e0(f.It)+"/documents",w={documents:d.map(H=>Xv(f.It,H))},D=yield f._o("BatchGetDocuments",y,w,d.length),C=new Map;D.forEach(H=>{const q=function BO(n,e){return"found"in e?function(t,r){Ut(!!r.found);const i=Ya(t,r.found.name),u=li(r.found.updateTime),d=new bi({mapValue:{fields:r.found.fields}});return er.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){Ut(!!r.missing),Ut(!!r.readTime);const i=Ya(t,r.missing),u=li(r.readTime);return er.newNoDocument(i,u)}(n,e):ft()}(f.It,H);C.set(q.key.toString(),q)});const V=[];return d.forEach(H=>{const q=C.get(H.toString());Ut(!!q),V.push(q)}),V}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=nt.fromPath(i);e.mutations.push(new UA(u,e.precondition(u)))}),yield(r=(0,Me.Z)(function*(i,u){const d=it(i),f=e0(d.It)+"/documents",y={writes:u.map(w=>t0(d.It,w))};yield d.ao("Commit",f,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ht.min())?fr.exists(!1):fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new Be(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $F{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.No=new cS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Me.Z)(function*(){const t=new jF(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!lt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!V1(t)}return!1}}class HF{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=Kg.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Me.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_m(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function DR(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Me.Z)(function*(u){r.isEqual(u)||(yield LN(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),cM.apply(this,arguments)}function TR(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hM(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>eR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>eR(e.remoteStore,u)),n.onlineComponents=e}),dM.apply(this,arguments)}function hM(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Me.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield DR(n,new hR)),n.offlineComponents}),fM.apply(this,arguments)}function Gb(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Me.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield TR(n,new aM)),n.onlineComponents}),pM.apply(this,arguments)}function CR(n){return hM(n).then(e=>e.persistence)}function zb(n){return hM(n).then(e=>e.localStore)}function gM(n){return Gb(n).then(e=>e.remoteStore)}function mM(n){return Gb(n).then(e=>e.syncEngine)}function Im(n){return yM.apply(this,arguments)}function yM(){return yM=(0,Me.Z)(function*(n){const e=yield Gb(n),t=e.eventManager;return t.onListen=_F.bind(null,e.syncEngine),t.onUnlisten=vF.bind(null,e.syncEngine),t}),yM.apply(this,arguments)}function SR(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(i,u,d,f,y){const w=new Hb({next:C=>{u.enqueueAndForget(()=>RS(i,D));const V=C.docs.has(d);!V&&C.fromCache?y.reject(new Be(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&f&&"server"===f.source?y.reject(new Be(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),D=new kS(rm(d.path),w,{includeMetadataChanges:!0,ku:!0});return xS(i,D)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}function MR(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(i,u,d,f,y){const w=new Hb({next:C=>{u.enqueueAndForget(()=>RS(i,D)),C.fromCache&&"server"===f.source?y.reject(new Be(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),D=new kS(d,w,{includeMetadataChanges:!0,ku:!0});return xS(i,D)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}class QF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new cS(this,"async_queue_retry"),this.Wc=()=>{const t=Vb();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Vb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new zr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!fl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=MS.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&ft()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function _M(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class JF{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sr extends p0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new QF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xR(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||xR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qe(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new HF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function NR(n,e,t){const r=new zr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield DR(n,t),yield TR(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===ve.FAILED_PRECONDITION||d.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Hc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function RR(n){if(n._initialized||n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(E.fromBase64String(e))}catch(t){throw new Be(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xa(E.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class El{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const uL=/^__.*__$/;class lL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class PR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Zb{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Zb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Yb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(OR(this.sa)&&uL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||d0(e)}da(e,t,r,i=!1){return new Zb({sa:e,methodName:t,fa:r,path:rr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Rf(n){const e=n._freezeSettings(),t=d0(n._databaseId);return new cL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Wb(n,e,t,r,i,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,i);IM("Data must be an object, but it was:",d,r);const f=LR(r,d);let y,w;if(u.merge)y=new p(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const D=[];for(const C of u.mergeFields){const V=bM(e,C,t);if(!d.contains(V))throw new Be(ve.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);UR(D,V)||D.push(V)}y=new p(D),w=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,w=d.fieldTransforms;return new lL(new bi(f),y,w)}class g0 extends Nf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function kR(n,e,t){return new Zb({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class vM extends Nf{_toFieldTransform(e){return new qv(e.path,new sm)}isEqual(e){return e instanceof vM}}class dL extends Nf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kR(this,e,!0),r=this._a.map(u=>Pf(u,t)),i=new wf(r);return new qv(e.path,i)}isEqual(e){return this===e}}class hL extends Nf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=kR(this,e,!0),r=this._a.map(u=>Pf(u,t)),i=new If(r);return new qv(e.path,i)}isEqual(e){return this===e}}class fL extends Nf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new om(e.It,A1(e.It,this.wa));return new qv(e.path,t)}isEqual(e){return this===e}}function EM(n,e,t,r){const i=n.da(1,e,t);IM("Data must be an object, but it was:",i,r);const u=[],d=bi.empty();zc(r,(y,w)=>{const D=Kb(e,y,t);w=(0,bn.m9)(w);const C=i.ca(D);if(w instanceof g0)u.push(D);else{const V=Pf(w,C);null!=V&&(u.push(D),d.set(D,V))}});const f=new p(u);return new PR(d,f,i.fieldTransforms)}function wM(n,e,t,r,i,u){const d=n.da(1,e,t),f=[bM(e,r,t)],y=[i];if(u.length%2!=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)f.push(bM(e,u[V])),y.push(u[V+1]);const w=[],D=bi.empty();for(let V=f.length-1;V>=0;--V)if(!UR(w,f[V])){const H=f[V];let q=y[V];q=(0,bn.m9)(q);const oe=d.ca(H);if(q instanceof g0)w.push(H);else{const me=Pf(q,oe);null!=me&&(w.push(H),D.set(H,me))}}const C=new p(w);return new PR(D,C,d.fieldTransforms)}function FR(n,e,t,r=!1){return Pf(t,n.da(r?4:3,e))}function Pf(n,e){if(VR(n=(0,bn.m9)(n)))return IM("Unsupported field value:",e,n),LR(n,e);if(n instanceof Nf)return function(t,r){if(!OR(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let f=Pf(d,r.aa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,bn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return A1(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Un.fromDate(t);return{timestampValue:Jv(r.It,i)}}if(t instanceof Un){const i=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jv(r.It,i)}}if(t instanceof qb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xa)return{bytesValue:W1(r.It,t._byteString)};if(t instanceof ir){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${jb(t)}`)}(n,e)}function LR(n,e){const t={};return PA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zc(n,(r,i)=>{const u=Pf(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function VR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof qb||n instanceof Xa||n instanceof ir||n instanceof Nf)}function IM(n,e,t){if(!VR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jb(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function bM(n,e,t){if((e=(0,bn.m9)(e))instanceof El)return e._internalPath;if("string"==typeof e)return Kb(n,e);throw Yb("Field path arguments must be of type string or ",n,!1,void 0,t)}const pL=new RegExp("[~\\*/\\[\\]]");function Kb(n,e,t){if(e.search(pL)>=0)throw Yb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new El(...e.split("."))._internalPath}catch{throw Yb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yb(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Be(ve.INVALID_ARGUMENT,f+n+y)}function UR(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gL extends m0{data(){return super.data()}}function Qb(n,e){return"string"==typeof e?Kb(n,e):e instanceof El?e._internalPath:e._delegate._internalPath}function BR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0{}function Jc(n,...e){for(const t of e)n=t._apply(n);return n}class mL extends y0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Rf(e.firestore),r=function(i,u,d,f,y,w,D){let C;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){qR(D,w);const H=[];for(const q of D)H.push(zR(f,i,q));C={arrayValue:{values:H}}}else C=zR(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||qR(D,w),C=FR(d,"where",D,"in"===w||"not-in"===w);const V=Di.create(y,w,C);return function(H,q){if(q.dt()){const me=kA(H);if(null!==me&&!me.isEqual(q.field))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${me.toString()}' and '${q.field.toString()}'`);const tt=OA(H);null!==tt&&ZR(0,q.field,tt)}const oe=function(me,tt){for(const at of me.filters)if(tt.indexOf(at.op)>=0)return at.op;return null}(H,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==oe)throw new Be(ve.INVALID_ARGUMENT,oe===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${oe.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new xi(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class _L extends y0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new nm(i,u);return function(f,y){if(null===OA(f)){const w=kA(f);null!==w&&ZR(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new xi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new ml(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class jR extends y0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new xi(e.firestore,e.converter,vb(e._query,this.Ia,this.Ta))}}class $R extends y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=GR(e,this.type,this.Ea,this.Aa);return new xi(e.firestore,e.converter,(i=t,new ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class HR extends y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=GR(e,this.type,this.Ea,this.Aa);return new xi(e.firestore,e.converter,(i=t,new ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function GR(n,e,t,r){if(t[0]=(0,bn.m9)(t[0]),t[0]instanceof m0)return function(i,u,d,f,y){if(!f)throw new Be(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of im(i))if(D.field.isKeyField())w.push(aa(u,f.key));else{const C=f.data.field(D.field);if(W(C))throw new Be(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const V=D.field.canonicalString();throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(C)}return new qc(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rf(n.firestore);return function(u,d,f,y,w,D){const C=u.explicitOrderBy;if(w.length>C.length)throw new Be(ve.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<w.length;H++){const q=w[H];if(C[H].field.isKeyField()){if("string"!=typeof q)throw new Be(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof q}`);if(!FA(u)&&-1!==q.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${q}' contains a slash.`);const oe=u.path.child(En.fromString(q));if(!nt.isDocumentKey(oe))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const me=new nt(oe);V.push(aa(d,me))}else{const oe=FR(f,y,q);V.push(oe)}}return new qc(V,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zR(n,e,t){if("string"==typeof(t=(0,bn.m9)(t))){if(""===t)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FA(e)&&-1!==t.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!nt.isDocumentKey(r))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aa(n,new nt(r))}if(t instanceof ir)return aa(n,t._key);throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jb(t)}.`)}function qR(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ZR(n,e,t){if(!t.isEqual(e))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class DM{convertValue(e,t="none"){switch(Rn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(L(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return zc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new qb(M(e.latitude),M(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ie(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ce(e));default:return null}}convertTimestamp(e){const t=T(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Ut(rN(r));const i=new Ke(r.get(1),r.get(3)),u=new nt(r.popFirst(5));return i.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Jb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class CL extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class Of{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends m0{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Qb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends wl{data(e={}){return super.data(e)}}class Xc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Of(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new Of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Of(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Of(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:AL(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function WR(n,e){return n instanceof wl&&e instanceof wl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xc&&e instanceof Xc&&n._firestore===e._firestore&&lM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ed extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function KR(n,e,t){n=_n(n,ir);const r=_n(n.firestore,sr),i=Jb(n.converter,e,t);return bm(r,[Wb(Rf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,fr.none())])}function YR(n,e,t,...r){n=_n(n,ir);const i=_n(n.firestore,sr),u=Rf(i);let d;return d="string"==typeof(e=(0,bn.m9)(e))||e instanceof El?wM(u,"updateDoc",n._key,e,t,r):EM(u,"updateDoc",n._key,e),bm(i,[d.toMutation(n._key,fr.exists(!0))])}function QR(n,...e){var t,r,i;n=(0,bn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||_M(e[d])||(u=e[d],d++);const f={includeMetadataChanges:u.includeMetadataChanges};if(_M(e[d])){const C=e[d];e[d]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[d+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[d+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let y,w,D;if(n instanceof ir)w=_n(n.firestore,sr),D=rm(n._key.path),y={next:C=>{e[d]&&e[d](TM(w,n,C))},error:e[d+1],complete:e[d+2]};else{const C=_n(n,xi);w=_n(C.firestore,sr),D=C._query;const V=new ed(w);y={next:H=>{e[d]&&e[d](new Xc(w,V,C,H))},error:e[d+1],complete:e[d+2]},BR(n._query)}return function(C,V,H,q){const oe=new Hb(q),me=new kS(V,oe,H);return C.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return xS(yield Im(C),me)})),()=>{oe.bc(),C.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return RS(yield Im(C),me)}))}}(Vr(w),D,f,y)}function bm(n,e){return function(t,r){const i=new zr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function EF(n,e,t){return BS.apply(this,arguments)}(yield mM(t),r,i)})),i.promise}(Vr(n),e)}function TM(n,e,t){const r=t.docs.get(e._key),i=new ed(n);return new wl(n,i,e._key,r,new Of(t.hasPendingWrites,t.fromCache),e.converter)}const LL={maxAttempts:5};class JR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rf(e)}set(e,t,r){this._verifyNotCommitted();const i=td(e,this._firestore),u=Jb(i.converter,t,r),d=Wb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,fr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=td(e,this._firestore);let d;return d="string"==typeof(t=(0,bn.m9)(t))||t instanceof El?wM(this._dataReader,"WriteBatch.update",u._key,t,r,i):EM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=td(e,this._firestore);return this._mutations=this._mutations.concat(new um(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function td(n,e){if((n=(0,bn.m9)(n)).firestore!==e)throw new Be(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class VL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rf(e)}get(e){const t=td(e,this._firestore),r=new CL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const u=i[0];if(u.isFoundDocument())return new m0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new m0(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=td(e,this._firestore),u=Jb(i.converter,t,r),d=Wb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=td(e,this._firestore);let d;return d="string"==typeof(t=(0,bn.m9)(t))||t instanceof El?wM(this._dataReader,"Transaction.update",u._key,t,r,i):EM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=td(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=td(e,this._firestore),r=new ed(this._firestore);return super.get(e).then(i=>new wl(this._firestore,r,t._key,i._document,new Of(!1,!1),t.converter))}}function CM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eP(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function tP(){if(!function _(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cl=ja.SDK_VERSION,(0,ja._registerComponent)(new Ph.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new sr(new Wg(t.getProvider("auth-internal")),new dl(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Be(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ke(f.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,ja.registerVersion)(pf,"3.6.0",n),(0,ja.registerVersion)(pf,"3.6.0","esm2017")}();class v0{constructor(e){this._delegate=e}static fromBase64String(e){return tP(),new v0(Xa.fromBase64String(e))}static fromUint8Array(e){return eP(),new v0(Xa.fromUint8Array(e))}toBase64(){return tP(),this._delegate.toBase64()}toUint8Array(){return eP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AM(n){return function ZL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class WL{enableIndexedDbPersistence(e,t){return function eL(n,e){RR(n=_n(n,sr));const t=Vr(n),r=n._freezeSettings(),i=new aM;return NR(t,i,new fR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tL(n){RR(n=_n(n,sr));const e=Vr(n),t=n._freezeSettings(),r=new aM;return NR(e,r,new FF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nL(n){if(n._initialized&&!n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(r){if(!js.C())return Promise.resolve();const i=r+"main";yield js.delete(i)}),function(r){return t.apply(this,arguments)})(eS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ke||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ER(n,e,t,r={}){var i;const u=(n=_n(n,p0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=vr.MOCK_USER;else{d=(0,bn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Be(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vr(y)}n._authCredentials=new TA(new DA(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function iL(n){return function GF(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield CR(n),t=yield gM(n);return e.setNetworkEnabled(!0),function(r){const i=it(r);return i.wu.delete(0),h0(i)}(t)}))}(Vr(n=_n(n,sr)))}(this._delegate)}disableNetwork(){return function sL(n){return function zF(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield CR(n),t=yield gM(n);return e.setNetworkEnabled(!1),(r=(0,Me.Z)(function*(i){const u=it(i);u.wu.add(0),yield gm(u),u.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Vr(n=_n(n,sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rL(n){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function DF(n,e){return zS.apply(this,arguments)}(yield mM(e),t)})),t.promise}(Vr(n=_n(n,sr)))}(this._delegate)}onSnapshotsInSync(e){return function FL(n,e){return function WF(n,e){const t=new Hb(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Im(n),i=t,it(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Im(n),i=t,void it(r).bu.delete(i);var r,i}))}}(Vr(n=_n(n,sr)),_M(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dm(this,wR(this._delegate,e))}catch(t){throw Qi(t,"collection()","Firestore.collection()")}}doc(e){try{return new vo(this,$b(this._delegate,e))}catch(t){throw Qi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ji(this,function LF(n,e){if(n=_n(n,p0),uM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xi(n,null,(t=e,new ml(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Qi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UL(n,e,t){n=_n(n,sr);const r=Object.assign(Object.assign({},LL),t);return function(i){if(i.maxAttempts<1)throw new Be(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const f=new zr;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const y=yield function AR(n){return Gb(n).then(e=>e.datastore)}(i);new $F(i.asyncQueue,y,d,u,f).run()})),f.promise}(Vr(n),i=>e(new VL(n,i)),r)}(this._delegate,t=>e(new rP(this,t)))}batch(){return Vr(this._delegate),new iP(new JR(this._delegate,e=>bm(this._delegate,e)))}loadBundle(e){return function oL(n,e){const t=Vr(n=_n(n,sr)),r=new JF;return function KF(n,e,t,r){const i=function(u,d){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,w){if(y instanceof Uint8Array)return bR(y,w);if(y instanceof ArrayBuffer)return bR(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new VF(y,d);var y}(t,d0(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function kF(n,e,t){const r=it(n);var i;(i=(0,Me.Z)(function*(u,d,f){try{const y=yield d.getMetadata();if(yield function(V,H){const q=it(V),oe=li(H.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",me=>q.Ns.getBundleMetadata(me,H.id)).then(me=>!!me&&me.createTime.compareTo(oe)>=0)}(u.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(rR(y));const w=new pF(y,u.localStore,d.It);let D=yield d.mc();for(;D;){const V=yield w.Fu(D);V&&f._updateProgress(V),D=yield d.mc()}const C=yield w.complete();return yield vl(u,C.Lu,void 0),yield function(V,H){const q=it(V);return q.persistence.runTransaction("Save bundle","readwrite",oe=>q.Ns.saveBundleMetadata(oe,H))}(u.localStore,y),f._completeWith(C.progress),Promise.resolve(C.Bu)}catch(y){return Hc("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var V}),function(u,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield mM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function aL(n,e){return function YF(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,r){const i=it(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield zb(n),e)}))}(Vr(n=_n(n,sr)),e).then(t=>t?new xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ji(this,t):null)}}class Xb extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new v0(new Xa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vo.forKey(t,this.firestore,null)}}class rP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xb(e)}get(e){const t=Ff(e);return this._delegate.get(t).then(r=>new E0(this._firestore,new wl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ff(e);return r?(CM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Ff(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Ff(e);return this._delegate.delete(t),this}}class iP{constructor(e){this._delegate=e}set(e,t,r){const i=Ff(e);return r?(CM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Ff(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Ff(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new w0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kf(e,new Xb(e),t),i.set(t,u)),u}}kf.INSTANCES=new WeakMap;class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vo(t,new ir(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new vo(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dm(this.firestore,wR(this._delegate,e))}catch(t){throw Qi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,bn.m9)(e))instanceof ir&&IR(this._delegate,e)}set(e,t){t=CM("DocumentReference.set",t);try{return t?KR(this._delegate,e,t):KR(this._delegate,e)}catch(r){throw Qi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?YR(this._delegate,e):YR(this._delegate,e,t,...r)}catch(i){throw Qi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OL(n){return bm(_n(n.firestore,sr),[new um(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=sP(e),r=oP(e,i=>new E0(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return QR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ML(n){n=_n(n,ir);const e=_n(n.firestore,sr),t=Vr(e),r=new ed(e);return function qF(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(i,u,d){try{const f=yield function(y,w){const D=it(y);return D.persistence.runTransaction("read document","readonly",C=>D.localDocuments.getDocument(C,w))}(i,u);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Be(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=_m(f,`Failed to get document '${u} from cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield zb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wl(e,r,n._key,i,new Of(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function xL(n){n=_n(n,ir);const e=_n(n.firestore,sr);return SR(Vr(e),n._key,{source:"server"}).then(t=>TM(e,n,t))}(this._delegate):function SL(n){n=_n(n,ir);const e=_n(n.firestore,sr);return SR(Vr(e),n._key).then(t=>TM(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function Qi(n,e,t){return n.message=n.message.replace(e,t),n}function sP(n){for(const e of n)if("object"==typeof e&&!AM(e))return e;return{}}function oP(n,e){var t,r;let i;return i=AM(n[0])?n[0]:AM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return WR(this._delegate,e._delegate)}}class w0 extends E0{data(e){const t=this._delegate.data(e);return function bA(n,e){n||ft()}(void 0!==t),t}}class Ji{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xb(e)}where(e,t,r){try{return new Ji(this.firestore,Jc(this._delegate,function yL(n,e,t){const r=e,i=Qb("where",n);return new mL(i,r,t)}(e,t,r)))}catch(i){throw Qi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ji(this.firestore,Jc(this._delegate,function vL(n,e="asc"){const t=e,r=Qb("orderBy",n);return new _L(r,t)}(e,t)))}catch(r){throw Qi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ji(this.firestore,Jc(this._delegate,function EL(n){return yR("limit",n),new jR("limit",n,"F")}(e)))}catch(t){throw Qi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ji(this.firestore,Jc(this._delegate,function wL(n){return yR("limitToLast",n),new jR("limitToLast",n,"L")}(e)))}catch(t){throw Qi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ji(this.firestore,Jc(this._delegate,function IL(...n){return new $R("startAt",n,!0)}(...e)))}catch(t){throw Qi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ji(this.firestore,Jc(this._delegate,function bL(...n){return new $R("startAfter",n,!1)}(...e)))}catch(t){throw Qi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ji(this.firestore,Jc(this._delegate,function DL(...n){return new HR("endBefore",n,!1)}(...e)))}catch(t){throw Qi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ji(this.firestore,Jc(this._delegate,function TL(...n){return new HR("endAt",n,!0)}(...e)))}catch(t){throw Qi(t,"endAt()","Query.endAt()")}}isEqual(e){return lM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RL(n){n=_n(n,xi);const e=_n(n.firestore,sr),t=Vr(e),r=new ed(e);return function ZF(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(i,u,d){try{const f=yield kb(i,u,!0),y=new oR(u,f.Hi),w=y.Wu(f.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(f){const y=_m(f,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield zb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xc(e,r,n,i))}(this._delegate):"server"===e?.source?function PL(n){n=_n(n,xi);const e=_n(n.firestore,sr),t=Vr(e),r=new ed(e);return MR(t,n._query,{source:"server"}).then(i=>new Xc(e,r,n,i))}(this._delegate):function NL(n){n=_n(n,xi);const e=_n(n.firestore,sr),t=Vr(e),r=new ed(e);return BR(n._query),MR(t,n._query).then(i=>new Xc(e,r,n,i))}(this._delegate),t.then(r=>new SM(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=sP(e),r=oP(e,i=>new SM(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return QR(this._delegate,t,r)}withConverter(e){return new Ji(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}class YL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new w0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ji(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new w0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new w0(this._firestore,r))})}isEqual(e){return WR(this._delegate,e._delegate)}}class Dm extends Ji{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vo(this.firestore,e):null}doc(e){try{return new vo(this.firestore,void 0===e?$b(this._delegate):$b(this._delegate,e))}catch(t){throw Qi(t,"doc()","CollectionReference.doc()")}}add(e){return function kL(n,e){const t=_n(n.firestore,sr),r=$b(n),i=Jb(n.converter,e);return bm(t,[Wb(Rf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new vo(this.firestore,t))}isEqual(e){return IR(this._delegate,e._delegate)}withConverter(e){return new Dm(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function Ff(n){return _n(n,ir)}class MM{constructor(...e){this._delegate=new El(...e)}static documentId(){return new MM(rr.keyField().canonicalString())}isEqual(e){return(e=(0,bn.m9)(e))instanceof El&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jL(){return new vM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lf(e)}static delete(){const e=function BL(){return new g0("deleteField")}();return e._methodName="FieldValue.delete",new Lf(e)}static arrayUnion(...e){const t=function $L(...n){return new dL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lf(t)}static arrayRemove(...e){const t=function HL(...n){return new hL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lf(t)}static increment(e){const t=function GL(n){return new fL("increment",n)}(e);return t._methodName="FieldValue.increment",new Lf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QL={Firestore:nP,GeoPoint:qb,Timestamp:Un,Blob:v0,Transaction:rP,WriteBatch:iP,DocumentReference:vo,DocumentSnapshot:E0,Query:Ji,QueryDocumentSnapshot:w0,QuerySnapshot:SM,CollectionReference:Dm,FieldPath:MM,FieldValue:Lf,setLogLevel:function KL(n){!function lb(n){za.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function XL(n){(function JL(n,e){n.INTERNAL.registerComponent(new Ph.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},QL)))})(n,(e,t)=>new nP(e,t,new WL)),n.registerVersion("@firebase/firestore-compat","0.1.26")}(jC.Z);var eV=R(6451),I0=R(5363),tV=R(6063);class nV extends kr.x{constructor(e=1/0,t=1/0,r=tV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var rV=R(3099);function xM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,rV.B)({connector:()=>new nV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function aP(n,e){return(0,Xy.m)(e)?nr(()=>n,e):nr(()=>n)}var NM=R(9468),eD=R(5867);const uP=new Map,uV={activated:!1,tokenObservers:[]},lV={initialized:!1,enabled:!1};function hi(n){return uP.get(n)||uV}function Eo(n,e){uP.set(n,e)}function tD(){return lV}class pV{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new bn.BH,yield function gV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new bn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xi=new bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cP(n){if(!hi(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}function kM(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,Me.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const H=yield d.getHeartbeatsHeader();H&&(u["X-Firebase-Client"]=H)}const f={method:"POST",body:JSON.stringify(e),headers:u};let y,w;try{y=yield fetch(n,f)}catch(H){throw Xi.create("fetch-network-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}if(200!==y.status)throw Xi.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(H){throw Xi.create("fetch-parse-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const C=1e3*Number(D[1]),V=Date.now();return{token:w.token,expireTimeMillis:V+C,issuedAtTimeMillis:V}}),FM.apply(this,arguments)}function vV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const b0="firebase-app-check-store";let iD=null;function hP(){return iD||(iD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(Xi.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(b0,{keyPath:"compositeKey"})}}catch(r){e(Xi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),iD)}function LM(){return LM=(0,Me.Z)(function*(n,e){const r=(yield hP()).transaction(b0,"readwrite"),u=r.objectStore(b0).put({compositeKey:n,value:e});return new Promise((d,f)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var w;f(Xi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),LM.apply(this,arguments)}const D0=new $a.Yd("@firebase/app-check");function BM(n,e){return(0,bn.hl)()?function bV(n,e){return function fP(n,e){return LM.apply(this,arguments)}(function gP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{D0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mP(){return tD().enabled}function yP(){return $M.apply(this,arguments)}function $M(){return $M=(0,Me.Z)(function*(){const n=tD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$M.apply(this,arguments)}const MV={error:"UNKNOWN_ERROR"};function xV(n){return bn.US.encodeString(JSON.stringify(n),!1)}function sD(n){return HM.apply(this,arguments)}function HM(){return HM=(0,Me.Z)(function*(n,e=!1){const t=n.app;cP(t);const r=hi(t);let u,i=r.token;if(i&&!Cm(i)&&(Eo(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Cm(y)?i=y:yield BM(t,void 0))}if(!e&&i&&Cm(i))return{token:i.token};let f,d=!1;if(mP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=kM(vV(t,yield yP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield BM(t,y),Eo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?D0.warn(y.message):D0.error(y),u=y}return i?u?f=Cm(i)?{token:i.token,internalError:u}:EP(u):(f={token:i.token},Eo(t,Object.assign(Object.assign({},r),{token:i})),yield BM(t,i)):f=EP(u),d&&vP(t,f),f}),HM.apply(this,arguments)}function zM(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Eo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function _P(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function NV(n){const{app:e}=n;return new pV((0,Me.Z)(function*(){let r;if(r=hi(e).token?yield sD(n,!0):yield sD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Eo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vP(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Cm(n){return n.expireTimeMillis-Date.now()>0}function EP(n){return{token:xV(MV),error:n}}class RV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)zM(this.app,t.next);return Promise.resolve()}}const SP="app-check-internal";!function qV(){(0,ja._registerComponent)(new Ph.wA("app-check",n=>function PV(n,e){return new RV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SP).initialize()})),(0,ja._registerComponent)(new Ph.wA(SP,n=>function OV(n){return{getToken:e=>sD(n,e),addTokenListener:e=>function GM(n,e,t,r){const{app:i}=n,u=hi(i),d={next:t,error:r,type:e};if(Eo(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Cm(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),_P(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>_P(n))}(n,"INTERNAL",e),removeTokenListener:e=>zM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ja.registerVersion)("@firebase/app-check","0.5.13")}();class KM{constructor(){return(0,Mn.vb)("app-check")}}typeof window<"u"&&window;var QM=R(127);const xP=new l.OlP("angularfire2.auth.use-emulator"),NP=new l.OlP("angularfire2.auth.settings"),RP=new l.OlP("angularfire2.auth.tenant-id"),PP=new l.OlP("angularfire2.auth.langugage-code"),OP=new l.OlP("angularfire2.auth.use-device-language"),kP=new l.OlP("angularfire.auth.persistence"),FP=(n,e,t,r,i,u,d,f)=>(0,vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,r,i,u,d,f]);let JM=(()=>{class n{constructor(t,r,i,u,d,f,y,w,D,C,V,H){const q=new kr.x,oe=mt(void 0).pipe((0,I0.Q)(d.outsideAngular),nr(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,Ft.U)(()=>(0,vi.on)(t,u,r)),(0,Ft.U)(me=>FP(me,u,f,w,D,C,y,V)),xM({bufferSize:1,refCount:!1}));if(os(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{oe.pipe(ea()).subscribe();const tt=oe.pipe(nr(wt=>wt.getRedirectResult().then(Bt=>Bt,()=>null)),Mn.iC,xM({bufferSize:1,refCount:!1})),at=oe.pipe(nr(wt=>new Wr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>wt.onAuthStateChanged(Zt=>Bt.next(Zt),Zt=>Bt.error(Zt),()=>Bt.complete()))})))),Nt=oe.pipe(nr(wt=>new Wr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>wt.onIdTokenChanged(Zt=>Bt.next(Zt),Zt=>Bt.error(Zt),()=>Bt.complete()))}))));this.authState=tt.pipe(aP(at),(0,NM.R)(d.outsideAngular),(0,I0.Q)(d.insideAngular)),this.user=tt.pipe(aP(Nt),(0,NM.R)(d.outsideAngular),(0,I0.Q)(d.insideAngular)),this.idToken=this.user.pipe(nr(wt=>wt?(0,Sn.D)(wt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(nr(wt=>wt?(0,Sn.D)(wt.getIdTokenResult()):mt(null))),this.credential=(0,eV.T)(tt,q,this.authState.pipe(Si(wt=>!wt))).pipe((0,Ft.U)(wt=>wt?.user?wt:null),(0,NM.R)(d.outsideAngular),(0,I0.Q)(d.insideAngular))}return(0,vi.pX)(this,oe,u,{spy:{apply:(me,tt,at)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&at.then(Nt=>q.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Dh),l.LFG(vi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Mn.HU),l.LFG(xP,8),l.LFG(NP,8),l.LFG(RP,8),l.LFG(PP,8),l.LFG(OP,8),l.LFG(kP,8),l.LFG(KM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function LP(n,e){return function JV(n,e=fI.z){return new Wr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function XM(n,e){return LP(n,e).pipe((0,Ft.U)(t=>({payload:t,type:"query"})))}function aD(n,e){return XM(n,e).pipe(uh(void 0),Ig(),(0,Ft.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),u}))}function VP(n,e,t){return aD(n,t).pipe(Gp((r,i)=>function eU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function tU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ex(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ex(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ex(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),pI(),(0,Ft.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ex(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function UP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class BP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=aD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ft.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(uh(void 0),Ig(),Si(([r,i])=>i.length>0||!r),(0,Ft.U)(([r,i])=>i),Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UP(e);return VP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return XM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mn.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Mn.iC)}add(e){return this.ref.add(e)}doc(e){return new jP(this.ref.doc(e),this.afs)}}class jP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=$P(r,t);return new BP(i,u,this.afs)}snapshotChanges(){return function XV(n,e){return LP(n,e).pipe(uh(void 0),Ig(),(0,Ft.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Mn.iC)}}class nU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Si(t=>t.length>0),Mn.iC):aD(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UP(e);return VP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return XM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Mn.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Mn.iC)}}const rU=new l.OlP("angularfire2.enableFirestorePersistence"),iU=new l.OlP("angularfire2.firestore.persistenceSettings"),sU=new l.OlP("angularfire2.firestore.settings"),oU=new l.OlP("angularfire2.firestore.use-emulator");function $P(n,e=(t=>t)){return{query:e(n),ref:n}}let aU=(()=>{class n{constructor(t,r,i,u,d,f,y,w,D,C,V,H,q,oe,me,tt,at){this.schedulers=y;const Nt=(0,vi.on)(t,f,r),wt=D;C&&FP(Nt,f,V,q,oe,me,H,tt),[this.firestore,this.persistenceEnabled$]=(0,vi.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Bt=f.runOutsideAngular(()=>Nt.firestore());if(u&&Bt.settings(u),wt&&Bt.useEmulator(...wt),i&&!os(d)){const Zt=()=>{try{return(0,Sn.D)(Bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),mt(!1)}};return[Bt,f.runOutsideAngular(Zt)]}return[Bt,mt(!1)]},[u,wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=$P(i,r),f=this.schedulers.ngZone.run(()=>u);return new BP(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new nU(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new jP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Dh),l.LFG(vi.xv,8),l.LFG(rU,8),l.LFG(sU,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Mn.HU),l.LFG(iU,8),l.LFG(oU,8),l.LFG(JM,8),l.LFG(xP,8),l.LFG(NP,8),l.LFG(RP,8),l.LFG(PP,8),l.LFG(OP,8),l.LFG(kP,8),l.LFG(KM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const HP=["toast-component",""];function uU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function lU(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function cU(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,lU,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function dU(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function hU(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function fU(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class EU{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new kr.x,this._activate=new kr.x,this._manualClose=new kr.x,this._resetTimeout=new kr.x,this._countDuplicate=new kr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class uD{constructor(e,t,r,i,u,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=d,this._onTap=new kr.x,this._onAction=new kr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const zP=new l.OlP("ToastConfig");class bU extends class wU{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class DU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let TU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CU=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new bU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new DU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TU),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{constructor(t,r,i,u,d){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts){const y=d&&f.title===t;if((!d||y)&&f.message===r)return f.toastRef.onDuplicate(i,u),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&u.enableHtml&&(w=this.sanitizer.sanitize(l.q3G.HTML,r));const D=new IU(y),C=new uD(this.index,u,w,i,t,D),H=l.zs3.create({providers:[{provide:uD,useValue:C}],parent:this._injector}),q=new EU(u.toastComponent,H),oe=y.attach(q,u.newestOnTop);D.componentInstance=oe.instance;const me={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:C.onTap(),onAction:C.onAction(),portal:oe};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{me.toastRef.activate()})),this.toasts.push(me),me}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zP),l.LFG(CU),l.LFG(l.zs3),l.LFG(Fo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tx),l.Y36(uD),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:HP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,uU,3,0,"button",0),l.YNc(1,cU,3,5,"div",1),l.YNc(2,dU,1,3,"div",2),l.YNc(3,hU,2,4,"div",3),l.YNc(4,fU,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[zn],encapsulation:2,data:{animation:[vy("flyInOut",[Ey("inactive",jd({opacity:0})),Ey("active",jd({opacity:1})),Ey("removed",jd({opacity:0})),wy("inactive => active",tE("{{ easeTime }}ms {{ easing }}")),wy("active => removed",tE("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let SU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:zP,useValue:{default:AU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fa]}),n})();const MU=["skills"],xU=["contact"];function NU(n,e){1&n&&(l.TgZ(0,"small",172),l._uU(1,"Name is required"),l.qZA())}function RU(n,e){1&n&&(l.TgZ(0,"small",172),l._uU(1,"Email is required"),l.qZA())}function PU(n,e){1&n&&(l.TgZ(0,"small",172),l._uU(1,"Invalid email format"),l.qZA())}function OU(n,e){1&n&&(l.TgZ(0,"small",172),l._uU(1,"Subject is required"),l.qZA())}function kU(n,e){1&n&&(l.TgZ(0,"small",172),l._uU(1,"Message is required"),l.qZA())}const FU=[{path:"",component:(()=>{class n{constructor(t,r,i){this.fb=t,this.db=r,this.toastr=i,this.year=(new Date).getFullYear(),this.currentMenu="",this.sendClick=!1,this.messageSent=!1,this.yearsExperience=this.year-2018,this.skills={},this.contact={},this.messageFormGroup=t.group({name:[null,[Bo.required]],subject:[null,[Bo.required]],email:[null,[Bo.required,Bo.email]],message:[null,[Bo.required]]})}ngOnInit(){}scrollToSkills(){this.skills.nativeElement.scrollIntoView({behavior:"smooth"})}scrollToContact(){this.contact.nativeElement.scrollIntoView({behavior:"smooth"})}showSuccess(){this.toastr.success("Your message has been successfully sent","Message Sent!")}onSubmit(){this.sendClick||(this.sendClick=!0,this.messageFormGroup.valid?this.db.collection("messages").add({name:this.name?.value,subject:this.subject?.value,email:this.email?.value,message:this.message?.value,submittedDate:new Date}).then(()=>{this.showSuccess()}).finally(()=>{this.messageSent=!0,this.messageFormGroup.reset(),setTimeout(()=>{this.messageSent=!1},5e3),this.sendClick=!1}):(this.name?.markAsTouched(),this.subject?.markAsTouched(),this.email?.markAsTouched(),this.message?.markAsTouched()))}openResume(){window.open("assets/pdf/Ajit Kumar Baral - Resume.pdf")}get name(){return this.messageFormGroup.get("name")}get subject(){return this.messageFormGroup.get("subject")}get email(){return this.messageFormGroup.get("email")}get message(){return this.messageFormGroup.get("message")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mx),l.Y36(aU),l.Y36(tx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(1&t&&(l.Gf(MU,5),l.Gf(xU,5)),2&t){let i;l.iGM(i=l.CRH())&&(r.skills=i.first),l.iGM(i=l.CRH())&&(r.contact=i.first)}},decls:576,vars:10,consts:[["id","colorlib-page"],[1,"container-wrap"],["href","#","data-toggle","collapse","data-target","#navbar","aria-expanded","false","aria-controls","navbar",1,"js-colorlib-nav-toggle","colorlib-nav-toggle"],["id","colorlib-aside","role","complementary",1,"border","js-fullheight"],[1,"text-center"],[1,"author-img",2,"background-image","url(assets/images/photo.png)"],["id","colorlib-logo"],["routerLink","/"],[1,"position"],["href","https://www.linkedin.com/in/ajitkbaral/"],["id","colorlib-main-menu","role","navigation",1,"navbar"],["id","navbar",1,"collapse"],[1,"active"],["href","#","data-nav-section","home"],["href","#","data-nav-section","about"],["href","#","data-nav-section","services"],["href","#","data-nav-section","skills"],["href","#","data-nav-section","experience"],["href","#","data-nav-section","education"],["href","#","data-nav-section","work"],["href","#","data-nav-section","contact"],[1,"colorlib-footer"],[2,"display","none"],["aria-hidden","true",1,"icon-heart"],["href","https://colorlib.com","target","_blank"],["href","https://www.github.com/ajitkbaral","target","_blank"],[1,"icon-github"],["href","https://www.linkedin.com/in/ajitkbaral","target","_blank"],[1,"icon-linkedin2"],["href","https://www.facebook.com/ajitkbaral","target","_blank"],[1,"icon-facebook2"],["href","https://www.twitter.com/ajitkbaral","target","_blank"],[1,"icon-twitter2"],["href","https://www.instagram.com/ajitkbaral","target","_blank"],[1,"icon-instagram"],["id","colorlib-main"],["id","colorlib-hero","data-section","home",1,"js-fullheight"],[1,"flexslider","js-fullheight"],[1,"slides"],[2,"background-image","url(assets/images/img_bg_1.jpg)"],[1,"overlay"],[1,"container-fluid"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3","col-sm-12","col-xs-12","js-fullheight","slider-text"],[1,"slider-text-inner","js-fullheight"],[1,"desc"],["target","_blank",1,"btn","btn-primary","btn-learn",3,"click"],[1,"icon-download4"],[2,"background-image","url(assets/images/img_bg_2.jpg)"],[1,"slider-text-inner"],[1,"btn","btn-primary","btn-learn",3,"click"],[1,"icon-briefcase3"],["data-section","about",1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"col-md-12"],["data-animate-effect","fadeInLeft",1,"row","row-bottom-padded-sm","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],["data-animate-effect","fadeInLeft",1,"col-md-3","animate-box"],[1,"services","color-1"],[1,"icon2"],[1,"icon-bulb"],["data-animate-effect","fadeInRight",1,"col-md-3","animate-box"],[1,"services","color-2"],[1,"icon-globe-outline"],["data-animate-effect","fadeInTop",1,"col-md-3","animate-box"],[1,"services","color-3"],[1,"icon-data"],["data-animate-effect","fadeInBottom",1,"col-md-3","animate-box"],[1,"services","color-4"],[1,"icon-phone3"],["data-animate-effect","fadeInLeft",1,"col-md-12","animate-box"],[1,"hire"],[1,"btn-hire",2,"cursor","pointer",3,"click"],["data-section","services",1,"colorlib-services"],["data-animate-effect","fadeInLeft",1,"col-md-6","col-md-offset-3","col-md-pull-3","animate-box"],[1,"row","row-pt-md"],[1,"col-md-4","text-center","animate-box"],[1,"icon"],[1,"icon-monitor"],[1,"icon-box"],[1,"services","color-5"],[1,"icon-layers2"],[1,"services","color-6"],[1,"icon-book"],["id","colorlib-counter","data-stellar-background-ratio","0.5",1,"colorlib-counters",2,"background-image","url(assets/images/cover_bg_1.jpg)"],[1,"col-md-3","text-center","animate-box"],["data-from","0","data-to","309","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],[1,"colorlib-counter-label"],["data-from","0","data-to","104","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-from","0","data-to","15","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-from","0","data-to","5","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-section","skills",1,"colorlib-skills"],["skills",""],[1,"colorlib-heading","animate-box"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"progress-wrap"],[1,"progress"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-2",2,"width","85%"],["data-animate-effect","fadeInRight",1,"col-md-6","animate-box"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-3",2,"width","90%"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-1",2,"width","85%"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-6",2,"width","85%"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-5",2,"width","70%"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-4",2,"width","75%"],["data-section","experience",1,"colorlib-experience"],[1,"timeline-centered"],["data-animate-effect","fadeInLeft",1,"timeline-entry","animate-box"],[1,"timeline-entry-inner"],[1,"timeline-icon","color-1"],[1,"icon-pen2"],[1,"timeline-label"],["href","https://www.lftechnology.com/","target","_blank"],["data-animate-effect","fadeInRight",1,"timeline-entry","animate-box"],[1,"timeline-icon","color-2"],["href","https://ekbana.com/","target","_blank"],[1,"timeline-icon","color-3"],["href","https://www.bajratechnologies.com/","target","_blank"],["data-animate-effect","fadeInTop",1,"timeline-entry","animate-box"],[1,"timeline-icon","color-4"],["href","http://kkecnepal.com.np/","target","_blank"],[1,"timeline-icon","color-5"],["href","https://un.info.np/","target","_blank"],["data-animate-effect","fadeInBottom",1,"timeline-entry","begin","animate-box"],[1,"timeline-icon","color-none"],["data-section","education",1,"colorlib-education"],[1,"fancy-collapse-panel"],["id","accordion","role","tablist","aria-multiselectable","true",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingOne",1,"panel-heading"],[1,"panel-title"],["data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne"],["id","collapseOne","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in"],[1,"panel-body"],[1,"col-md-6"],["role","tab","id","headingFive",1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion","href","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"collapsed"],["id","collapseFive","role","tabpanel","aria-labelledby","headingFive",1,"panel-collapse","collapse"],["data-section","work",1,"colorlib-work"],[1,"project",2,"background-image","url(assets/images/frame-1.png)"],[1,"con"],["href","https://play.google.com/store/apps/details?id=com.varskite.peptalk"],["href","https://play.google.com/store/apps/details?id=com.varskite.peptalk","target","_blank"],[1,"icon-eye"],[1,"project",2,"background-image","url(assets/images/frame-2.png)"],["href","#"],[1,"project",2,"background-image","url(assets/images/frame-6.png)"],["data-animate-effect","fadeInTop",1,"col-md-6","animate-box"],[1,"project",2,"background-image","url(assets/images/frame-3.png)"],["href","https://play.google.com/store/apps/details?id=np.info.un.digitallibrary","target","_blank"],["href","https://play.google.com/store/apps/details?id=np.info.un.digitallibrary"],["data-animate-effect","fadeInBottom",1,"col-md-6","animate-box"],[1,"project",2,"background-image","url(assets/images/frame-4.png)"],[1,"project",2,"background-image","url(assets/images/frame-5.png)"],["data-section","contact",1,"colorlib-contact",2,"padding-bottom","25rem"],["contact",""],[1,"col-md-5"],["data-animate-effect","fadeInLeft",1,"colorlib-feature","colorlib-feature-sm","animate-box"],[1,"colorlib-icon"],[1,"colorlib-text"],[1,"icon-map"],[1,"col-md-7","col-md-push-1"],["data-animate-effect","fadeInRight",1,"col-md-10","col-md-offset-1","col-md-pull-1","animate-box"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","placeholder","Full name","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","text","placeholder","Subject","formControlName","subject",1,"form-control"],["name","","id","message","cols","30","rows","7","placeholder","Message","formControlName","message",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-send-message",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"a",2),l._UZ(3,"i"),l.qZA(),l.TgZ(4,"aside",3)(5,"div",4),l._UZ(6,"div",5),l.TgZ(7,"h1",6)(8,"a",7),l._uU(9,"Ajit Kumar Baral"),l.qZA()(),l.TgZ(10,"span",8)(11,"a",9),l._uU(12,"Senior Software Engineer"),l.qZA(),l._UZ(13,"br"),l._uU(14," Based in Nepal"),l.qZA()(),l.TgZ(15,"nav",10)(16,"div",11)(17,"ul")(18,"li",12)(19,"a",13),l._uU(20,"Home"),l.qZA()(),l.TgZ(21,"li")(22,"a",14),l._uU(23,"About"),l.qZA()(),l.TgZ(24,"li")(25,"a",15),l._uU(26,"Services"),l.qZA()(),l.TgZ(27,"li")(28,"a",16),l._uU(29,"Skills"),l.qZA()(),l.TgZ(30,"li")(31,"a",17),l._uU(32,"Experience"),l.qZA()(),l.TgZ(33,"li")(34,"a",18),l._uU(35,"Education"),l.qZA()(),l.TgZ(36,"li")(37,"a",19),l._uU(38,"Work"),l.qZA()(),l.TgZ(39,"li")(40,"a",20),l._uU(41,"Contact"),l.qZA()()()()(),l.TgZ(42,"div",21),l._uU(43),l.TgZ(44,"span",22),l._uU(45," Made with "),l._UZ(46,"i",23),l._uU(47," by "),l.TgZ(48,"a",24),l._uU(49,"Colorlib"),l.qZA()(),l.TgZ(50,"ul")(51,"li")(52,"a",25),l._UZ(53,"i",26),l.qZA()(),l.TgZ(54,"li")(55,"a",27),l._UZ(56,"i",28),l.qZA()(),l.TgZ(57,"li")(58,"a",29),l._UZ(59,"i",30),l.qZA()(),l.TgZ(60,"li")(61,"a",31),l._UZ(62,"i",32),l.qZA()(),l.TgZ(63,"li")(64,"a",33),l._UZ(65,"i",34),l.qZA()()()()(),l.TgZ(66,"div",35)(67,"section",36)(68,"div",37)(69,"ul",38)(70,"li",39),l._UZ(71,"div",40),l.TgZ(72,"div",41)(73,"div",42)(74,"div",43)(75,"div",44)(76,"div",45)(77,"h1"),l._uU(78,"Hi! "),l._UZ(79,"br"),l._uU(80,"I'm Ajit"),l.qZA(),l.TgZ(81,"h2"),l._uU(82),l.qZA(),l.TgZ(83,"p")(84,"a",46),l.NdJ("click",function(){return r.openResume()}),l._uU(85,"View Resume "),l._UZ(86,"i",47),l.qZA()()()()()()()(),l.TgZ(87,"li",48),l._UZ(88,"div",40),l.TgZ(89,"div",41)(90,"div",42)(91,"div",43)(92,"div",49)(93,"div",45)(94,"h1"),l._uU(95,"I am a"),l._UZ(96,"br"),l._uU(97,"Senior Software Engineer"),l.qZA(),l.TgZ(98,"h2"),l._uU(99," I code in Java | JavaScript | Python | Angular | React | AWS "),l.qZA(),l.TgZ(100,"p")(101,"a",50),l.NdJ("click",function(){return r.scrollToSkills()}),l._uU(102,"View Portfolio "),l._UZ(103,"i",51),l.qZA()()()()()()()()()()(),l.TgZ(104,"section",52)(105,"div",53)(106,"div",42)(107,"div",54)(108,"div",55)(109,"div",54)(110,"div",56)(111,"span",57),l._uU(112,"About Me"),l.qZA(),l.TgZ(113,"h2",58),l._uU(114,"Who Am I?"),l.qZA(),l.TgZ(115,"p")(116,"strong"),l._uU(117,"Hi! I'm Ajit Kumar Baral"),l.qZA(),l._uU(118),l.qZA(),l.TgZ(119,"p"),l._uU(120," I work in R&D projects, manage and deploy software applications and integrate project management methodologies for software development. "),l.qZA()()()(),l.TgZ(121,"div",42)(122,"div",59)(123,"div",60)(124,"span",61),l._UZ(125,"i",62),l.qZA(),l.TgZ(126,"h3"),l._uU(127,"Design & Discovery"),l.qZA()()(),l.TgZ(128,"div",63)(129,"div",64)(130,"span",61),l._UZ(131,"i",65),l.qZA(),l.TgZ(132,"h3"),l._uU(133,"Software Development"),l.qZA()()(),l.TgZ(134,"div",66)(135,"div",67)(136,"span",61),l._UZ(137,"i",68),l.qZA(),l.TgZ(138,"h3"),l._uU(139,"Database Management"),l.qZA()()(),l.TgZ(140,"div",69)(141,"div",70)(142,"span",61),l._UZ(143,"i",71),l.qZA(),l.TgZ(144,"h3"),l._uU(145,"Application Development"),l.qZA()()()(),l.TgZ(146,"div",42)(147,"div",72)(148,"div",73)(149,"h2"),l._uU(150," I am happy to let you know that"),l._UZ(151,"br"),l._uU(152,"I have completed 100+ projects sucessfully! "),l.qZA(),l.TgZ(153,"a",74),l.NdJ("click",function(){return r.scrollToContact()}),l._uU(154,"Hire me"),l.qZA()()()()()()()(),l.TgZ(155,"section",75)(156,"div",53)(157,"div",42)(158,"div",76)(159,"span",57),l._uU(160,"What I do?"),l.qZA(),l.TgZ(161,"h2",58),l._uU(162,"Here are some of my expertise"),l.qZA()()(),l.TgZ(163,"div",77)(164,"div",78)(165,"div",60)(166,"span",79),l._UZ(167,"i",62),l.qZA(),l.TgZ(168,"div",45)(169,"h3"),l._uU(170,"Innovative Ideas"),l.qZA(),l.TgZ(171,"p"),l._uU(172," Discover a creative way in finding and solving a problem "),l.qZA()()()(),l.TgZ(173,"div",78)(174,"div",64)(175,"span",79),l._UZ(176,"i",80),l.qZA(),l.TgZ(177,"div",45)(178,"h3"),l._uU(179,"Software"),l.qZA(),l.TgZ(180,"p"),l._uU(181," Develop an enterprise level software solution as per the requirement "),l.qZA()()()(),l.TgZ(182,"div",78)(183,"div",67)(184,"span",79),l._UZ(185,"i",71),l.qZA(),l.TgZ(186,"div",45)(187,"h3"),l._uU(188,"Application"),l.qZA(),l.TgZ(189,"p"),l._uU(190," Create mobile based software applications with interactive design "),l.qZA()()()(),l.TgZ(191,"div",78)(192,"div",70)(193,"span",79),l._UZ(194,"i",81),l.qZA(),l.TgZ(195,"div",45)(196,"h3"),l._uU(197,"Cloud Deployment"),l.qZA(),l.TgZ(198,"p"),l._uU(199," Deploy software solutions on cloud in different cloud service platforms "),l.qZA()()()(),l.TgZ(200,"div",78)(201,"div",82)(202,"span",79),l._UZ(203,"i",83),l.qZA(),l.TgZ(204,"div",45)(205,"h3"),l._uU(206,"Architect Solutions"),l.qZA(),l.TgZ(207,"p"),l._uU(208," Determine the best practices required to architect a software on cloud "),l.qZA()()()(),l.TgZ(209,"div",78)(210,"div",84)(211,"span",79),l._UZ(212,"i",85),l.qZA(),l.TgZ(213,"div",45)(214,"h3"),l._uU(215,"Team Management"),l.qZA(),l.TgZ(216,"p"),l._uU(217," Work in Team, allocate tasks and use Agile methodology for software development "),l.qZA()()()()()()(),l.TgZ(218,"div",86),l._UZ(219,"div",40),l.TgZ(220,"div",53),l._UZ(221,"div",42),l.TgZ(222,"div",42)(223,"div",87),l._UZ(224,"span",88),l.TgZ(225,"span",89),l._uU(226,"Cups of coffee"),l.qZA()(),l.TgZ(227,"div",87),l._UZ(228,"span",90),l.TgZ(229,"span",89),l._uU(230,"Projects"),l.qZA()(),l.TgZ(231,"div",87),l._UZ(232,"span",91),l.TgZ(233,"span",89),l._uU(234,"Clients"),l.qZA()(),l.TgZ(235,"div",87),l._UZ(236,"span",92),l.TgZ(237,"span",89),l._uU(238,"Partners"),l.qZA()()()()(),l.TgZ(239,"section",93,94)(241,"div",53)(242,"div",42)(243,"div",76)(244,"span",57),l._uU(245,"My Specialty"),l.qZA(),l.TgZ(246,"h2",95),l._uU(247,"My Skills"),l.qZA()()(),l.TgZ(248,"div",42)(249,"div",72)(250,"p"),l._uU(251," Being a programmer and a software engineer, having a thrive to learn new programming skills and get knowledge of multiple technology stack is a must. I believe, a programmer should be able to code in any language if required, in order to provide the best possible solution to deliver a great result. "),l.qZA()(),l.TgZ(252,"div",96)(253,"div",97)(254,"h3"),l._uU(255,"Java"),l.qZA(),l.TgZ(256,"div",98)(257,"div",99)(258,"span"),l._uU(259,"85%"),l.qZA()()()()(),l.TgZ(260,"div",100)(261,"div",97)(262,"h3"),l._uU(263,"JavaScript"),l.qZA(),l.TgZ(264,"div",98)(265,"div",101)(266,"span"),l._uU(267,"90%"),l.qZA()()()()(),l.TgZ(268,"div",96)(269,"div",97)(270,"h3"),l._uU(271,"TypeScript"),l.qZA(),l.TgZ(272,"div",98)(273,"div",102)(274,"span"),l._uU(275,"85%"),l.qZA()()()()(),l.TgZ(276,"div",100)(277,"div",97)(278,"h3"),l._uU(279,"Python"),l.qZA(),l.TgZ(280,"div",98)(281,"div",103)(282,"span"),l._uU(283,"85%"),l.qZA()()()()(),l.TgZ(284,"div",96)(285,"div",97)(286,"h3"),l._uU(287,"C++"),l.qZA(),l.TgZ(288,"div",98)(289,"div",104)(290,"span"),l._uU(291,"70%"),l.qZA()()()()(),l.TgZ(292,"div",100)(293,"div",97)(294,"h3"),l._uU(295,"C#"),l.qZA(),l.TgZ(296,"div",98)(297,"div",105)(298,"span"),l._uU(299,"75%"),l.qZA()()()()()()()(),l.TgZ(300,"section",106)(301,"div",53)(302,"div",42)(303,"div",76)(304,"span",57),l._uU(305,"Experience"),l.qZA(),l.TgZ(306,"h2",95),l._uU(307,"Work Experience"),l.qZA()()(),l.TgZ(308,"div",42)(309,"div",54)(310,"div",107)(311,"article",108)(312,"div",109)(313,"div",110),l._UZ(314,"i",111),l.qZA(),l.TgZ(315,"div",112)(316,"h2")(317,"a",113),l._uU(318,"Senior Software Engineer/Project Lead - Leapfrog Technology, Inc."),l.qZA(),l._UZ(319,"br"),l.TgZ(320,"span"),l._uU(321,"2022-PRESENT"),l.qZA(),l._UZ(322,"br"),l.TgZ(323,"span")(324,"b"),l._uU(325,"HQ: Seattle, USA"),l.qZA()()(),l.TgZ(326,"p"),l._uU(327," Currently, I am working as a Senior Software Engineer/Project Lead in Research and Development Projects. I am working in Web3 and Blockchain Technologies using Hyperledger Fabric to create private blockchain systems along with performing design and discovery to create the optimal architecture required for the project. Containerize applications using Docker and deploy in the Kubernetes cluster on cloud in AWS services. "),l.qZA()()()(),l.TgZ(328,"article",114)(329,"div",109)(330,"div",115),l._UZ(331,"i",111),l.qZA(),l.TgZ(332,"div",112)(333,"h2")(334,"a",116),l._uU(335,"Senior Software Engineer/Tech Lead - EKbana Solutions"),l.qZA(),l._UZ(336,"br"),l.TgZ(337,"span"),l._uU(338,"2020-2022"),l.qZA(),l._UZ(339,"br"),l.TgZ(340,"span")(341,"b"),l._uU(342,"HQ: Tokyo, JAPAN"),l.qZA()()(),l.TgZ(343,"p"),l._uU(344," Worked as a Senior Software Engineer/Tech Lead to determine the right technology stack to implement in a projects according to the client requirements. Created web applications using Java, TypeScript, Node.js, and Python. Worked in web frameworks & libraries like Spring Framework, Nest JS, Next JS, Angular JS, React JS and Vue.js for creating enterprise applications. Utilize the chart libraries like Apache ECharts and Chart JS to visualize the data. Build and deploy applications in Digital Ocean droplets. "),l.qZA()()()(),l.TgZ(345,"article",108)(346,"div",109)(347,"div",117),l._UZ(348,"i",111),l.qZA(),l.TgZ(349,"div",112)(350,"h2")(351,"a",118),l._uU(352,"Software Engineer - Bajra Technologies"),l.qZA(),l._UZ(353,"br"),l.TgZ(354,"span"),l._uU(355,"2019-2020"),l.qZA(),l._UZ(356,"br"),l.TgZ(357,"span")(358,"b"),l._uU(359,"HQ: New York, USA"),l.qZA()()(),l.TgZ(360,"p"),l._uU(361," Developed system architecture for Backend with RESTful API using Ruby on Rails along with the Frontend architecture with Angular Framework. Also developed hybrid mobile application using Ionic Framework. created reusable and dynamic functions and code optimization, worked closely with Project Manager, Senior Developer, and QA under time constraints with dynamic requirements. Created application containerization using Docker and worked on writing CI/CD pipeline script for continuous deployment. Participated in Sprint Planning, Daily Scrum Meetings (Stand-up Meetings), Sprint Review Meetings, and finally Retrospect Meetings Assisting team members and guiding interns. "),l.qZA()()()(),l.TgZ(362,"article",119)(363,"div",109)(364,"div",120),l._UZ(365,"i",111),l.qZA(),l.TgZ(366,"div",112)(367,"h2")(368,"a",121),l._uU(369,"Full Stack Developer - KKEC"),l.qZA(),l._UZ(370,"br"),l.TgZ(371,"span"),l._uU(372,"2018-2019"),l.qZA(),l._UZ(373,"br"),l.TgZ(374,"span")(375,"b"),l._uU(376,"HQ: Kathmandu, Nepal"),l.qZA()()(),l.TgZ(377,"p"),l._uU(378," Worked in K.K. Engineering & Construction (KKEC) a startup organization involved closely with Nepal Government to develop web application software using languages like Python, PHP, Java, Javascript. Worked on software using frameworks like Django Framework, Laravel Framework, Spring Framework. Nest JS. Created mobile application using Java for Android and Swift for iOS. "),l.qZA()()()(),l.TgZ(379,"article",108)(380,"div",109)(381,"div",122),l._UZ(382,"i",111),l.qZA(),l.TgZ(383,"div",112)(384,"h2")(385,"a",123),l._uU(386,"Mobile Application Developer Intern - United Nations Information Centre"),l.qZA(),l._UZ(387,"br"),l.TgZ(388,"span"),l._uU(389,"2018 AUG-2018 OCT"),l.qZA(),l._UZ(390,"br"),l.TgZ(391,"span")(392,"b"),l._uU(393,"HQ: New York, USA"),l.qZA()()(),l.TgZ(394,"p"),l._uU(395,' Developed a mobile application for Android Platform named "UN Digital Library in Nepal" in 2 months of time frame with feature implementation like reading the PDF documents, social sharing using Facebook Share, UN Photo Gallery, watch Youtube videos realted to UN, Job postings of Uited Nations Nepal, etc. '),l.qZA()()()(),l.TgZ(396,"article",124)(397,"div",109),l._UZ(398,"div",125),l.qZA()()()()()()(),l.TgZ(399,"section",126)(400,"div",53)(401,"div",42)(402,"div",76)(403,"span",57),l._uU(404,"Education"),l.qZA(),l.TgZ(405,"h2",95),l._uU(406," Academic Qualification "),l.qZA()()(),l.TgZ(407,"div",42)(408,"div",72)(409,"div",127)(410,"div",128)(411,"div",129)(412,"div",130)(413,"h4",131)(414,"a",132),l._uU(415,"Bachelors of Science Degree - Computer Science & Information Technology "),l.qZA()()(),l.TgZ(416,"div",133)(417,"div",134)(418,"div",42)(419,"div",135)(420,"p"),l._uU(421," I completed my "),l.TgZ(422,"b"),l._uU(423,"4 years of Bachelors of Science Degree"),l.qZA(),l._uU(424," in "),l.TgZ(425,"b"),l._uU(426,"Computer Science and Information Technology (BScCSIT)"),l.qZA(),l._uU(427," from "),l.TgZ(428,"b"),l._uU(429,"St. Xavier's College, Maitighar Kathmandu Nepal"),l.qZA(),l._uU(430," in the year "),l.TgZ(431,"b"),l._uU(432,"2019"),l.qZA(),l._uU(433,". "),l.qZA()(),l.TgZ(434,"div",135)(435,"p"),l._uU(436," This degree is affiliated to "),l.TgZ(437,"b"),l._uU(438,"Tribhuvan University, Nepal"),l.qZA(),l._uU(439," which consists of "),l.TgZ(440,"b"),l._uU(441,"Java Programming, C, C++, Artificial Intelligence, Data Structure and Algorithm (DSA), Linear Algebra, Discrete Structure,"),l.qZA(),l._uU(442," etc. as the core subjects. "),l.qZA()()()()()(),l.TgZ(443,"div",129)(444,"div",136)(445,"h4",131)(446,"a",137),l._uU(447,"Higher Secondary Education 10(+2) "),l.qZA()()(),l.TgZ(448,"div",138)(449,"div",134)(450,"p"),l._uU(451," I completed my 10+2 studies from "),l.TgZ(452,"strong"),l._uU(453,"United Academy Higher Secondary School"),l.qZA(),l._uU(454,". I studied Science as a major which includes Physics, Mathematics, Computer Science as the core courses. "),l.qZA()()()()()()()()()(),l.TgZ(455,"section",139)(456,"div",53)(457,"div",42)(458,"div",76)(459,"span",57),l._uU(460,"My Work"),l.qZA(),l.TgZ(461,"h2",95),l._uU(462,"Recent Work"),l.qZA()()(),l.TgZ(463,"div",42)(464,"div",96)(465,"div",140)(466,"div",45)(467,"div",141)(468,"h3")(469,"a",142),l._uU(470,"PepTalk-Interview Practice App"),l.qZA()(),l.TgZ(471,"span"),l._uU(472,"Mobile Application"),l.qZA(),l.TgZ(473,"p",79)(474,"span")(475,"a",143),l._UZ(476,"i",144),l._uU(477," View App"),l.qZA()()()()()()(),l.TgZ(478,"div",100)(479,"div",145)(480,"div",45)(481,"div",141)(482,"h3")(483,"a",146),l._uU(484,"eRashan - Grocery Application"),l.qZA()(),l.TgZ(485,"span"),l._uU(486,"Backend, Frontend, Mobile Application"),l.qZA(),l._UZ(487,"p",79),l.qZA()()()(),l.TgZ(488,"div",100)(489,"div",147)(490,"div",45)(491,"div",141)(492,"h3")(493,"a",146),l._uU(494,"eRashan Store - Store Application"),l.qZA()(),l.TgZ(495,"span"),l._uU(496,"Backend and Mobile Application"),l.qZA(),l._UZ(497,"p",79),l.qZA()()()(),l.TgZ(498,"div",148)(499,"div",149)(500,"div",45)(501,"div",141)(502,"h3")(503,"a",150),l._uU(504,"UN Digital Library in Nepal"),l.qZA()(),l.TgZ(505,"span"),l._uU(506,"Mobile Applicaiton"),l.qZA(),l.TgZ(507,"p",79)(508,"span")(509,"a",151),l._UZ(510,"i",144),l._uU(511," View App"),l.qZA()()()()()()(),l.TgZ(512,"div",152)(513,"div",153)(514,"div",45)(515,"div",141)(516,"h3")(517,"a",146),l._uU(518,"Air Pay - Digital Payment"),l.qZA()(),l.TgZ(519,"span"),l._uU(520,"Backend, Mobile Application"),l.qZA(),l._UZ(521,"p",79),l.qZA()()()(),l.TgZ(522,"div",96)(523,"div",154)(524,"div",45)(525,"div",141)(526,"h3")(527,"a",146),l._uU(528,"Service Prov - Get Local Services"),l.qZA()(),l.TgZ(529,"span"),l._uU(530,"Backend, Mobile Application"),l.qZA(),l._UZ(531,"p",79),l.qZA()()()()()()(),l.TgZ(532,"section",155,156)(534,"div",53)(535,"div",42)(536,"div",76)(537,"span",57),l._uU(538,"Get in Touch"),l.qZA(),l.TgZ(539,"h2",58),l._uU(540,"Contact"),l.qZA()()(),l.TgZ(541,"div",42)(542,"div",157)(543,"div",158)(544,"div",159),l._UZ(545,"i",65),l.qZA(),l.TgZ(546,"div",160)(547,"p")(548,"a",146),l._uU(549,"ajitkbaralofficial[at]gmail[dot]com"),l.qZA()()()(),l.TgZ(550,"div",158)(551,"div",159),l._UZ(552,"i",161),l.qZA(),l.TgZ(553,"div",160)(554,"p"),l._uU(555,"Yulakhel, 44700 Lalitpur Nepal"),l.qZA()()()(),l.TgZ(556,"div",162)(557,"div",42)(558,"div",163)(559,"form",164),l.NdJ("ngSubmit",function(){return r.onSubmit()}),l.TgZ(560,"div",165),l._UZ(561,"input",166),l.YNc(562,NU,2,0,"small",167),l.qZA(),l.TgZ(563,"div",165),l._UZ(564,"input",168),l.YNc(565,RU,2,0,"small",167),l.YNc(566,PU,2,0,"small",167),l.qZA(),l.TgZ(567,"div",165),l._UZ(568,"input",169),l.YNc(569,OU,2,0,"small",167),l.qZA(),l.TgZ(570,"div",165),l._UZ(571,"textarea",170),l.YNc(572,kU,2,0,"small",167),l.qZA(),l.TgZ(573,"div",165)(574,"button",171),l._uU(575," Send Message "),l.qZA()()()()()()()()()()()()),2&t){let i,u,d,f,y;l.xp6(43),l.hij(" Copyright ",r.year," All rights reserved. "),l.xp6(39),l.hij(" I have ",r.yearsExperience,"+ years of working experience in enterprise software development "),l.xp6(36),l.hij(" I have been working as a Software Engineer & Full Stack Developer for more than ",r.yearsExperience,"+ years and have hands-on experience in multiple programming languages, frameworks & technologies. "),l.xp6(441),l.Q6J("formGroup",r.messageFormGroup),l.xp6(3),l.Q6J("ngIf",(null==(i=r.messageFormGroup.get("name"))?null:i.hasError("required"))&&(null==(i=r.messageFormGroup.get("name"))?null:i.touched)),l.xp6(3),l.Q6J("ngIf",(null==(u=r.messageFormGroup.get("email"))?null:u.hasError("required"))&&(null==(u=r.messageFormGroup.get("email"))?null:u.touched)),l.xp6(1),l.Q6J("ngIf",(null==(d=r.messageFormGroup.get("email"))?null:d.hasError("email"))&&(null==(d=r.messageFormGroup.get("email"))?null:d.touched)),l.xp6(3),l.Q6J("ngIf",(null==(f=r.messageFormGroup.get("subject"))?null:f.hasError("required"))&&(null==(f=r.messageFormGroup.get("subject"))?null:f.touched)),l.xp6(3),l.Q6J("ngIf",(null==(y=r.messageFormGroup.get("message"))?null:y.hasError("required"))&&(null==(y=r.messageFormGroup.get("message"))?null:y.touched)),l.xp6(2),l.Q6J("disabled",!r.messageFormGroup.valid||r.sendClick)}},dependencies:[zn,Nh,ec,va,hp,Md,io,Ko]}),n})()},{path:"**",redirectTo:""}];let LU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wg.forRoot(FU),wg]}),n})(),VU=(()=>{class n{constructor(){this.title="ajitkbaral-portfolio-website"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ua]}),n})();const qP_firebase={projectId:"my-website-7008f",appId:"1:977853593021:web:d93360269b3f8fb43fced4",databaseURL:"https://my-website-7008f.firebaseio.com",storageBucket:"my-website-7008f.appspot.com",locationId:"us-central",apiKey:"AIzaSyC-ZbAr1uc07zjSt9YJvTBPhK6idCIPJDc",authDomain:"my-website-7008f.firebaseapp.com",messagingSenderId:"977853593021",measurementId:"G-VGW54S0V1W"};var nx=R(655),rx=R(7982),BU=R(1704);function jU(n){return new Wr.y(function(e){return{unsubscribe:(0,BU.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class lD{constructor(e){return e}}const ZU=(0,Mn.u3)(jU,!0);class T0{constructor(e){return e}}const KP=Mn.nk.async,KU=(0,Mn.u3)(rx.Kz,!0),YU=(0,Mn.u3)(rx.Iv,!0);let YP=(()=>{class n{constructor(t,r,i){let u;this.disposables=[],(0,eD.KN)("angularfire",Mn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{u=d})),KP().then(()=>{const d=i.get(T0);d?this.disposables=[ZU(t).subscribe(f=>{YU(d,f?.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lD),l.LFG(l.R0b),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const QP="firebase_screen_id",sx="outlet",C0="screen_class",JP="screen_name";let u2=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ox={},l2=n=>{const e=[n[C0],n[sx]].join("#");if(ox.hasOwnProperty(e))return ox[e];{const t=u2++;return ox[e]=t,t}},XP=(n,e,t)=>n.events.pipe(Si(i=>i instanceof m_)).pipe(nr(i=>{var u;const f=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,H=>H.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",y=n.routerState.root.children.map(H=>H).find(H=>H.outlet===i.snapshot.outlet);if(!y)return mt(null);let w=y;for(;w.firstChild;)w=w.firstChild;const D=w.pathFromRoot.map(H=>{var q;return null===(q=H.routeConfig)||void 0===q?void 0:q.path}).filter(H=>H).join("/")||"/",C={[JP]:D,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:D,[sx]:i.snapshot.outlet};e&&(C.page_title=e.getTitle());let V=y.component;if(V){if(V===Ih){let H=i.snapshot;for(;H.firstChild;)H=H.firstChild;V=H.component}}else V=i.snapshot.component;if("string"==typeof V)return mt(Object.assign(Object.assign({},C),{[C0]:V}));if(V){const H=t.resolveComponentFactory(V);return mt(Object.assign(Object.assign({},C),{[C0]:H.selector}))}return mt(null)}),Si(i=>!!i),(0,Ft.U)(i=>Object.assign({firebase_screen_class:i[C0],[QP]:l2(i)},i)),function UU(n,e,t,r){return(0,Qr.e)((i,u)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const f=new Map,y=q=>{f.forEach(q),q(u)},w=q=>y(oe=>oe.error(q));let D=0,C=!1;const V=new lr.Q(u,q=>{try{const oe=n(q);let me=f.get(oe);if(!me){f.set(oe,me=r?r():new kr.x);const tt=function H(q,oe){const me=new Wr.y(tt=>{D++;const at=oe.subscribe(tt);return()=>{at.unsubscribe(),0==--D&&C&&V.unsubscribe()}});return me.key=q,me}(oe,me);if(u.next(tt),t){const at=(0,lr.x)(me,()=>{me.complete(),at?.unsubscribe()},void 0,void 0,()=>f.delete(oe));V.add((0,Vi.Xf)(t(tt)).subscribe(at))}}me.next(d?d(q):q)}catch(oe){w(oe)}},()=>y(q=>q.complete()),w,()=>f.clear(),()=>(C=!0,0===D));i.subscribe(V)})}(i=>i[sx]),(0,si.z)(i=>i.pipe(pI((u,d)=>JSON.stringify(u)===JSON.stringify(d)),uh(void 0),Ig(),(0,Ft.U)(([u,d])=>u?Object.assign({firebase_previous_class:u[C0],firebase_previous_screen:u[JP],firebase_previous_id:u[QP]},d):d))));let c2=(()=>{class n{constructor(t,r,i,u,d,f){(0,eD.KN)("angularfire",Mn.q4.full,"screen-tracking"),KP().then(()=>{const y=f.get(T0);!t||!y||u.runOutsideAngular(()=>{this.disposable=XP(t,r,i).pipe(nr(w=>(0,nx.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),KU(y,"screen_view",w)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mr,8),l.LFG(ls,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(YP,8),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const g2=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),m2=new l.OlP("angularfire2.analytics.appVersion"),y2=new l.OlP("angularfire2.analytics.appName"),_2=new l.OlP("angularfire2.analytics.debugMode"),v2=new l.OlP("angularfire2.analytics.config"),cD="dataLayer";let A0=(()=>{class n{constructor(t,r,i,u,d,f,y,w,D){if(this.analyticsInitialized=new Promise(()=>{}),function Br(n){return n===ki}(y)){window[cD]=window[cD]||[];const V=(...oe)=>"config"===oe[0]&&"firebase"===oe[2].origin&&(this.measurementId=oe[1],!0),H=oe=>{window.gtag=(...me)=>{oe&&oe(...me),"event"===me[0]&&me[2].send_to===this.measurementId&&(u&&(me[2].app_name=u),i&&(me[2].app_version=i)),d&&typeof console<"u"&&console.info(...me),function(...tt){window[cD].push(arguments)}(...me)}};window[cD].some(V)?(this.analyticsInitialized=Promise.resolve(),H()):this.analyticsInitialized=new Promise(oe=>{H((...me)=>{V(...me)&&oe()})}),f&&this.updateConfig(f),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const C=mt(void 0).pipe((0,I0.Q)(D.outsideAngular),nr(rx.Gb),nr(V=>V?w.runOutsideAngular(()=>R.e(643).then(R.bind(R,8643))):Pa.E),(0,Ft.U)(()=>(0,vi.cc)("analytics","AngularFireAnalytics",t.name,()=>{const V=t.analytics();return!1===r&&V.setAnalyticsCollectionEnabled(!1),V},[t,r,f,d])),xM({bufferSize:1,refCount:!1}));return(0,vi.pX)(this,C,w)}updateConfig(t){return(0,nx.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vi.Ot),l.LFG(g2,8),l.LFG(m2,8),l.LFG(y2,8),l.LFG(_2,8),l.LFG(v2,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Mn.HU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tO=(()=>{class n{constructor(t,r,i,u){if(this.disposables=[],QM.Z.registerVersion("angularfire",Mn.q4.full,"compat-user-tracking"),os(r))this.initialized=Promise.resolve();else{let d;this.initialized=u.runOutsideAngular(()=>new Promise(f=>d=f)),this.disposables=[i.authState.subscribe(f=>{t.setUserId(f?.uid),d()}),i.credential.subscribe(f=>{if(f){const y=f.user.isAnonymous?"anonymous":f.additionalUserInfo.providerId;f.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:y}),t.logEvent("login",{method:y})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(A0),l.LFG(l.Lbi),l.LFG(JM),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),C2=(()=>{class n{constructor(t,r,i,u,d,f){if(QM.Z.registerVersion("angularfire",Mn.q4.full,"compat-screen-tracking"),!r||!t)return this;d.runOutsideAngular(()=>{this.disposable=XP(r,i,u).pipe(nr(y=>(0,nx.mG)(this,void 0,void 0,function*(){return f&&(yield f.initialized),yield t.logEvent("screen_view",y)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(A0),l.LFG(Mr,8),l.LFG(ls,8),l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(tO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),A2=(()=>{class n{constructor(t,r,i){QM.Z.registerVersion("angularfire",Mn.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(A0),l.LFG(C2,8),l.LFG(tO,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[A0]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[VU]}),n.\u0275inj=l.cJS({providers:[c2,YP],imports:[Oo,LU,gx,Dp,vi.hO.initializeApp(qP_firebase),A2,hc,SU.forRoot()]}),n})();(0,l.G48)(),pu().bootstrapModule(S2).catch(n=>console.error(n))},7982:(dt,xe,R)=>{"use strict";R.d(xe,{Gb:()=>l.Gb,Iv:()=>l.Iv,Kz:()=>l.Kz});var l=R(579)},5867:(dt,xe,R)=>{"use strict";R.d(xe,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp});var l=R(9681);(0,l.registerVersion)("firebase","9.11.0","app")},127:(dt,xe,R)=>{"use strict";R.d(xe,{Z:()=>l.Z});var l=R(3942);l.Z.registerVersion("firebase","9.11.0","app-compat")},5881:(dt,xe,R)=>{"use strict";R.r(xe);var l=R(5861),B=R(3942),P=R(1704),ne=R(2090),ue=(R(9681),R(1877),R(4859));function pe(){return window}function G(){return(G=(0,l.Z)(function*(S,x,N){var Z;const{BuildInfo:ye}=pe();(0,P.aq)(x.sessionId,"AuthEvent did not contain a session ID");const ke=yield ce(x.sessionId),ze={};return(0,P.ar)()?ze.ibi=ye.packageName:(0,P.as)()?ze.apn=ye.packageName:(0,P.at)(S,"operation-not-supported-in-this-environment"),ye.displayName&&(ze.appDisplayName=ye.displayName),ze.sessionId=ke,(0,P.au)(S,N,x.type,void 0,null!==(Z=x.eventId)&&void 0!==Z?Z:void 0,ze)})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(S){const{BuildInfo:x}=pe(),N={};(0,P.ar)()?N.iosBundleId=x.packageName:(0,P.as)()?N.androidPackageName=x.packageName:(0,P.at)(S,"operation-not-supported-in-this-environment"),yield(0,P.av)(S,N)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(S,x,N){const{cordova:Z}=pe();let ye=()=>{};try{yield new Promise((ke,ze)=>{let ae=null;function je(){var Mt;ke();const zt=null===(Mt=Z.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof zt&&zt(),"function"==typeof N?.close&&N.close()}function _t(){ae||(ae=window.setTimeout(()=>{ze((0,P.aw)(S,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&_t()}x.addPassiveListener(je),document.addEventListener("resume",_t,!1),(0,P.as)()&&document.addEventListener("visibilitychange",tn,!1),ye=()=>{x.removePassiveListener(je),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",tn,!1),ae&&window.clearTimeout(ae)}})}finally{ye()}})).apply(this,arguments)}function ce(S){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(S){const x=Ye(S),N=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(N)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(S){if((0,P.aq)(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const x=new ArrayBuffer(S.length),N=new Uint8Array(x);for(let Z=0;Z<S.length;Z++)N[Z]=S.charCodeAt(Z);return N}class Oe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(x)),super.onEvent(x)}initialized(){var x=this;return(0,l.Z)(function*(){yield x.initPromise})()}}function te(S){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(S){const x=yield X()._get(he(S));return x&&(yield X()._remove(he(S))),x})).apply(this,arguments)}function J(){const S=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const Z=Math.floor(Math.random()*x.length);S.push(x.charAt(Z))}return S.join("")}function X(){return(0,P.ay)(P.b)}function he(S){return(0,P.az)("authEvent",S.config.apiKey,S.name)}function Ve(S){if(!S?.includes("?"))return{};const[x,...N]=S.split("?");return(0,ne.zd)(N.join("?"))}function Ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function jt(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function hn(S=(0,ne.z$)()){return!("file:"!==jt()&&"ionic:"!==jt()&&"capacitor:"!==jt()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){try{const S=self.localStorage,x=P.aI();if(S)return S.setItem(x,"1"),S.removeItem(x),!function Wn(S=(0,ne.z$)()){return function Ur(){return(0,ne.w1)()&&11===document?.documentMode}()||function Pn(S=(0,ne.z$)()){return/Edge\/\d+/.test(S)}(S)}()||(0,ne.hl)()}catch{return Gn()&&(0,ne.hl)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function Ct(){return"http:"===jt()||"https:"===jt()}()||(0,ne.ru)()||hn())&&!function pi(){return(0,ne.b$)()||(0,ne.UG)()}()&&br()&&!Gn()}function pr(){return hn()&&typeof document<"u"}function et(){return(et=(0,l.Z)(function*(){return!!pr()&&new Promise(S=>{const x=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),S(!0)})})})).apply(this,arguments)}const On={LOCAL:"local",NONE:"none",SESSION:"session"},dn=P.ax,Kn="persistence";function pn(S){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(S){yield S._initializationPromise;const x=ct(),N=P.az(Kn,S.config.apiKey,S.name);x&&x.setItem(N,S._getPersistence())})).apply(this,arguments)}function ct(){var S;try{return(null===(S=function vn(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const ut=P.ax;class yt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class Xt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(x){var N=this;return(0,l.Z)(function*(){const Z=x._key();let ye=N.eventManagers.get(Z);return ye||(ye=new Oe(x),N.eventManagers.set(Z,ye),N.attachCallbackListeners(x,ye)),ye})()}_openPopup(x){(0,P.at)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,N,Z,ye){var ke=this;return(0,l.Z)(function*(){!function we(S){var x,N,Z,ye,ke,ze,ae,je,_t,tn;const Mt=pe();(0,P.ax)("function"==typeof(null===(x=Mt?.universalLinks)||void 0===x?void 0:x.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(N=Mt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(ke=null===(ye=null===(Z=Mt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===ke?void 0:ke.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(je=null===(ae=null===(ze=Mt?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===je?void 0:je.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(tn=null===(_t=Mt?.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===tn?void 0:tn.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const ze=yield ke._initialize(x);yield ze.initialized(),ze.resetRedirect(),(0,P.aD)(),yield ke._originValidation(x);const ae=function De(S,x,N=null){return{type:x,eventId:N,urlResponse:null,sessionId:J(),postBody:null,tenantId:S.tenantId,error:(0,P.aw)(S,"no-auth-event")}}(x,Z,ye);yield function We(S,x){return X()._set(he(S),x)}(x,ae);const je=yield function z(S,x,N){return G.apply(this,arguments)}(x,ae,N),_t=yield function Ae(S){const{cordova:x}=pe();return new Promise(N=>{x.plugins.browsertab.isAvailable(Z=>{let ye=null;Z?x.plugins.browsertab.openUrl(S):ye=x.InAppBrowser.open(S,(0,P.ap)()?"_blank":"_system","location=yes"),N(ye)})})}(je);return function Se(S,x,N){return Je.apply(this,arguments)}(x,ze,_t)})()}_isIframeWebStorageSupported(x,N){throw new Error("Method not implemented.")}_originValidation(x){const N=x._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Q(S){return Pe.apply(this,arguments)}(x)),this.originValidationPromises[N]}attachCallbackListeners(x,N){const{universalLinks:Z,handleOpenURL:ye,BuildInfo:ke}=pe(),ze=setTimeout((0,l.Z)(function*(){yield te(x),N.onEvent(Ze())}),500),ae=function(){var tn=(0,l.Z)(function*(Mt){clearTimeout(ze);const zt=yield te(x);let Zr=null;zt&&Mt?.url&&(Zr=function Ie(S,x){var N,Z;const ye=function $e(S){const x=Ve(S),N=x.link?decodeURIComponent(x.link):void 0,Z=Ve(N).link,ye=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Ve(ye).link||ye||Z||N||S}(x);if(ye.includes("/__/auth/callback")){const ke=Ve(ye),ze=ke.firebaseError?function se(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(ke.firebaseError)):null,ae=null===(Z=null===(N=ze?.code)||void 0===N?void 0:N.split("auth/"))||void 0===Z?void 0:Z[1],je=ae?(0,P.aw)(ae):null;return je?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:ye,postBody:null}}return null}(zt,Mt.url)),N.onEvent(Zr||Ze())});return function(zt){return tn.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,ae);const je=ye,_t=`${ke.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var tn=(0,l.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(_t)&&ae({url:Mt}),"function"==typeof je)try{je(Mt)}catch(zt){console.error(zt)}});return function(Mt){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(x){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,N,Z,ye){var ke=this;return(0,l.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openPopup(x,N,Z,ye)})()}_openRedirect(x,N,Z,ye){var ke=this;return(0,l.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openRedirect(x,N,Z,ye)})()}_isIframeWebStorageSupported(x,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,N)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return pr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,l.Z)(function*(){if(x.underlyingResolver)return;const N=yield function Dr(){return et.apply(this,arguments)}();x.underlyingResolver=N?x.cordovaResolver:x.browserResolver})()}}function fn(S){return S.unwrap()}function Yn(S){return ar(S)}function ar(S){const{_tokenResponse:x}=S instanceof ne.ZR?S.customData:S;if(!x)return null;if(!(S instanceof ne.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return P.P.credentialFromResult(S);const N=x.providerId;if(!N||N===P.o.PASSWORD)return null;let Z;switch(N){case P.o.GOOGLE:Z=P.Q;break;case P.o.FACEBOOK:Z=P.N;break;case P.o.GITHUB:Z=P.T;break;case P.o.TWITTER:Z=P.W;break;default:const{oauthIdToken:ye,oauthAccessToken:ke,oauthTokenSecret:ze,pendingToken:ae,nonce:je}=x;return ke||ze||ye||ae?ae?N.startsWith("saml.")?P.aL._create(N,ae):P.J._fromParams({providerId:N,signInMethod:N,pendingToken:ae,idToken:ye,accessToken:ke}):new P.U(N).credential({idToken:ye,accessToken:ke,rawNonce:je}):null}return S instanceof ne.ZR?Z.credentialFromError(S):Z.credentialFromResult(S)}function Rt(S,x){return x.catch(N=>{throw N instanceof ne.ZR&&function At(S,x){var N,Z;const ye=null===(N=x.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Z=x)||void 0===Z?void 0:Z.code))x.resolver=new jn(S,P.an(S,x));else if(ye){const ke=ar(x),ze=x;ke&&(ze.credential=ke,ze.tenantId=ye.tenantId||void 0,ze.email=ye.email||void 0,ze.phoneNumber=ye.phoneNumber||void 0)}}(S,N),N}).then(N=>{const ye=N.user;return{operationType:N.operationType,credential:Yn(N),additionalUserInfo:P.al(N),user:Tn.getOrCreate(ye)}})}function ur(S,x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(S,x){const N=yield x;return{verificationId:N.verificationId,confirm:Z=>Rt(S,N.confirm(Z))}})).apply(this,arguments)}class jn{constructor(x,N){this.resolver=N,this.auth=function or(S){return S.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Rt(fn(this.auth),this.resolver.resolveSignIn(x))}}class Tn{constructor(x){this._delegate=x,this.multiFactor=P.ao(x)}static getOrCreate(x){return Tn.USER_MAP.has(x)||Tn.USER_MAP.set(x,new Tn(x)),Tn.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var N=this;return(0,l.Z)(function*(){return Rt(N.auth,P.Z(N._delegate,x))})()}linkWithPhoneNumber(x,N){var Z=this;return(0,l.Z)(function*(){return ur(Z.auth,P.l(Z._delegate,x,N))})()}linkWithPopup(x){var N=this;return(0,l.Z)(function*(){return Rt(N.auth,P.d(N._delegate,x,yt))})()}linkWithRedirect(x){var N=this;return(0,l.Z)(function*(){return yield pn(P.aE(N.auth)),P.g(N._delegate,x,yt)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var N=this;return(0,l.Z)(function*(){return Rt(N.auth,P._(N._delegate,x))})()}reauthenticateWithPhoneNumber(x,N){return ur(this.auth,P.r(this._delegate,x,N))}reauthenticateWithPopup(x){return Rt(this.auth,P.e(this._delegate,x,yt))}reauthenticateWithRedirect(x){var N=this;return(0,l.Z)(function*(){return yield pn(P.aE(N.auth)),P.h(N._delegate,x,yt)})()}sendEmailVerification(x){return P.ab(this._delegate,x)}unlink(x){var N=this;return(0,l.Z)(function*(){return yield P.ak(N._delegate,x),N})()}updateEmail(x){return P.ag(this._delegate,x)}updatePassword(x){return P.ah(this._delegate,x)}updatePhoneNumber(x){return P.u(this._delegate,x)}updateProfile(x){return P.af(this._delegate,x)}verifyBeforeUpdateEmail(x,N){return P.ac(this._delegate,x,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tn.USER_MAP=new WeakMap;const Xe=P.ax;let Ne=(()=>{class S{constructor(N,Z){if(this.app=N,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=N.options;Xe(ye,"invalid-api-key",{appName:N.name}),Xe(ye,"invalid-api-key",{appName:N.name});const ke=typeof window<"u"?yt:void 0;this._delegate=Z.initialize({options:{persistence:gt(ye,N.name),popupRedirectResolver:ke}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,Z){P.G(this._delegate,N,Z)}applyActionCode(N){return P.a2(this._delegate,N)}checkActionCode(N){return P.a3(this._delegate,N)}confirmPasswordReset(N,Z){return P.a1(this._delegate,N,Z)}createUserWithEmailAndPassword(N,Z){var ye=this;return(0,l.Z)(function*(){return Rt(ye._delegate,P.a5(ye._delegate,N,Z))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return P.aa(this._delegate,N)}isSignInWithEmailLink(N){return P.a8(this._delegate,N)}getRedirectResult(){var N=this;return(0,l.Z)(function*(){Xe(Vn(),N._delegate,"operation-not-supported-in-this-environment");const Z=yield P.j(N._delegate,yt);return Z?Rt(N._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function rn(S,x){(0,P.aE)(S)._logFramework(x)}(this._delegate,N)}onAuthStateChanged(N,Z,ye){const{next:ke,error:ze,complete:ae}=rt(N,Z,ye);return this._delegate.onAuthStateChanged(ke,ze,ae)}onIdTokenChanged(N,Z,ye){const{next:ke,error:ze,complete:ae}=rt(N,Z,ye);return this._delegate.onIdTokenChanged(ke,ze,ae)}sendSignInLinkToEmail(N,Z){return P.a7(this._delegate,N,Z)}sendPasswordResetEmail(N,Z){return P.a0(this._delegate,N,Z||void 0)}setPersistence(N){var Z=this;return(0,l.Z)(function*(){let ye;switch(function Tr(S,x){dn(Object.values(On).includes(x),S,"invalid-persistence-type"),(0,ne.b$)()?dn(x!==On.SESSION,S,"unsupported-persistence-type"):(0,ne.UG)()?dn(x===On.NONE,S,"unsupported-persistence-type"):Gn()?dn(x===On.NONE||x===On.LOCAL&&(0,ne.hl)(),S,"unsupported-persistence-type"):dn(x===On.NONE||br(),S,"unsupported-persistence-type")}(Z._delegate,N),N){case On.SESSION:ye=P.a;break;case On.LOCAL:ye=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case On.NONE:ye=P.L;break;default:return P.at("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Rt(this._delegate,P.X(this._delegate))}signInWithCredential(N){return Rt(this._delegate,P.Y(this._delegate,N))}signInWithCustomToken(N){return Rt(this._delegate,P.$(this._delegate,N))}signInWithEmailAndPassword(N,Z){return Rt(this._delegate,P.a6(this._delegate,N,Z))}signInWithEmailLink(N,Z){return Rt(this._delegate,P.a9(this._delegate,N,Z))}signInWithPhoneNumber(N,Z){return ur(this._delegate,P.s(this._delegate,N,Z))}signInWithPopup(N){var Z=this;return(0,l.Z)(function*(){return Xe(Vn(),Z._delegate,"operation-not-supported-in-this-environment"),Rt(Z._delegate,P.c(Z._delegate,N,yt))})()}signInWithRedirect(N){var Z=this;return(0,l.Z)(function*(){return Xe(Vn(),Z._delegate,"operation-not-supported-in-this-environment"),yield pn(Z._delegate),P.f(Z._delegate,N,yt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return P.a4(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=On,S})();function rt(S,x,N){let Z=S;"function"!=typeof S&&({next:Z,error:x,complete:N}=S);const ye=Z;return{next:ze=>ye(ze&&Tn.getOrCreate(ze)),error:x,complete:N}}function gt(S,x){const N=function on(S,x){const N=ct();if(!N)return[];const Z=P.az(Kn,S,x);switch(N.getItem(Z)){case On.NONE:return[P.L];case On.LOCAL:return[P.i,P.a];case On.SESSION:return[P.a];default:return[]}}(S,x);if(typeof self<"u"&&!N.includes(P.i)&&N.push(P.i),typeof window<"u")for(const Z of[P.b,P.a])N.includes(Z)||N.push(Z);return N.includes(P.L)||N.push(P.L),N}class bt{constructor(){this.providerId="phone",this._delegate=new P.P(fn(B.Z.auth()))}static credential(x,N){return P.P.credential(x,N)}verifyPhoneNumber(x,N){return this._delegate.verifyPhoneNumber(x,N)}unwrap(){return this._delegate}}bt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,bt.PROVIDER_ID=P.P.PROVIDER_ID;const $=P.ax;class j{constructor(x,N,Z=B.Z.app()){var ye;$(null===(ye=Z.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new P.R(x,N,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function U(S){S.INTERNAL.registerComponent(new ue.wA("auth-compat",x=>{const N=x.getProvider("app-compat").getImmediate(),Z=x.getProvider("auth");return new Ne(N,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:bt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:j,TwitterAuthProvider:P.W,Auth:Ne,AuthCredential:P.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.2.21")}(B.Z)},9751:(dt,xe,R)=>{"use strict";R.d(xe,{y:()=>pe});var l=R(2961),B=R(727),P=R(8822),ne=R(9635),ge=R(2416),Ee=R(576),ue=R(2806);let pe=(()=>{class Q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Se=new Q;return Se.source=this,Se.operator=Ae,Se}subscribe(Ae,Se,Je){const we=function G(Q){return Q&&Q instanceof l.Lv||function z(Q){return Q&&(0,Ee.m)(Q.next)&&(0,Ee.m)(Q.error)&&(0,Ee.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(Ae)?Ae:new l.Hp(Ae,Se,Je);return(0,ue.x)(()=>{const{operator:ce,source:st}=this;we.add(ce?ce.call(we,st):st?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Se){Ae.error(Se)}}forEach(Ae,Se){return new(Se=_e(Se))((Je,we)=>{const ce=new l.Hp({next:st=>{try{Ae(st)}catch(Ye){we(Ye),ce.unsubscribe()}},error:we,complete:Je});this.subscribe(ce)})}_subscribe(Ae){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,ne.U)(Ae)(this)}toPromise(Ae){return new(Ae=_e(Ae))((Se,Je)=>{let we;this.subscribe(ce=>we=ce,ce=>Je(ce),()=>Se(we))})}}return Q.create=Pe=>new Q(Pe),Q})();function _e(Q){var Pe;return null!==(Pe=Q??ge.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(dt,xe,R)=>{"use strict";R.d(xe,{x:()=>ue});var l=R(9751),B=R(727);const ne=(0,R(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=R(8737),Ee=R(2806);let ue=(()=>{class _e extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new pe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Pe,observers:Ae}=this;return Q||Pe?B.Lc:(this.currentObservers=null,Ae.push(G),new B.w0(()=>{this.currentObservers=null,(0,ge.P)(Ae,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Pe,isStopped:Ae}=this;Q?G.error(Pe):Ae&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return _e.create=(z,G)=>new pe(z,G),_e})();class pe extends ue{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,z)}error(z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==Q?Q:B.Lc}}},2961:(dt,xe,R)=>{"use strict";R.d(xe,{Hp:()=>Je,Lv:()=>Q});var l=R(576),B=R(727),P=R(2416),ne=R(7849);function ge(){}const Ee=_e("C",void 0,void 0);function _e(Fe,Oe,De){return{kind:Fe,value:Oe,error:De}}var z=R(3410),G=R(2806);class Q extends B.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,B.Nn)(Oe)&&Oe.add(this)):this.destination=Ye}static create(Oe,De,We){return new Je(Oe,De,We)}next(Oe){this.isStopped?st(function pe(Fe){return _e("N",Fe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?st(function ue(Fe){return _e("E",void 0,Fe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?st(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ae(Fe,Oe){return Pe.call(Fe,Oe)}class Se{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:De}=this;if(De.next)try{De.next(Oe)}catch(We){we(We)}}error(Oe){const{partialObserver:De}=this;if(De.error)try{De.error(Oe)}catch(We){we(We)}else we(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(De){we(De)}}}class Je extends Q{constructor(Oe,De,We){let te;if(super(),(0,l.m)(Oe)||!Oe)te={next:Oe??void 0,error:De??void 0,complete:We??void 0};else{let le;this&&P.v.useDeprecatedNextContext?(le=Object.create(Oe),le.unsubscribe=()=>this.unsubscribe(),te={next:Oe.next&&Ae(Oe.next,le),error:Oe.error&&Ae(Oe.error,le),complete:Oe.complete&&Ae(Oe.complete,le)}):te=Oe}this.destination=new Se(te)}}function we(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Fe):(0,ne.h)(Fe)}function st(Fe,Oe){const{onStoppedNotification:De}=P.v;De&&z.z.setTimeout(()=>De(Fe,Oe))}const Ye={closed:!0,next:ge,error:function ce(Fe){throw Fe},complete:ge}},727:(dt,xe,R)=>{"use strict";R.d(xe,{Lc:()=>Ee,w0:()=>ge,Nn:()=>ue});var l=R(576);const P=(0,R(3888).d)(_e=>function(G){_e(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=R(8737);class ge{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ae of G)Ae.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(Ae){z=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ae of Pe)try{pe(Ae)}catch(Se){z=z??[],Se instanceof P?z=[...z,...Se.errors]:z.push(Se)}}if(z)throw new P(z)}}add(z){var G;if(z&&z!==this)if(this.closed)pe(z);else{if(z instanceof ge){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,ne.P)(G,z),z instanceof ge&&z._removeParent(this)}}ge.EMPTY=(()=>{const _e=new ge;return _e.closed=!0,_e})();const Ee=ge.EMPTY;function ue(_e){return _e instanceof ge||_e&&"closed"in _e&&(0,l.m)(_e.remove)&&(0,l.m)(_e.add)&&(0,l.m)(_e.unsubscribe)}function pe(_e){(0,l.m)(_e)?_e():_e.unsubscribe()}},2416:(dt,xe,R)=>{"use strict";R.d(xe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,xe,R)=>{"use strict";R.d(xe,{E:()=>B});const B=new(R(9751).y)(ge=>ge.complete())},8996:(dt,xe,R)=>{"use strict";R.d(xe,{D:()=>Oe});var l=R(8421),B=R(5363),P=R(9468),Ee=R(9751),pe=R(2202),_e=R(576),z=R(9672);function Q(De,We){if(!De)throw new Error("Iterable cannot be null");return new Ee.y(te=>{(0,z.f)(te,We,()=>{const le=De[Symbol.asyncIterator]();(0,z.f)(te,We,()=>{le.next().then(Ie=>{Ie.done?te.complete():te.next(Ie.value)})},0,!0)})})}var Pe=R(3670),Ae=R(8239),Se=R(1144),Je=R(6495),we=R(2206),ce=R(4532),st=R(3260);function Oe(De,We){return We?function Fe(De,We){if(null!=De){if((0,Pe.c)(De))return function ne(De,We){return(0,l.Xf)(De).pipe((0,P.R)(We),(0,B.Q)(We))}(De,We);if((0,Se.z)(De))return function ue(De,We){return new Ee.y(te=>{let le=0;return We.schedule(function(){le===De.length?te.complete():(te.next(De[le++]),te.closed||this.schedule())})})}(De,We);if((0,Ae.t)(De))return function ge(De,We){return(0,l.Xf)(De).pipe((0,P.R)(We),(0,B.Q)(We))}(De,We);if((0,we.D)(De))return Q(De,We);if((0,Je.T)(De))return function G(De,We){return new Ee.y(te=>{let le;return(0,z.f)(te,We,()=>{le=De[pe.h](),(0,z.f)(te,We,()=>{let Ie,J;try{({value:Ie,done:J}=le.next())}catch(X){return void te.error(X)}J?te.complete():te.next(Ie)},0,!0)}),()=>(0,_e.m)(le?.return)&&le.return()})}(De,We);if((0,st.L)(De))return function Ye(De,We){return Q((0,st.Q)(De),We)}(De,We)}throw(0,ce.z)(De)}(De,We):(0,l.Xf)(De)}},8421:(dt,xe,R)=>{"use strict";R.d(xe,{Xf:()=>Pe});var l=R(655),B=R(1144),P=R(8239),ne=R(9751),ge=R(3670),Ee=R(2206),ue=R(4532),pe=R(6495),_e=R(3260),z=R(576),G=R(7849),Q=R(8822);function Pe(Fe){if(Fe instanceof ne.y)return Fe;if(null!=Fe){if((0,ge.c)(Fe))return function Ae(Fe){return new ne.y(Oe=>{const De=Fe[Q.L]();if((0,z.m)(De.subscribe))return De.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,B.z)(Fe))return function Se(Fe){return new ne.y(Oe=>{for(let De=0;De<Fe.length&&!Oe.closed;De++)Oe.next(Fe[De]);Oe.complete()})}(Fe);if((0,P.t)(Fe))return function Je(Fe){return new ne.y(Oe=>{Fe.then(De=>{Oe.closed||(Oe.next(De),Oe.complete())},De=>Oe.error(De)).then(null,G.h)})}(Fe);if((0,Ee.D)(Fe))return ce(Fe);if((0,pe.T)(Fe))return function we(Fe){return new ne.y(Oe=>{for(const De of Fe)if(Oe.next(De),Oe.closed)return;Oe.complete()})}(Fe);if((0,_e.L)(Fe))return function st(Fe){return ce((0,_e.Q)(Fe))}(Fe)}throw(0,ue.z)(Fe)}function ce(Fe){return new ne.y(Oe=>{(function Ye(Fe,Oe){var De,We,te,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Fe);!(We=yield De.next()).done;)if(Oe.next(We.value),Oe.closed)return}catch(Ie){te={error:Ie}}finally{try{We&&!We.done&&(le=De.return)&&(yield le.call(De))}finally{if(te)throw te.error}}Oe.complete()})})(Fe,Oe).catch(De=>Oe.error(De))})}},6451:(dt,xe,R)=>{"use strict";R.d(xe,{T:()=>Ee});var l=R(8189),B=R(8421),P=R(515),ne=R(7669),ge=R(8996);function Ee(...ue){const pe=(0,ne.yG)(ue),_e=(0,ne._6)(ue,1/0),z=ue;return z.length?1===z.length?(0,B.Xf)(z[0]):(0,l.J)(_e)((0,ge.D)(z,pe)):P.E}},5403:(dt,xe,R)=>{"use strict";R.d(xe,{Q:()=>P,x:()=>B});var l=R(2961);function B(ne,ge,Ee,ue,pe){return new P(ne,ge,Ee,ue,pe)}class P extends l.Lv{constructor(ge,Ee,ue,pe,_e,z){super(ge),this.onFinalize=_e,this.shouldUnsubscribe=z,this._next=Ee?function(G){try{Ee(G)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(G){ge.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(dt,xe,R)=>{"use strict";R.d(xe,{U:()=>P});var l=R(4482),B=R(5403);function P(ne,ge){return(0,l.e)((Ee,ue)=>{let pe=0;Ee.subscribe((0,B.x)(ue,_e=>{ue.next(ne.call(ge,_e,pe++))}))})}},8189:(dt,xe,R)=>{"use strict";R.d(xe,{J:()=>P});var l=R(5577),B=R(4671);function P(ne=1/0){return(0,l.z)(B.y,ne)}},5577:(dt,xe,R)=>{"use strict";R.d(xe,{z:()=>pe});var l=R(4004),B=R(8421),P=R(4482),ne=R(9672),ge=R(5403),ue=R(576);function pe(_e,z,G=1/0){return(0,ue.m)(z)?pe((Q,Pe)=>(0,l.U)((Ae,Se)=>z(Q,Ae,Pe,Se))((0,B.Xf)(_e(Q,Pe))),G):("number"==typeof z&&(G=z),(0,P.e)((Q,Pe)=>function Ee(_e,z,G,Q,Pe,Ae,Se,Je){const we=[];let ce=0,st=0,Ye=!1;const Fe=()=>{Ye&&!we.length&&!ce&&z.complete()},Oe=We=>ce<Q?De(We):we.push(We),De=We=>{Ae&&z.next(We),ce++;let te=!1;(0,B.Xf)(G(We,st++)).subscribe((0,ge.x)(z,le=>{Pe?.(le),Ae?Oe(le):z.next(le)},()=>{te=!0},void 0,()=>{if(te)try{for(ce--;we.length&&ce<Q;){const le=we.shift();Se?(0,ne.f)(z,Se,()=>De(le)):De(le)}Fe()}catch(le){z.error(le)}}))};return _e.subscribe((0,ge.x)(z,Oe,()=>{Ye=!0,Fe()})),()=>{Je?.()}}(Q,Pe,_e,G)))}},5363:(dt,xe,R)=>{"use strict";R.d(xe,{Q:()=>ne});var l=R(9672),B=R(4482),P=R(5403);function ne(ge,Ee=0){return(0,B.e)((ue,pe)=>{ue.subscribe((0,P.x)(pe,_e=>(0,l.f)(pe,ge,()=>pe.next(_e),Ee),()=>(0,l.f)(pe,ge,()=>pe.complete(),Ee),_e=>(0,l.f)(pe,ge,()=>pe.error(_e),Ee)))})}},3099:(dt,xe,R)=>{"use strict";R.d(xe,{B:()=>ge});var l=R(8421),B=R(7579),P=R(2961),ne=R(4482);function ge(ue={}){const{connector:pe=(()=>new B.x),resetOnError:_e=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=ue;return Q=>{let Pe,Ae,Se,Je=0,we=!1,ce=!1;const st=()=>{Ae?.unsubscribe(),Ae=void 0},Ye=()=>{st(),Pe=Se=void 0,we=ce=!1},Fe=()=>{const Oe=Pe;Ye(),Oe?.unsubscribe()};return(0,ne.e)((Oe,De)=>{Je++,!ce&&!we&&st();const We=Se=Se??pe();De.add(()=>{Je--,0===Je&&!ce&&!we&&(Ae=Ee(Fe,G))}),We.subscribe(De),!Pe&&Je>0&&(Pe=new P.Hp({next:te=>We.next(te),error:te=>{ce=!0,st(),Ae=Ee(Ye,_e,te),We.error(te)},complete:()=>{we=!0,st(),Ae=Ee(Ye,z),We.complete()}}),(0,l.Xf)(Oe).subscribe(Pe))})(Q)}}function Ee(ue,pe,..._e){if(!0===pe)return void ue();if(!1===pe)return;const z=new P.Hp({next:()=>{z.unsubscribe(),ue()}});return pe(..._e).subscribe(z)}},9468:(dt,xe,R)=>{"use strict";R.d(xe,{R:()=>B});var l=R(4482);function B(P,ne=0){return(0,l.e)((ge,Ee)=>{Ee.add(P.schedule(()=>ge.subscribe(Ee),ne))})}},8505:(dt,xe,R)=>{"use strict";R.d(xe,{b:()=>ge});var l=R(576),B=R(4482),P=R(5403),ne=R(4671);function ge(Ee,ue,pe){const _e=(0,l.m)(Ee)||ue||pe?{next:Ee,error:ue,complete:pe}:Ee;return _e?(0,B.e)((z,G)=>{var Q;null===(Q=_e.subscribe)||void 0===Q||Q.call(_e);let Pe=!0;z.subscribe((0,P.x)(G,Ae=>{var Se;null===(Se=_e.next)||void 0===Se||Se.call(_e,Ae),G.next(Ae)},()=>{var Ae;Pe=!1,null===(Ae=_e.complete)||void 0===Ae||Ae.call(_e),G.complete()},Ae=>{var Se;Pe=!1,null===(Se=_e.error)||void 0===Se||Se.call(_e,Ae),G.error(Ae)},()=>{var Ae,Se;Pe&&(null===(Ae=_e.unsubscribe)||void 0===Ae||Ae.call(_e)),null===(Se=_e.finalize)||void 0===Se||Se.call(_e)}))}):ne.y}},4408:(dt,xe,R)=>{"use strict";R.d(xe,{o:()=>ge});var l=R(727);class B extends l.w0{constructor(ue,pe){super()}schedule(ue,pe=0){return this}}const P={setInterval(Ee,ue,...pe){const{delegate:_e}=P;return _e?.setInterval?_e.setInterval(Ee,ue,...pe):setInterval(Ee,ue,...pe)},clearInterval(Ee){const{delegate:ue}=P;return(ue?.clearInterval||clearInterval)(Ee)},delegate:void 0};var ne=R(8737);class ge extends B{constructor(ue,pe){super(ue,pe),this.scheduler=ue,this.work=pe,this.pending=!1}schedule(ue,pe=0){var _e;if(this.closed)return this;this.state=ue;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,pe)),this.pending=!0,this.delay=pe,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(G,this.id,pe),this}requestAsyncId(ue,pe,_e=0){return P.setInterval(ue.flush.bind(ue,this),_e)}recycleAsyncId(ue,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;null!=pe&&P.clearInterval(pe)}execute(ue,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ue,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,pe){let z,_e=!1;try{this.work(ue)}catch(G){_e=!0,z=G||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ue,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(_e,this),null!=ue&&(this.id=this.recycleAsyncId(pe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,xe,R)=>{"use strict";R.d(xe,{v:()=>P});var l=R(6063);class B{constructor(ge,Ee=B.now){this.schedulerActionCtor=ge,this.now=Ee}schedule(ge,Ee=0,ue){return new this.schedulerActionCtor(this,ge).schedule(ue,Ee)}}B.now=l.l.now;class P extends B{constructor(ge,Ee=B.now){super(ge,Ee),this.actions=[],this._active=!1}flush(ge){const{actions:Ee}=this;if(this._active)return void Ee.push(ge);let ue;this._active=!0;do{if(ue=ge.execute(ge.state,ge.delay))break}while(ge=Ee.shift());if(this._active=!1,ue){for(;ge=Ee.shift();)ge.unsubscribe();throw ue}}}},4986:(dt,xe,R)=>{"use strict";R.d(xe,{z:()=>P});var l=R(4408);const P=new(R(7565).v)(l.o)},6063:(dt,xe,R)=>{"use strict";R.d(xe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(dt,xe,R)=>{"use strict";R.d(xe,{z:()=>l});const l={setTimeout(B,P,...ne){const{delegate:ge}=l;return ge?.setTimeout?ge.setTimeout(B,P,...ne):setTimeout(B,P,...ne)},clearTimeout(B){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(dt,xe,R)=>{"use strict";R.d(xe,{h:()=>B});const B=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,xe,R)=>{"use strict";R.d(xe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,xe,R)=>{"use strict";R.d(xe,{_6:()=>Ee,jO:()=>ne,yG:()=>ge});var l=R(576);function P(ue){return ue[ue.length-1]}function ne(ue){return(0,l.m)(P(ue))?ue.pop():void 0}function ge(ue){return function B(ue){return ue&&(0,l.m)(ue.schedule)}(P(ue))?ue.pop():void 0}function Ee(ue,pe){return"number"==typeof P(ue)?ue.pop():pe}},8737:(dt,xe,R)=>{"use strict";function l(B,P){if(B){const ne=B.indexOf(P);0<=ne&&B.splice(ne,1)}}R.d(xe,{P:()=>l})},3888:(dt,xe,R)=>{"use strict";function l(B){const ne=B(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}R.d(xe,{d:()=>l})},2806:(dt,xe,R)=>{"use strict";R.d(xe,{O:()=>ne,x:()=>P});var l=R(2416);let B=null;function P(ge){if(l.v.useDeprecatedSynchronousErrorHandling){const Ee=!B;if(Ee&&(B={errorThrown:!1,error:null}),ge(),Ee){const{errorThrown:ue,error:pe}=B;if(B=null,ue)throw pe}}else ge()}function ne(ge){l.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ge)}},9672:(dt,xe,R)=>{"use strict";function l(B,P,ne,ge=0,Ee=!1){const ue=P.schedule(function(){ne(),Ee?B.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(B.add(ue),!Ee)return ue}R.d(xe,{f:()=>l})},4671:(dt,xe,R)=>{"use strict";function l(B){return B}R.d(xe,{y:()=>l})},1144:(dt,xe,R)=>{"use strict";R.d(xe,{z:()=>l});const l=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(dt,xe,R)=>{"use strict";R.d(xe,{D:()=>B});var l=R(576);function B(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(dt,xe,R)=>{"use strict";function l(B){return"function"==typeof B}R.d(xe,{m:()=>l})},3670:(dt,xe,R)=>{"use strict";R.d(xe,{c:()=>P});var l=R(8822),B=R(576);function P(ne){return(0,B.m)(ne[l.L])}},6495:(dt,xe,R)=>{"use strict";R.d(xe,{T:()=>P});var l=R(2202),B=R(576);function P(ne){return(0,B.m)(ne?.[l.h])}},8239:(dt,xe,R)=>{"use strict";R.d(xe,{t:()=>B});var l=R(576);function B(P){return(0,l.m)(P?.then)}},3260:(dt,xe,R)=>{"use strict";R.d(xe,{L:()=>ne,Q:()=>P});var l=R(655),B=R(576);function P(ge){return(0,l.FC)(this,arguments,function*(){const ue=ge.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,l.qq)(ue.read());if(_e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{ue.releaseLock()}})}function ne(ge){return(0,B.m)(ge?.getReader)}},4482:(dt,xe,R)=>{"use strict";R.d(xe,{A:()=>B,e:()=>P});var l=R(576);function B(ne){return(0,l.m)(ne?.lift)}function P(ne){return ge=>{if(B(ge))return ge.lift(function(Ee){try{return ne(Ee,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,xe,R)=>{"use strict";R.d(xe,{U:()=>P,z:()=>B});var l=R(4671);function B(...ne){return P(ne)}function P(ne){return 0===ne.length?l.y:1===ne.length?ne[0]:function(Ee){return ne.reduce((ue,pe)=>pe(ue),Ee)}}},7849:(dt,xe,R)=>{"use strict";R.d(xe,{h:()=>P});var l=R(2416),B=R(3410);function P(ne){B.z.setTimeout(()=>{const{onUnhandledError:ge}=l.v;if(!ge)throw ne;ge(ne)})}},4532:(dt,xe,R)=>{"use strict";function l(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(xe,{z:()=>l})},9163:dt=>{function xe(R){var l=new Error("Cannot find module '"+R+"'");throw l.code="MODULE_NOT_FOUND",l}xe.keys=()=>[],xe.resolve=xe,xe.id=9163,dt.exports=xe},655:(dt,xe,R)=>{"use strict";function ne(J,X){var he={};for(var se in J)Object.prototype.hasOwnProperty.call(J,se)&&X.indexOf(se)<0&&(he[se]=J[se]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(se=Object.getOwnPropertySymbols(J);$e<se.length;$e++)X.indexOf(se[$e])<0&&Object.prototype.propertyIsEnumerable.call(J,se[$e])&&(he[se[$e]]=J[se[$e]])}return he}function pe(J,X,he,se){return new(he||(he=Promise))(function(Ve,pt){function Xt(rn){try{Ze(se.next(rn))}catch(Bn){pt(Bn)}}function Ot(rn){try{Ze(se.throw(rn))}catch(Bn){pt(Bn)}}function Ze(rn){rn.done?Ve(rn.value):function $e(Ve){return Ve instanceof he?Ve:new he(function(pt){pt(Ve)})}(rn.value).then(Xt,Ot)}Ze((se=se.apply(J,X||[])).next())})}function we(J){return this instanceof we?(this.v=J,this):new we(J)}function ce(J,X,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,se=he.apply(J,X||[]),Ve=[];return $e={},pt("next"),pt("throw"),pt("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function pt(cn){se[cn]&&($e[cn]=function(en){return new Promise(function(jt,Ct){Ve.push([cn,en,jt,Ct])>1||Xt(cn,en)})})}function Xt(cn,en){try{!function Ot(cn){cn.value instanceof we?Promise.resolve(cn.value.v).then(Ze,rn):Bn(Ve[0][2],cn)}(se[cn](en))}catch(jt){Bn(Ve[0][3],jt)}}function Ze(cn){Xt("next",cn)}function rn(cn){Xt("throw",cn)}function Bn(cn,en){cn(en),Ve.shift(),Ve.length&&Xt(Ve[0][0],Ve[0][1])}}function Ye(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=J[Symbol.asyncIterator];return X?X.call(J):(J=function Q(J){var X="function"==typeof Symbol&&Symbol.iterator,he=X&&J[X],se=0;if(he)return he.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&se>=J.length&&(J=void 0),{value:J&&J[se++],done:!J}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),he={},se("next"),se("throw"),se("return"),he[Symbol.asyncIterator]=function(){return this},he);function se(Ve){he[Ve]=J[Ve]&&function(pt){return new Promise(function(Xt,Ot){!function $e(Ve,pt,Xt,Ot){Promise.resolve(Ot).then(function(Ze){Ve({value:Ze,done:Xt})},pt)}(Xt,Ot,(pt=J[Ve](pt)).done,pt.value)})}}}R.d(xe,{FC:()=>ce,KL:()=>Ye,_T:()=>ne,mG:()=>pe,qq:()=>we})},4650:(dt,xe,R)=>{"use strict";R.d(xe,{$8M:()=>jl,$Z:()=>BE,AFp:()=>Fg,AaK:()=>pe,BQk:()=>rg,CHM:()=>Hn,CRH:()=>rl,CZH:()=>jc,CqO:()=>_w,D6c:()=>yf,EJc:()=>cf,EiD:()=>Nu,EpF:()=>mw,F4k:()=>yw,FYo:()=>my,FiY:()=>Xs,G48:()=>Er,Gf:()=>xI,GfV:()=>yy,Gpc:()=>G,JOm:()=>oo,JVY:()=>O0,KtG:()=>Vt,L6k:()=>k0,LAX:()=>F0,LFG:()=>tr,LSH:()=>V0,Lbi:()=>yA,Lck:()=>Jr,MMx:()=>Fh,NdJ:()=>g_,OlP:()=>Ln,PXZ:()=>rb,Q6J:()=>Vs,QGY:()=>p_,QP$:()=>ye,QbO:()=>uf,Qsj:()=>PD,R0b:()=>Mi,RDi:()=>P0,Rgc:()=>tl,SBq:()=>ku,Sil:()=>_A,Suo:()=>NI,TTD:()=>Is,TgZ:()=>Wu,Tol:()=>xw,Udp:()=>Sw,X6Q:()=>Ge,XFs:()=>et,Xpm:()=>Ne,Xts:()=>iy,Y36:()=>cc,YKP:()=>kh,YNc:()=>hw,Yjl:()=>S,Yz7:()=>en,Z0I:()=>pi,ZZ4:()=>Ii,_Bn:()=>mI,_UZ:()=>f_,_Vd:()=>nc,_c5:()=>js,_uU:()=>Ow,aQg:()=>Xg,c2e:()=>Lg,cJS:()=>Ct,cg1:()=>O_,d8E:()=>P_,dDg:()=>eb,dqk:()=>yt,eBb:()=>mp,eFA:()=>ll,ekj:()=>Mw,eoX:()=>Hg,f3M:()=>Tu,g9A:()=>ZI,h0i:()=>_r,hGG:()=>MA,hij:()=>lg,iGM:()=>Kh,ifc:()=>ut,ip1:()=>Iv,jDz:()=>Xr,kL8:()=>zw,lG2:()=>U,lqb:()=>Ko,lri:()=>$c,mCW:()=>m,n5z:()=>Ys,oAB:()=>$,oJD:()=>_p,oxw:()=>sg,pB0:()=>Ql,q3G:()=>Jn,q4F:()=>Q0,qLn:()=>ic,qOj:()=>dh,qZA:()=>_h,qzn:()=>fs,rWj:()=>xv,sBO:()=>Ut,sIi:()=>ph,s_b:()=>Fc,soG:()=>lf,tb:()=>WI,tp0:()=>eo,uIk:()=>na,vHH:()=>Se,vpe:()=>Us,wAp:()=>kt,xp6:()=>Qd,ynx:()=>ng,z2F:()=>pf,z3N:()=>hs,zSh:()=>Bd,zs3:()=>Uu});var l=R(7579),B=R(727),P=R(9751),ne=R(6451),ge=R(3099);function Ee(s){for(let o in s)if(s[o]===Ee)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function _e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=Ee({__forward_ref__:Ee});function G(s){return s.__forward_ref__=G,s.toString=function(){return pe(this())},s}function Q(s){return Pe(s)?s():s}function Pe(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===G}class Se extends Error{constructor(o,a){super(function Je(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Se(-201,!1)}function Ot(s,o){null==s&&function Ze(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ct(s){return{providers:s.providers||[],imports:s.imports||[]}}function hn(s){return Ur(s,Gn)||Ur(s,pr)}function pi(s){return null!==hn(s)}function Ur(s,o){return s.hasOwnProperty(o)?s[o]:null}function br(s){return s&&(s.hasOwnProperty(Vn)||s.hasOwnProperty(Dr))?s[Vn]:null}const Gn=Ee({\u0275prov:Ee}),Vn=Ee({\u0275inj:Ee}),pr=Ee({ngInjectableDef:Ee}),Dr=Ee({ngInjectorDef:Ee});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let vn;function dn(s){const o=vn;return vn=s,o}function Kn(s,o,a){const c=hn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&et.Optional?null:void 0!==o?o:void Oe(pe(s))}function pn(s){return{toString:s}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),ut=(()=>{return(s=ut||(ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ut;var s})();const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},At=[],ar=Ee({\u0275cmp:Ee}),Rt=Ee({\u0275dir:Ee}),ur=Ee({\u0275pipe:Ee}),Gt=Ee({\u0275mod:Ee}),jn=Ee({\u0275fac:Ee}),Tn=Ee({__NG_ELEMENT_ID__:Ee});let Xe=0;function Ne(s){return pn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ut.Emulated,id:"c"+Xe++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=Y(s.inputs,c),h.outputs=Y(s.outputs),_&&_.forEach(E=>E(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(gt).filter(bt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Z).filter(bt):null,h})}function gt(s){return x(s)||N(s)}function bt(s){return null!==s}function $(s){return pn(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Y(s,o){if(null==s)return Yn;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const U=Ne;function S(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function x(s){return s[ar]||null}function N(s){return s[Rt]||null}function Z(s){return s[ur]||null}function ye(s){const o=x(s)||N(s)||Z(s);return null!==o&&o.standalone}function ke(s,o){const a=s[Gt]||null;if(!a&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return a}function gr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Rr(s){return Array.isArray(s)&&!0===s[1]}function is(s){return 0!=(8&s.flags)}function Hs(s){return 2==(2&s.flags)}function Gs(s){return 1==(1&s.flags)}function ti(s){return null!==s.template}function ua(s){return 0!=(256&s[2])}function Cr(s,o){return s.hasOwnProperty(jn)?s[jn]:null}class Co{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Is(){return ru}function ru(s){return s.type.prototype.ngOnChanges&&(s.setInput=ha),iu}function iu(){const s=qs(this),o=s?.current;if(o){const a=s.previous;if(a===Yn)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function ha(s,o,a,c){const h=qs(s)||function fa(s,o){return s[su]=o}(s,{previous:Yn,current:null}),p=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[a],b=_[E];p[E]=new Co(b&&b.currentValue,o,_===Yn),s[c]=o}Is.ngInherit=!0;const su="__ngSimpleChanges__";function qs(s){return s[su]||null}function $n(s){for(;Array.isArray(s);)s=s[0];return s}function Ti(s,o){return $n(o[s])}function Or(s,o){return $n(o[s.index])}function Ao(s,o){return s.data[o]}function mn(s,o){const a=o[s];return gr(a)?a:a[0]}function Ts(s){return 64==(64&s[2])}function gi(s,o){return null==o?null:s[o]}function So(s){s[18]=0}function Mo(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const $t={lFrame:hd(null),bindingsEnabled:!0};function Qe(){return $t.bindingsEnabled}function Te(){return $t.lFrame.lView}function Pt(){return $t.lFrame.tView}function Hn(s){return $t.lFrame.contextLView=s,s[8]}function Vt(s){return $t.lFrame.contextLView=null,s}function kn(){let s=Cs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Cs(){return $t.lFrame.currentTNode}function Ar(s,o){const a=$t.lFrame;a.currentTNode=s,a.isParent=o}function as(){return $t.lFrame.isParent}function pa(){$t.lFrame.isParent=!1}function lu(){return $t.lFrame.bindingIndex++}function Ws(s){const o=$t.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Zf(s,o){const a=$t.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ml(o)}function Ml(s){$t.lFrame.currentDirectiveIndex=s}function ud(s){const o=$t.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ld(){return $t.lFrame.currentQueryIndex}function cd(s){$t.lFrame.currentQueryIndex=s}function dd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Nm(s,o,a){if(a&et.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&et.Host||(h=dd(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=$t.lFrame=Rm();return c.currentTNode=o,c.lView=s,!0}function xl(s){const o=Rm(),a=s[1];$t.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Rm(){const s=$t.lFrame,o=null===s?null:s.child;return null===o?hd(s):o}function hd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Pm(){const s=$t.lFrame;return $t.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wf=Pm;function ga(){const s=Pm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qn(){return $t.lFrame.selectedIndex}function Ms(s){$t.lFrame.selectedIndex=s}function Zn(){const s=$t.lFrame;return Ao(s.tView,s.selectedIndex)}function cu(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function du(s,o,a){gd(s,o,3,a)}function No(s,o,a,c){(3&s[2])===a&&gd(s,o,a,c)}function pd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function gd(s,o,a,c){const p=c??-1,_=o.length-1;let E=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=c&&E>=c)break}else o[b]<0&&(s[18]+=65536),(E<p||-1==p)&&(Kf(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Kf(s,o,a,c){const h=a[c]<0,p=a[c+1],E=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class Ci{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function xs(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],_=a[c++],E=a[c++];s.setAttribute(o,_,E,p)}else{const p=h,_=a[++c];Ed(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),c++}}return c}function vd(s){return 3===s||4===s||6===s}function Ed(s){return 64===s.charCodeAt(0)}function fu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Yf(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function Yf(s,o,a,c,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function jm(s){return-1!==s}function Ro(s){return 32767&s}function Ks(s,o){let a=function $m(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let wd=!0;function Ol(s){const o=wd;return wd=s,o}let Qf=0;const Li={};function Po(s,o){const a=kl(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Id(c.data,s),Id(o,null),Id(c.blueprint,null));const h=pu(s,o),p=s.injectorIndex;if(jm(h)){const _=Ro(h),E=Ks(h,o),b=E[1].data;for(let T=0;T<8;T++)o[p+T]=E[_+T]|b[_+T]}return o[p+8]=h,p}function Id(s,o){s.push(0,0,0,0,0,0,0,0,o)}function kl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Bl(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function gu(s,o,a){!function Gm(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Tn)&&(c=a[Tn]),null==c&&(c=a[Tn]=Qf++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Fl(s,o,a){if(a&et.Optional||void 0!==s)return s;Oe()}function Oo(s,o,a,c){if(a&et.Optional&&void 0===c&&(c=null),0==(a&(et.Self|et.Host))){const h=s[9],p=dn(void 0);try{return h?h.get(o,c,a&et.Optional):Kn(o,c,a&et.Optional)}finally{dn(p)}}return Fl(c,0,a)}function Ll(s,o,a,c=et.Default,h){if(null!==s){if(1024&o[2]){const _=function qm(s,o,a,c,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Jf(p,_,a,c|et.Self,Li);if(E!==Li)return E;let b=p.parent;if(!b){const T=_[21];if(T){const M=T.get(a,Li,c);if(M!==Li)return M}b=Bl(_),_=_[15]}p=b}return h}(s,o,a,c,Li);if(_!==Li)return _}const p=Jf(s,o,a,c,Li);if(p!==Li)return p}return Oo(o,a,c,h)}function Jf(s,o,a,c,h){const p=function zm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Tn)?s[Tn]:void 0;return"number"==typeof o?o>=0?255&o:tp:o}(a);if("function"==typeof p){if(!Nm(o,s,c))return c&et.Host?Fl(h,0,c):Oo(o,a,c,h);try{const _=p(c);if(null!=_||c&et.Optional)return _;Oe()}finally{Wf()}}else if("number"==typeof p){let _=null,E=kl(s,o),b=-1,T=c&et.Host?o[16][6]:null;for((-1===E||c&et.SkipSelf)&&(b=-1===E?pu(s,o):o[E+8],-1!==b&&ep(c,!1)?(_=o[1],E=Ro(b),o=Ks(b,o)):E=-1);-1!==E;){const M=o[1];if(Vl(p,E,M.data)){const L=Xf(E,o,a,_,c,T);if(L!==Li)return L}b=o[E+8],-1!==b&&ep(c,o[1].data[E+8]===T)&&Vl(p,E,o)?(_=M,E=Ro(b),o=Ks(b,o)):E=-1}}return h}function Xf(s,o,a,c,h,p){const _=o[1],E=_.data[s+8],M=yu(E,_,a,null==c?Hs(E)&&wd:c!=_&&0!=(3&E.type),h&et.Host&&p===E);return null!==M?ls(o,_,M,E):Li}function yu(s,o,a,c,h){const p=s.providerIndexes,_=o.data,E=1048575&p,b=s.directiveStart,M=p>>20,W=h?E+M:s.directiveEnd;for(let ie=c?E:E+M;ie<W;ie++){const Ce=_[ie];if(ie<b&&a===Ce||ie>=b&&Ce.type===a)return ie}if(h){const ie=_[b];if(ie&&ti(ie)&&ie.type===a)return b}return null}function ls(s,o,a,c){let h=s[a];const p=o.data;if(function md(s){return s instanceof Ci}(h)){const _=h;_.resolving&&function st(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Se(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[a]));const E=Ol(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?dn(_.injectImpl):null;Nm(s,c,et.Default);try{h=s[a]=_.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Nl(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const _=ru(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==b&&dn(b),Ol(E),_.resolving=!1,Wf()}}return h}function Vl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function ep(s,o){return!(s&et.Self||s&et.Host&&o)}class _u{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ll(this._tNode,this._lView,o,c,a)}}function tp(){return new _u(kn(),Te())}function Ys(s){return pn(()=>{const o=s.prototype.constructor,a=o[jn]||Ul(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[jn]||Ul(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ul(s){return Pe(s)?()=>{const o=Ul(Q(s));return o&&o()}:Cr(s)}function Bl(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function jl(s){return function mu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(vd(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(kn(),s)}const vu="__parameters__";function Eu(s,o,a){return pn(()=>{const c=function np(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(b,T,M){const L=b.hasOwnProperty(vu)?b[vu]:Object.defineProperty(b,vu,{value:[]})[vu];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Ln{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Kr(c,o)):o!==s&&o.push(c)}return o}function Ns(s,o){s.forEach(a=>Array.isArray(a)?Ns(a,o):o(a))}function wu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Lo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ri(s,o,a){let c=Rs(s,o);return c>=0?s[1|c]=a:(c=~c,function Ft(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Td(s,o){const a=Rs(s,o);if(a>=0)return s[1|a]}function Rs(s,o){return function Ui(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const cr={},cs="__NG_DI_FLAG__",Ea="ngTempTokenPath",Hl=/\n/gm,Gl="__source";let jo;function Qs(s){const o=jo;return jo=s,o}function ap(s,o=et.Default){if(void 0===jo)throw new Se(-203,!1);return null===jo?Kn(s,void 0,o):jo.get(s,o&et.Optional?null:void 0,o)}function tr(s,o=et.Default){return(function On(){return vn}()||ap)(Q(s),o)}function Tu(s,o=et.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),tr(s,o)}function zl(s){const o=[];for(let a=0;a<s.length;a++){const c=Q(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Se(900,!1);let h,p=et.Default;for(let _=0;_<c.length;_++){const E=c[_],b=up(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}o.push(tr(h,p))}else o.push(tr(c))}return o}function Js(s,o){return s[cs]=o,s.prototype[cs]=o,s}function up(s){return s[cs]}const Xs=Js(Eu("Optional"),8),eo=Js(Eu("SkipSelf"),4);let gp,Pd,Da;function P0(s){gp=s}function Ho(s){return function Od(){if(void 0===Pd&&(Pd=null,yt.trustedTypes))try{Pd=yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pd}()?.createHTML(s)||s}function Mu(s){return function Go(){if(void 0===Da&&(Da=null,yt.trustedTypes))try{Da=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Da}()?.createHTML(s)||s}class Ps{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wl extends Ps{getTypeName(){return"HTML"}}class kd extends Ps{getTypeName(){return"Style"}}class Fd extends Ps{getTypeName(){return"Script"}}class Kl extends Ps{getTypeName(){return"URL"}}class Yl extends Ps{getTypeName(){return"ResourceURL"}}function hs(s){return s instanceof Ps?s.changingThisBreaksApplicationSecurity:s}function fs(s,o){const a=function Ta(s){return s instanceof Ps&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function O0(s){return new Wl(s)}function k0(s){return new kd(s)}function mp(s){return new Fd(s)}function F0(s){return new Kl(s)}function Ql(s){return new Yl(s)}class Jl{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ho(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Ld{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ho(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Ho(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function I(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function A(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const O=I("area,br,col,hr,img,wbr"),re=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=I("rp,rt"),Fn=A(O,A(re,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A(Re,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A(Re,re)),ji=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xl=A(ji,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xu=I("script,style,template");class yp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Fn.hasOwnProperty(a))return this.sanitizedSomething=!0,!xu.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),_=p.name,E=_.toLowerCase();if(!Xl.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=p.value;ji[E]&&(b=m(b)),this.buf.push(" ",_,'="',Zo(b),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Fn.hasOwnProperty(a)&&!O.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Zo(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ry=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function Zo(s){return s.replace(/&/g,"&amp;").replace(ry,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wo;function Nu(s,o){let a=null;try{Wo=Wo||function qo(s){const o=new Ld(s);return function v(){try{return!!(new window.DOMParser).parseFromString(Ho(""),"text/html")}catch{return!1}}()?new Jl(o):o}(s);let c=o?String(o):"";a=Wo.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=Wo.getInertBodyElement(c)}while(c!==p);return Ho((new yp).sanitizeChildren(Ru(a)||a))}finally{if(a){const c=Ru(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ru(s){return"content"in s&&function Pu(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function _p(s){const o=ec();return o?Mu(o.sanitize(Jn.HTML,s)||""):fs(s,"HTML")?Mu(hs(s)):Nu(function Rd(){return void 0!==gp?gp:typeof document<"u"?document:void 0}(),we(s))}function V0(s){const o=ec();return o?o.sanitize(Jn.URL,s)||"":fs(s,"URL")?hs(s):m(we(s))}function ec(){const s=Te();return s&&s[12]}const iy=new Ln("ENVIRONMENT_INITIALIZER"),sy=new Ln("INJECTOR",-1),B0=new Ln("INJECTOR_DEF_TYPES");class TD{get(o,a=cr){if(a===cr){const c=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw c.name="NullInjectorError",c}return a}}function j0(...s){return{\u0275providers:$0(0,s)}}function $0(s,...o){const a=[],c=new Set;let h;return Ns(o,p=>{const _=p;ay(_,a,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&oy(h,a),a}function oy(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Ns(h,p=>{o.push(p)})}}function ay(s,o,a,c){if(!(s=Q(s)))return!1;let h=null,p=br(s);const _=!p&&x(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(p=br(b),!p)return!1;h=b}const E=c.has(h);if(_){if(E)return!1;if(c.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of b)ay(T,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;c.add(h);try{Ns(p.imports,M=>{ay(M,o,a,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&oy(T,o)}if(!E){const T=Cr(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:At},{provide:B0,useValue:h,multi:!0},{provide:iy,useValue:()=>tr(h),multi:!0})}const b=p.providers;null==b||E||Ns(b,M=>{o.push(M)})}}return h!==s&&void 0!==s.providers}const uy=Ee({provide:String,useValue:Ee});function ly(s){return null!==s&&"object"==typeof s&&uy in s}function io(s){return"function"==typeof s}const Bd=new Ln("Set Injector scope."),vp={},dy={};let Ep;function wp(){return void 0===Ep&&(Ep=new TD),Ep}class Ko{}class G0 extends Ko{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,py(o,_=>this.processProvider(_)),this.records.set(sy,tc(void 0,this)),h.has("environment")&&this.records.set(Ko,tc(void 0,this));const p=this.records.get(Bd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(B0.multi,At,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Qs(this),c=dn(void 0);try{return o()}finally{Qs(a),dn(c)}}get(o,a=cr,c=et.Default){this.assertNotDestroyed();const h=Qs(this),p=dn(void 0);try{if(!(c&et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function dx(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ln}(o)&&hn(o);E=b&&this.injectableDefInScope(b)?tc(Ip(o),vp):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&et.Self?wp():this.parent).get(o,a=c&et.Optional&&a===cr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ea]=_[Ea]||[]).unshift(pe(o)),h)throw _;return function lp(s,o,a,c){const h=s[Ea];throw o[Gl]&&h.unshift(o[Gl]),s.message=function Ad(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Hl,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Ea]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{dn(p),Qs(h)}}resolveInjectorInitializers(){const o=Qs(this),a=dn(void 0);try{const c=this.get(iy.multi,At,et.Self);for(const h of c)h()}finally{Qs(o),dn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(pe(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(o){let a=io(o=Q(o))?o:Q(o&&o.provide);const c=function hy(s){return ly(s)?tc(void 0,s.useValue):tc(z0(s),vp)}(o);if(io(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=tc(void 0,vp,!0),h.factory=()=>zl(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===vp&&(a.value=dy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function MD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ip(s){const o=hn(s),a=null!==o?o.factory:Cr(s);if(null!==a)return a;if(s instanceof Ln)throw new Se(204,!1);if(s instanceof Function)return function SD(s){const o=s.length;if(o>0)throw function Vi(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?"),new Se(204,!1);const a=function Pn(s){const o=s&&(s[Gn]||s[pr]);if(o){const a=function Wn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Se(204,!1)}function z0(s,o,a){let c;if(io(s)){const h=Q(s);return Cr(h)||Ip(h)}if(ly(s))c=()=>Q(s.useValue);else if(function H0(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...zl(s.deps||[]));else if(function cy(s){return!(!s||!s.useExisting)}(s))c=()=>tr(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function q0(s){return!!s.deps}(s))return Cr(h)||Ip(h);c=()=>new h(...zl(s.deps))}return c}function tc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function fy(s){return!!s.\u0275providers}function py(s,o){for(const a of s)Array.isArray(a)?py(a,o):fy(a)?py(a.\u0275providers,o):o(a)}class gy{}class ND{resolveComponentFactory(o){throw function Ou(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nc=(()=>{class s{}return s.NULL=new ND,s})();function RD(){return rc(kn(),Te())}function rc(s,o){return new ku(Or(s,o))}let ku=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=RD,s})();function K0(s){return s instanceof ku?s.nativeElement:s}class my{}let PD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Y0(){const s=Te(),a=mn(kn().index,s);return(gr(a)?a:s)[11]}(),s})(),OD=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class yy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Q0=new yy("14.2.4"),bp={};function nE(s){return s.ngOriginalError}class ic{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&nE(o);for(;a&&nE(a);)a=nE(a);return a||null}}const rE=new Map;let iE=0;const by="__ngContext__";function ii(s,o){gr(o)?(s[by]=o[20],function sE(s){rE.set(s[20],s)}(o)):s[by]=o}function Yo(s){return s instanceof Function?s():s}var oo=(()=>((oo=oo||{})[oo.Important=1]="Important",oo[oo.DashCase=2]="DashCase",oo))();function Ty(s,o){return undefined(s,o)}function Cp(s){const o=s[3];return Rr(o)?o[3]:o}function Cy(s){return Qo(s[13])}function Gd(s){return Qo(s[4])}function Qo(s){for(;null!==s&&!Rr(s);)s=s[4];return s}function Ca(s,o,a,c,h){if(null!=c){let p,_=!1;Rr(c)?p=c:gr(c)&&(_=!0,c=c[0]);const E=$n(c);0===s&&null!==a?null==h?xp(o,a,E):Sa(o,a,E,h||null,!0):1===s&&null!==a?Sa(o,a,E,h||null,!0):2===s?function Ny(s,o,a){const c=oc(s,o);c&&function EE(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=p&&function IE(s,o,a,c,h){const p=a[7];p!==$n(a)&&Ca(o,s,c,p,h);for(let E=10;E<a.length;E++){const b=a[E];uc(b[1],b,s,o,c,p)}}(o,s,p,a,h)}}function Sp(s,o,a){return s.createElement(o,a)}function Aa(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Mo(h,-1)),a.splice(c,1)}function Mp(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&Aa(h,c),o>0&&(s[a-1][4]=c[4]);const p=Lo(s,10+o);!function Ay(s,o){uc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function mE(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&uc(s,o,a,3,null,null),function Sy(s){let o=s[13];if(!o)return yE(s[1],s);for(;o;){let a=null;if(gr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)gr(o)&&yE(o[1],o),o=o[3];null===o&&(o=s),gr(o)&&yE(o[1],o),a=o&&o[4]}o=a}}(o)}}function yE(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function _E(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Ci)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],b=p[_+1];try{b.call(E)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function tT(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],E="function"==typeof _?_(o):$n(o[_]),b=c[h=a[p+2]],T=a[p+3];"boolean"==typeof T?E.removeEventListener(a[p],b,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),p+=2}else{const _=c[h=a[p+1]];a[p].call(_)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Rr(o[3])){a!==o[3]&&Aa(a,o);const c=o[19];null!==c&&c.detachView(s)}!function bx(s){rE.delete(s[20])}(o)}}function My(s,o,a){return function nT(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===ut.None||h===ut.Emulated)return null}return Or(c,a)}(s,o.parent,a)}function Sa(s,o,a,c,h){s.insertBefore(o,a,c,h)}function xp(s,o,a){s.appendChild(o,a)}function vE(s,o,a,c,h){null!==c?Sa(s,o,a,c,h):xp(s,o,a)}function oc(s,o){return s.parentNode(o)}let xy=function Zd(s,o,a){return 40&s.type?Or(s,a):null};function ac(s,o,a,c){const h=My(s,c,o),p=o[11],E=function qd(s,o,a){return xy(s,o,a)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)vE(p,h,a[b],E,!1);else vE(p,h,a,E,!1)}function Fu(s,o){if(null!==o){const a=o.type;if(3&a)return Or(o,s);if(4&a)return Lu(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Fu(s,c);{const h=s[o.index];return Rr(h)?Lu(-1,h):$n(h)}}if(32&a)return Ty(o,s)()||$n(s[o.index]);{const c=wE(s,o);return null!==c?Array.isArray(c)?c[0]:Fu(Cp(s[16]),c):Fu(s,o.next)}}return null}function wE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Lu(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Fu(c,h)}return o[7]}function Ry(s,o,a,c,h,p,_){for(;null!=a;){const E=c[a.index],b=a.type;if(_&&0===o&&(E&&ii($n(E),c),a.flags|=4),64!=(64&a.flags))if(8&b)Ry(s,o,a.child,c,h,p,!1),Ca(o,s,h,E,p);else if(32&b){const T=Ty(a,c);let M;for(;M=T();)Ca(o,s,h,M,p);Ca(o,s,h,E,p)}else 16&b?Py(s,o,c,a,h,p):Ca(o,s,h,E,p);a=_?a.projectionNext:a.next}}function uc(s,o,a,c,h,p){Ry(a,c,s.firstChild,o,h,p,!1)}function Py(s,o,a,c,h,p){const _=a[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Ca(o,s,h,b[T],p);else Ry(s,o,b,_[3],h,p,!0)}function xa(s,o,a){s.setAttribute(o,"style",a)}function Vu(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function bE(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Oy="ng-template";function Kd(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==bE(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Yd(s){return 4===s.type&&s.value!==Oy}function rT(s,o,a){return o===(4!==s.type||a?s.value:Oy)}function ky(s,o,a){let c=4;const h=s.attrs||[],p=function CE(s){for(let o=0;o<s.length;o++)if(vd(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!rT(s,b,a)||""===b&&1===o.length){if(ks(c))return!1;_=!0}}else{const T=8&c?b:o[++E];if(8&c&&null!==s.attrs){if(!Kd(s.attrs,T,a)){if(ks(c))return!1;_=!0}continue}const L=iT(8&c?"class":b,h,Yd(s),a);if(-1===L){if(ks(c))return!1;_=!0;continue}if(""!==T){let W;W=L>p?"":h[L+1].toLowerCase();const ie=8&c?W:null;if(ie&&-1!==bE(ie,T,0)||2&c&&T!==W){if(ks(c))return!1;_=!0}}}}else{if(!_&&!ks(c)&&!ks(b))return!1;if(_&&ks(b))continue;_=!1,c=b|1&c}}return ks(c)||_}function ks(s){return 0==(1&s)}function iT(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Rp(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function TE(s,o,a=!1){for(let c=0;c<o.length;c++)if(ky(s,o[c],a))return!0;return!1}function AE(s,o){return s?":not("+o.trim()+")":o}function sT(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&c){const E=s[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!ks(_)&&(o+=AE(p,h),h=""),c=_,p=p||!ks(c);a++}return""!==h&&(o+=AE(p,h)),o}const Jt={};function Qd(s){SE(Pt(),Te(),qn()+s,!1)}function SE(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&du(o,p,a)}else{const p=s.preOrderHooks;null!==p&&No(o,p,0,a)}Ms(a)}function NE(s,o=null,a=null,c){const h=RE(s,o,a,c);return h.resolveInjectorInitializers(),h}function RE(s,o=null,a=null,c,h=new Set){const p=[a||At,j0(s)];return c=c||("object"==typeof s?void 0:pe(s)),new G0(p,o||wp(),c||null,h)}let Uu=(()=>{class s{static create(a,c){if(Array.isArray(a))return NE({name:""},c,a,"");{const h=a.name??"";return NE({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=cr,s.NULL=new TD,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>tr(sy)}),s.__NG_ELEMENT_ID__=-1,s})();function cc(s,o=et.Default){const a=Te();return null===a?tr(s,o):Ll(kn(),a,Q(s),o)}function BE(){throw new Error("invalid")}function kp(s,o){return s<<17|o<<2}function ps(s){return s>>17&32767}function Fp(s){return 2|s}function Jo(s){return(131068&s)>>2}function th(s,o){return-131069&s|o<<2}function zy(s){return 1|s}function KE(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const _=s.data[p];cd(h),_.contentQueries(2,o[p],p)}}}function oh(s,o,a,c,h,p,_,E,b,T,M){const L=o.blueprint.slice();return L[0]=h,L[2]=76|c,(null!==M||s&&1024&s[2])&&(L[2]|=1024),So(L),L[3]=L[15]=s,L[8]=a,L[10]=_||s&&s[10],L[11]=E||s&&s[11],L[12]=b||s&&s[12]||null,L[9]=T||s&&s[9]||null,L[6]=p,L[20]=function $d(){return iE++}(),L[21]=M,L[16]=2==o.type?s[16]:L,L}function Ra(s,o,a,c,h){let p=s.data[o];if(null===p)p=function Bp(s,o,a,c,h){const p=Cs(),_=as(),b=s.data[o]=function ew(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,o,a,c,h),function qf(){return $t.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const _=function As(){const s=$t.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Ar(p,!0),p}function hc(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function YE(s,o,a){xl(o);try{const c=s.viewQuery;null!==c&&gs(1,c,a);const h=s.template;null!==h&&OT(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&KE(s,o),s.staticViewQueries&&gs(2,s.viewQuery,a);const p=s.components;null!==p&&function PT(s,o){for(let a=0;a<o.length;a++)an(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ga()}}function Qy(s,o,a,c){const h=o[2];if(128!=(128&h)){xl(o);try{So(o),function uu(s){return $t.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&OT(s,o,a,2,c);const _=3==(3&h);if(_){const T=s.preOrderCheckHooks;null!==T&&du(o,T,null)}else{const T=s.preOrderHooks;null!==T&&No(o,T,0,null),pd(o,0)}if(function FT(s){for(let o=Cy(s);null!==o;o=Gd(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&Mo(p,1),h[2]|=512}}}(o),function sw(s){for(let o=Cy(s);null!==o;o=Gd(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Ts(c)&&Qy(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&KE(s,o),_){const T=s.contentCheckHooks;null!==T&&du(o,T)}else{const T=s.contentHooks;null!==T&&No(o,T,1),pd(o,1)}!function NT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Ms(~h);else{const p=h,_=a[++c],E=a[++c];Zf(_,p),E(2,o[p])}}}finally{Ms(-1)}}(s,o);const E=s.components;null!==E&&function RT(s,o){for(let a=0;a<o.length;a++)LT(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&gs(2,b,c),_){const T=s.viewCheckHooks;null!==T&&du(o,T)}else{const T=s.viewHooks;null!==T&&No(o,T,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Mo(o[3],-1))}finally{ga()}}}function OT(s,o,a,c,h){const p=qn(),_=2&c;try{Ms(-1),_&&o.length>22&&SE(s,o,22,!1),a(c,h)}finally{Ms(p)}}function mt(s,o,a){if(is(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function kr(s,o,a){!Qe()||(function rw(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Po(a,o),ii(c,o);const _=a.initialInputs;for(let E=h;E<p;E++){const b=s.data[E],T=ti(b);T&&ea(o,a,b);const M=ls(o,s,E,a);ii(M,o),null!==_&&Oa(0,E-h,M,b,0,_),T&&(mn(a.index,o)[8]=M)}}(s,o,a,Or(a,o)),128==(128&a.flags)&&function nr(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,_=function M0(){return $t.lFrame.currentDirectiveIndex}();try{Ms(p);for(let E=c;E<h;E++){const b=s.data[E],T=o[E];Ml(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&gc(b,T)}}finally{Ms(-1),Ml(_)}}(s,o,a))}function zi(s,o,a=Or){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?a(o,s):s[_];s[h++]=E}}}function QE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=fc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function fc(s,o,a,c,h,p,_,E,b,T){const M=22+c,L=M+h,W=function ah(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Jt);return a}(M,L),ie="function"==typeof T?T():T;return W[1]={type:s,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ie,incompleteFirstPass:!1}}function XE(s,o,a,c){const h=n_(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&r_(s).push(c,h.length-1))}function pc(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function tw(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,_=[];let E=null,b=null;for(let T=o.directiveStart;T<c;T++){const M=h[T],L=M.inputs,W=null===p||Yd(o)?null:kT(L,p);_.push(W),E=pc(L,T,E),b=pc(M.outputs,T,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=b}function Ai(s,o,a,c,h,p,_,E){const b=Or(o,a);let M,T=o.inputs;!E&&null!=T&&(M=T[c])?(lo(s,a,M,c,h),Hs(o)&&nw(a,o.index)):3&o.type&&(c=function Jy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,p.setProperty(b,c,h))}function nw(s,o){const a=mn(o,s);16&a[2]||(a[2]|=32)}function $p(s,o,a,c){let h=!1;if(Qe()){const p=function uh(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];TE(a,_.selectors,!1)&&(h||(h=[]),gu(Po(a,o),s,_.type),ti(_)?(Si(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===c?null:{"":-1};if(null!==p){h=!0,t_(a,s.data.length,p.length);for(let M=0;M<p.length;M++){const L=p[M];L.providersResolver&&L.providersResolver(L)}let E=!1,b=!1,T=hc(s,o,p.length,null);for(let M=0;M<p.length;M++){const L=p[M];a.mergedAttrs=fu(a.mergedAttrs,L.hostAttrs),iw(s,a,o,T,L),Hp(T,L,_),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const W=L.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),b=!0),T++}tw(s,a)}_&&function si(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Se(-301,!1);c.push(o[h],p)}}}(a,c,_)}return a.mergedAttrs=fu(a.mergedAttrs,a.attrs),h}function Qr(s,o,a,c,h,p){const _=p.hostBindings;if(_){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function e_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(c,h,_)}}function gc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Si(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Hp(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;ti(o)&&(a[""]=s)}}function t_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function iw(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Cr(h.type)),_=new Ci(p,ti(h),cc);s.blueprint[c]=_,a[c]=_,Qr(s,o,0,c,hc(s,a,h.hostVars,Jt),h)}function ea(s,o,a){const c=Or(o,s),h=QE(a),p=s[10],_=qp(s,oh(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=_}function oi(s,o,a,c,h,p){const _=Or(s,o);!function $r(s,o,a,c,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const E=null==_?we(p):_(p,c||"",h);s.setAttribute(o,h,E,a)}}(o[11],_,p,s.value,a,c,h)}function Oa(s,o,a,c,h,p){const _=p[o];if(null!==_){const E=c.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],L=_[b++];null!==E?c.setInput(a,L,T,M):a[M]=L}}}function kT(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function zp(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function LT(s,o){const a=mn(o,s);if(Ts(a)){const c=a[1];48&a[2]?Qy(c,a,c.template,a[8]):a[5]>0&&lh(a)}}function lh(s){for(let c=Cy(s);null!==c;c=Gd(c))for(let h=10;h<c.length;h++){const p=c[h];if(Ts(p))if(512&p[2]){const _=p[1];Qy(_,p,_.template,p[8])}else p[5]>0&&lh(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=mn(a[c],s);Ts(h)&&h[5]>0&&lh(h)}}function an(s,o){const a=mn(o,s),c=a[1];(function ch(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),YE(c,a,a[8])}function qp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ka(s){for(;s;){s[2]|=32;const o=Cp(s);if(ua(s)&&!o)return s;s=o}return null}function Zp(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{Qy(s,o,s.template,a)}catch(_){throw c&&Hr(o,_),_}finally{h.end&&h.end()}}function gs(s,o,a){cd(0),o(s,a)}function n_(s){return s[7]||(s[7]=[])}function r_(s){return s.cleanup||(s.cleanup=[])}function Hr(s,o){const a=s[9],c=a?a.get(ic,null):null;c&&c.handleError(o)}function lo(s,o,a,c,h){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],b=o[_],T=s.data[_];null!==T.setInput?T.setInput(b,h,c,E):b[E]=h}}function Wp(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=_e(h,E):2==p&&(c=_e(c,E+": "+o[++_]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Kp(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push($n(p)),Rr(p))for(let E=10;E<p.length;E++){const b=p[E],T=b[1].firstChild;null!==T&&Kp(b[1],b,T,c)}const _=a.type;if(8&_)Kp(s,o,a.child,c);else if(32&_){const E=Ty(a,o);let b;for(;b=E();)c.push(b)}else if(16&_){const E=wE(o,a);if(Array.isArray(E))c.push(...E);else{const b=Cp(o[16]);Kp(b[1],b,E,c,!0)}}a=h?a.projectionNext:a.next}return c}class mc{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Kp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Rr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Mp(o,c),Lo(a,c))}this._attachedToViewContainer=!1}mE(this._lView[1],this._lView)}onDestroy(o){XE(this._lView[1],this._lView,null,o)}markForCheck(){ka(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gE(s,o){uc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=o}}class ow extends mc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Zp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class i_ extends nc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=x(o);return new yc(a,this.ngModule)}}function s_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class aw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,bp,c);return h!==bp||a===bp?h:this.parentInjector.get(o,a,c)}}class yc extends gy{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function oT(s){return s.map(sT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return s_(this.componentDef.inputs)}get outputs(){return s_(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof Ko?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new aw(o,p):o,E=_.get(my,null);if(null===E)throw new Se(407,!1);const b=_.get(OD,null),T=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=c?function JE(s,o,a){return s.selectRootElement(o,a===ut.ShadowDom)}(T,c,this.componentDef.encapsulation):Sp(E.createRenderer(null,this.componentDef),M,function BT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),W=this.componentDef.onPush?288:272,ie=fc(0,null,null,1,0,null,null,null,null,null),Ce=oh(null,ie,null,W,null,null,E,T,b,_,null);let qe,Ke;xl(Ce);try{const lt=function jT(s,o,a,c,h,p){const _=a[1];a[22]=s;const b=Ra(_,22,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Wp(b,T,!0),null!==s&&(xs(h,s,T),null!==b.classes&&Vu(h,s,b.classes),null!==b.styles&&xa(h,s,b.styles)));const M=c.createRenderer(s,o),L=oh(a,QE(o),null,o.onPush?32:16,a[22],b,c,M,p||null,null,null);return _.firstCreatePass&&(gu(Po(b,a),_,o.type),Si(_,b),t_(b,a.length,1)),qp(a,L),a[22]=L}(L,this.componentDef,Ce,E,T);if(L)if(c)xs(T,L,["ng-version",Q0.full]);else{const{attrs:Tt,classes:Le}=function xx(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!ks(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Tt&&xs(T,L,Tt),Le&&Le.length>0&&Vu(T,L,Le.join(" "))}if(Ke=Ao(ie,22),void 0!==a){const Tt=Ke.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const St=a[Le];Tt.push(null!=St?Array.from(St):null)}}qe=function Hu(s,o,a,c){const h=a[1],p=function Pa(s,o,a){const c=kn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),iw(s,c,o,hc(s,o,1,null),a),tw(s,c));const h=ls(o,s,c.directiveStart,c);ii(h,o);const p=Or(c,o);return p&&ii(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==c)for(const E of c)E(p,o);if(o.contentQueries){const E=kn();o.contentQueries(1,p,E.directiveStart)}const _=kn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ms(_.index),Qr(a[1],_,0,_.directiveStart,_.directiveEnd,o),gc(o,p)),p}(lt,this.componentDef,Ce,[$T]),YE(ie,Ce,null)}finally{ga()}return new ln(this.componentType,qe,rc(Ke,Ce),Ce,Ke)}}class ln extends class Z0{}{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ow(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;lo(p[1],p,h,o,a),nw(p,this._tNode.index)}}get injector(){return new _u(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $T(){const s=kn();cu(Te()[1],s)}function dh(s){let o=function o_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Se(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const _=s;_.inputs=vc(s.inputs),_.declaredInputs=vc(s.declaredInputs),_.outputs=vc(s.outputs);const E=h.hostBindings;E&&Jp(s,E);const b=h.viewQuery,T=h.contentQueries;if(b&&hh(s,b),T&&uw(s,T),ue(s.inputs,h.inputs),ue(s.declaredInputs,h.declaredInputs),ue(s.outputs,h.outputs),ti(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===dh&&(a=!1)}}o=Object.getPrototypeOf(o)}!function HT(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=fu(h.hostAttrs,a=fu(a,h.hostAttrs))}}(c)}function vc(s){return s===Yn?{}:s===At?[]:s}function hh(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function uw(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function Jp(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let fh=null;function Fa(){if(!fh){const s=yt.Symbol;if(s&&s.iterator)fh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(fh=c)}}}return fh}function ph(s){return!!u_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fa()in s)}function u_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ai(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function na(s,o,a,c){const h=Te();return ai(h,lu(),o)&&(Pt(),oi(Zn(),h,s,o,a,c)),na}function hw(s,o,a,c,h,p,_,E){const b=Te(),T=Pt(),M=s+22,L=T.firstCreatePass?function h_(s,o,a,c,h,p,_,E,b){const T=o.consts,M=Ra(o,s,4,_||null,gi(T,E));$p(o,a,M,gi(T,b)),cu(o,M);const L=M.tViews=fc(2,M,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,c,h,p,_):T.data[M];Ar(L,!1);const W=b[11].createComment("");ac(T,b,W,L),ii(W,b),qp(b,b[M]=zp(W,b,W,L)),Gs(L)&&kr(T,b,L),null!=_&&zi(b,L,E)}function Vs(s,o,a){const c=Te();return ai(c,lu(),o)&&Ai(Pt(),Zn(),c,s,o,c[11],a,!1),Vs}function yh(s,o,a,c,h){const _=h?"class":"style";lo(s,a,o.inputs[_],_,c)}function Wu(s,o,a,c){const h=Te(),p=Pt(),_=22+s,E=h[11],b=h[_]=Sp(E,o,function fd(){return $t.lFrame.currentNamespace}()),T=p.firstCreatePass?function Zu(s,o,a,c,h,p,_){const E=o.consts,T=Ra(o,s,2,h,gi(E,p));return $p(o,a,T,gi(E,_)),null!==T.attrs&&Wp(T,T.attrs,!1),null!==T.mergedAttrs&&Wp(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,p,h,0,o,a,c):p.data[_];Ar(T,!0);const M=T.mergedAttrs;null!==M&&xs(E,b,M);const L=T.classes;null!==L&&Vu(E,b,L);const W=T.styles;return null!==W&&xa(E,b,W),64!=(64&T.flags)&&ac(p,h,b,T),0===function K(){return $t.lFrame.elementDepthCount}()&&ii(b,h),function fe(){$t.lFrame.elementDepthCount++}(),Gs(T)&&(kr(p,h,T),mt(p,T,h)),null!==c&&zi(h,T),Wu}function _h(){let s=kn();as()?pa():(s=s.parent,Ar(s,!1));const o=s;!function Ue(){$t.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(cu(a,s),is(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Rl(s){return 0!=(16&s.flags)}(o)&&yh(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pl(s){return 0!=(32&s.flags)}(o)&&yh(a,o,Te(),o.stylesWithoutHost,!1),_h}function f_(s,o,a,c){return Wu(s,o,a,c),_h(),f_}function ng(s,o,a){const c=Te(),h=Pt(),p=s+22,_=h.firstCreatePass?function WT(s,o,a,c,h){const p=o.consts,_=gi(p,c),E=Ra(o,s,8,"ng-container",_);return null!==_&&Wp(E,_,!0),$p(o,a,E,gi(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,c,o,a):h.data[p];Ar(_,!0);const E=c[p]=c[11].createComment("");return ac(h,c,E,_),ii(E,c),Gs(_)&&(kr(h,c,_),mt(h,_,c)),null!=a&&zi(c,_),ng}function rg(){let s=kn();const o=Pt();return as()?pa():(s=s.parent,Ar(s,!1)),o.firstCreatePass&&(cu(o,s),is(s)&&o.queries.elementEnd(s)),rg}function mw(){return Te()}function p_(s){return!!s&&"function"==typeof s.then}function yw(s){return!!s&&"function"==typeof s.subscribe}const _w=yw;function g_(s,o,a,c){const h=Te(),p=Pt(),_=kn();return function Ew(s,o,a,c,h,p,_,E){const b=Gs(c),M=s.firstCreatePass&&r_(s),L=o[8],W=n_(o);let ie=!0;if(3&c.type||E){const Ke=Or(c,o),lt=E?E(Ke):Ke,Tt=W.length,Le=E?yn=>E($n(yn[c.index])):c.index;let St=null;if(!E&&b&&(St=function vw(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===c){const E=o[7],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,c.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=p,St.__ngLastListenerFn__=p,ie=!1;else{p=ig(c,o,L,p,!1);const yn=a.listen(lt,h,p);W.push(p,yn),M&&M.push(h,Le,Tt,Tt+1)}}else p=ig(c,o,L,p,!1);const Ce=c.outputs;let qe;if(ie&&null!==Ce&&(qe=Ce[h])){const Ke=qe.length;if(Ke)for(let lt=0;lt<Ke;lt+=2){const Rn=o[qe[lt]][qe[lt+1]].subscribe(p),ui=W.length;W.push(p,Rn),M&&M.push(h,c.index,ui,-(ui+1))}}}(p,h,h[11],_,s,o,0,c),g_}function y_(s,o,a,c){try{return!1!==a(c)}catch(h){return Hr(s,h),!1}}function ig(s,o,a,c,h){return function p(_){if(_===Function)return c;ka(2&s.flags?mn(s.index,o):o);let b=y_(o,0,c,_),T=p.__ngNextListenerFn__;for(;T;)b=y_(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function sg(s=1){return function xo(s){return($t.lFrame.contextLView=function Om(s,o){for(;s>0;)o=o[15],s--;return o}(s,$t.lFrame.contextLView))[8]}(s)}function Dw(s,o,a,c,h){const p=s[a+1],_=null===o;let E=c?ps(p):Jo(p),b=!1;for(;0!==E&&(!1===b||_);){const M=s[E+1];YT(s[E],o)&&(b=!0,s[E+1]=c?zy(M):Fp(M)),E=c?ps(M):Jo(M)}b&&(s[a+1]=c?Fp(p):zy(p))}function YT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Rs(s,o)>=0}const yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b_(s){return s.substring(yr.key,yr.keyEnd)}function D_(s,o){const a=yr.textEnd;return a===o?-1:(o=yr.keyEnd=function JT(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,yr.key=o,a),Ua(s,o,a))}function Ua(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Sw(s,o,a){return qi(s,o,a,!1),Sw}function Mw(s,o){return qi(s,o,null,!0),Mw}function xw(s){!function dr(s,o,a,c){const h=Pt(),p=Ws(2);h.firstUpdatePass&&Cc(h,null,p,c);const _=Te();if(a!==Jt&&ai(_,p,a)){const E=h.data[qn()];if(Pw(E,c)&&!T_(h,p)){let b=c?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(a=_e(b,a||"")),yh(h,E,_,a,c)}else!function iC(s,o,a,c,h,p,_,E){h===Jt&&(h=At);let b=0,T=0,M=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==M||null!==L;){const W=b<h.length?h[b+1]:void 0,ie=T<p.length?p[T+1]:void 0;let qe,Ce=null;M===L?(b+=2,T+=2,W!==ie&&(Ce=L,qe=ie)):null===L||null!==M&&M<L?(b+=2,Ce=M):(T+=2,Ce=L,qe=ie),null!==Ce&&Rw(s,o,a,c,Ce,qe,_,E),M=b<h.length?h[b]:null,L=T<p.length?p[T]:null}}(h,E,_,_[11],_[p+1],_[p+1]=function Ac(s,o,a){if(null==a||""===a)return At;const c=[],h=hs(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}(ri,po,s,!0)}function po(s,o){for(let a=function Cw(s){return function wh(s){yr.key=0,yr.keyEnd=0,yr.value=0,yr.valueEnd=0,yr.textEnd=s.length}(s),D_(s,Ua(s,0,yr.textEnd))}(o);a>=0;a=D_(o,a))ri(s,b_(o),!0)}function qi(s,o,a,c){const h=Te(),p=Pt(),_=Ws(2);p.firstUpdatePass&&Cc(p,s,_,c),o!==Jt&&ai(h,_,o)&&Rw(p,p.data[qn()],h,h[11],s,h[_+1]=function sC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(hs(s)))),s}(o,a),c,_)}function T_(s,o){return o>=s.expandoStartIndex}function Cc(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[qn()],_=T_(s,a);Pw(p,c)&&null===o&&!_&&(o=!1),o=function nC(s,o,a,c){const h=ud(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=bh(a=C_(null,s,o,a,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=C_(h,s,o,a,c),null===p){let b=function rC(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Jo(c))return s[ps(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=C_(null,s,o,b[1],c),b=bh(b,o.attrs,c),function Nw(s,o,a,c){s[ps(a?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else p=function ug(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=bh(c,s[p].hostAttrs,a);return bh(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function KT(s,o,a,c,h,p){let _=p?o.classBindings:o.styleBindings,E=ps(_),b=Jo(_);s[c]=a;let M,T=!1;if(Array.isArray(a)){const L=a;M=L[1],(null===M||Rs(L,M)>0)&&(T=!0)}else M=a;if(h)if(0!==b){const W=ps(s[E+1]);s[c+1]=kp(W,E),0!==W&&(s[W+1]=th(s[W+1],c)),s[E+1]=function vT(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=kp(E,0),0!==E&&(s[E+1]=th(s[E+1],c)),E=c;else s[c+1]=kp(b,0),0===E?E=c:s[b+1]=th(s[b+1],c),b=c;T&&(s[c+1]=Fp(s[c+1])),Dw(s,M,c,!0),Dw(s,M,c,!1),function Eh(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Rs(p,o)>=0&&(a[c+1]=zy(a[c+1]))}(o,M,s,c,p),_=kp(E,b),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,c)}}function C_(s,o,a,c,h){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],c=bh(c,p.hostAttrs,h),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function bh(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ri(s,_,!!a||o[++p]))}return void 0===s?null:s}function Rw(s,o,a,c,h,p,_,E){if(!(3&o.type))return;const b=s.data,T=b[E+1];Ba(function HE(s){return 1==(1&s)}(T)?Mc(b,o,a,h,Jo(T),_):void 0)||(Ba(p)||function $E(s){return 2==(2&s)}(T)&&(p=Mc(b,null,a,h,E,_)),function uo(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:oo.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=oo.Important),s.setStyle(a,c,h,p))}}(c,_,Ti(qn(),a),h,p))}function Mc(s,o,a,c,h,p){const _=null===o;let E;for(;h>0;){const b=s[h],T=Array.isArray(b),M=T?b[1]:b,L=null===M;let W=a[h+1];W===Jt&&(W=L?At:void 0);let ie=L?Td(W,c):M===c?W:void 0;if(T&&!Ba(ie)&&(ie=Td(b,c)),Ba(ie)&&(E=ie,_))return E;const Ce=s[h+1];h=_?ps(Ce):Jo(Ce)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Td(b,c))}return E}function Ba(s){return void 0!==s}function Pw(s,o){return 0!=(s.flags&(o?16:32))}function Ow(s,o=""){const a=Te(),c=Pt(),h=s+22,p=c.firstCreatePass?Ra(c,h,1,o,null):c.data[h],_=a[h]=function zd(s,o){return s.createText(o)}(a[11],o);ac(c,a,_,p),Ar(p,!1)}function lg(s,o,a){const c=Te(),h=function mh(s,o,a,c){return ai(s,lu(),a)?o+we(a)+c:Jt}(c,s,o,a);return h!==Jt&&function Fs(s,o,a){const c=Ti(o,s);!function Ap(s,o,a){s.setValue(o,a)}(s[11],c,a)}(c,qn(),h),lg}function P_(s,o,a){const c=Te();if(ai(c,lu(),o)){const p=Pt(),_=Zn();Ai(p,_,c,s,o,function UT(s,o,a){return(null===s||ti(s))&&(a=function Al(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(ud(p.data),_,c),a,!0)}return P_}const Yu=void 0;var vC=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fg(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Nc={};function O_(s){const o=function Zw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=qw(o);if(a)return a;const c=o.split("-")[0];if(a=qw(c),a)return a;if("en"===c)return vC;throw new Se(701,!1)}function zw(s){return O_(s)[kt.PluralCase]}function qw(s){return s in Nc||(Nc[s]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[s]),Nc[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const Qu="en-US";let Qw=Qu;function qt(s,o,a,c,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)qt(s[p],o,a,c,h);else{const p=Pt(),_=Te();let E=io(s)?s:Q(s.provide),b=z0(s);const T=kn(),M=1048575&T.providerIndexes,L=T.directiveStart,W=T.providerIndexes>>20;if(io(s)||!s.multi){const ie=new Ci(b,h,cc),Ce=Ju(E,o,h?M:M+W,L);-1===Ce?(gu(Po(T,_),p,E),Oc(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(ie),_.push(ie)):(a[Ce]=ie,_[Ce]=ie)}else{const ie=Ju(E,o,M+W,L),Ce=Ju(E,o,M,M+W),qe=ie>=0&&a[ie],Ke=Ce>=0&&a[Ce];if(h&&!Ke||!h&&!qe){gu(Po(T,_),p,E);const lt=function HC(s,o,a,c,h){const p=new Ci(s,a,cc);return p.multi=[],p.index=o,p.componentProviders=0,Oh(p,h,c&&!a),p}(h?z_:$C,a.length,h,c,b);!h&&Ke&&(a[Ce].providerFactory=lt),Oc(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(lt),_.push(lt)}else Oc(p,s,ie>-1?ie:Ce,Oh(a[h?Ce:ie],b,!h&&c));!h&&c&&Ke&&a[Ce].componentProviders++}}}function Oc(s,o,a,c){const h=io(o),p=function AD(s){return!!s.useClass}(o);if(h||p){const b=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(b){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[c,b]):T[M+1].push(c,b)}else T.push(a,b)}}}function Oh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Ju(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function $C(s,o,a,c){return q_(this.multi,[])}function z_(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=ls(a,a[1],this.providerFactory.index,c);p=E.slice(0,_),q_(h,p);for(let b=_;b<E.length;b++)p.push(E[b])}else p=[],q_(h,p);return p}function q_(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function mI(s,o=[]){return a=>{a.providersResolver=(c,h)=>function G_(s,o,a){const c=Pt();if(c.firstCreatePass){const h=ti(s);qt(a,c.data,c.blueprint,h,!0),qt(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class _r{}class kh{}function Jr(s,o){return new yI(s,o??null)}class yI extends _r{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new i_(this);const c=ke(o);this._bootstrapComponents=Yo(c.bootstrap),this._r3Injector=RE(o,a,[{provide:_r,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Z_ extends kh{constructor(o){super(),this.moduleType=o}create(o){return new yI(this.moduleType,o)}}class _I extends _r{constructor(o,a,c){super(),this.componentFactoryResolver=new i_(this),this.instance=null;const h=new G0([...o,{provide:_r,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],a||wp(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Fh(s,o,a=null){return new _I(s,o,a).injector}let vI=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=$0(0,a.type),h=c.length>0?Fh([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=en({token:s,providedIn:"environment",factory:()=>new s(tr(Ko))}),s})();function Xr(s){s.getStandaloneInjector=o=>o.get(vI).getOrCreateStandaloneInjector(s)}function Hh(s){return o=>{setTimeout(s,void 0,o)}}const Us=class TI extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),_=c;if(o&&"object"==typeof o){const b=o;h=b.next?.bind(b),p=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(p=Hh(p),h&&(h=Hh(h)),_&&(_=Hh(_)));const E=super.subscribe({next:h,error:p,complete:_});return o instanceof B.w0&&o.add(E),E}};function tA(){return this._results[Fa()]()}class Gh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Fa(),c=Gh.prototype;c[a]||(c[a]=tA)}get changes(){return this._changes||(this._changes=new Us)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Kr(o);(this._changesDetected=!function Km(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tl=(()=>{class s{}return s.__NG_ELEMENT_ID__=ei,s})();const uv=tl,Gr=class extends uv{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=oh(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),YE(c,h,o),new mc(h)}};function ei(){return nl(kn(),Te())}function nl(s,o){return 4&s.type?new Gr(o,s,rc(s,o)):null}let Fc=(()=>{class s{}return s.__NG_ELEMENT_ID__=nA,s})();function nA(){return dv(kn(),Te())}const rA=Fc,lv=class extends rA{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new _u(this._hostTNode,this._hostLView)}get parentInjector(){const o=pu(this._hostTNode,this._hostLView);if(jm(o)){const a=Ks(o,this._hostLView),c=Ro(o);return new _u(a[1].data[c+8],a)}return new _u(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=CI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,c,h,p){const _=o&&!function Wr(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const L=a||{};E=L.index,c=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const b=_?o:new yc(x(o)),T=c||this.parentInjector;if(!p&&null==b.ngModule){const W=(_?T:this.parentInjector).get(Ko,null);W&&(p=W)}const M=b.create(T,h,void 0,p);return this.insert(M.hostView,E),M}insert(o,a){const c=o._lView,h=c[1];if(function zf(s){return Rr(s[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=c[3],W=new lv(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function Sx(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],wu(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function eT(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,c,_,p);const E=Lu(p,_),b=c[11],T=oc(b,_[7]);return null!==T&&function pE(s,o,a,c,h,p){c[0]=h,c[6]=o,uc(s,c,a,1,h,p)}(h,_[6],b,c,T,E),o.attachToViewContainerRef(),wu(cv(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=CI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Mp(this._lContainer,a);c&&(Lo(cv(this._lContainer),a),mE(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Mp(this._lContainer,a);return c&&null!=Lo(cv(this._lContainer),a)?new mc(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function CI(s){return s[8]}function cv(s){return s[8]||(s[8]=[])}function dv(s,o){let a;const c=o[s.index];if(Rr(c))a=c;else{let h;if(8&s.type)h=$n(c);else{const p=o[11];h=p.createComment("");const _=Or(s,o);Sa(p,oc(p,_),h,function Np(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=zp(c,o,h,s),qp(o,a)}return new lv(a,s,o)}class Ag{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ag(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new fv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Yh(o,a).matches&&this.queries[a].setDirty()}}class zh{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class qh{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new qh(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Zh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,SI(a,p)),this.matchTNodeWithReadOption(o,a,yu(a,o,p,!1,!1))}else c===tl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,yu(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===ku||h===Fc||h===tl&&4&a.type)this.addMatch(a.index,-2);else{const p=yu(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function SI(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Wh(s,o,a,c){return-1===a?function sA(s,o){return 11&s.type?rc(s,o):4&s.type?nl(s,o):null}(o,s):-2===a?function MI(s,o,a){return a===ku?rc(o,s):a===tl?nl(o,s):a===Fc?dv(o,s):void 0}(s,o,c):ls(s,s[1],a,o)}function pv(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const T=_[b];E.push(T<0?null:Wh(o,p[T],_[b+1],a.metadata.read))}h.matches=E}return h.matches}function Sg(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=pv(s,o,h,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)c.push(_[E/2]);else{const T=p[E+1],M=o[-b];for(let L=10;L<M.length;L++){const W=M[L];W[17]===W[3]&&Sg(W[1],W,T,c)}if(null!==M[9]){const L=M[9];for(let W=0;W<L.length;W++){const ie=L[W];Sg(ie[1],ie,T,c)}}}}}return c}function Kh(s){const o=Te(),a=Pt(),c=ld();cd(c+1);const h=Yh(a,c);if(s.dirty&&function Ds(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Sg(a,o,c,[]):pv(a,o,h,c);s.reset(p,K0),s.notifyOnChanges()}return!0}return!1}function xI(s,o,a){const c=Pt();c.firstCreatePass&&(Ha(c,new zh(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),RI(c,Te(),o)}function NI(s,o,a,c){const h=Pt();if(h.firstCreatePass){const p=kn();Ha(h,new zh(o,a,c),p.index),function PI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}RI(h,Te(),a)}function rl(){return function oA(s,o){return s[19].queries[o].queryList}(Te(),ld())}function RI(s,o,a){const c=new Gh(4==(4&a));XE(s,o,c,c.destroy),null===o[19]&&(o[19]=new fv),o[19].queries.push(new Ag(c))}function Ha(s,o,a){null===s.queries&&(s.queries=new qh),s.queries.track(new Zh(o,a))}function Yh(s,o){return s.queries.getByIndex(o)}function kg(...s){}const Iv=new Ln("Application Initializer");let jc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=kg,this.reject=kg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(p_(p))a.push(p);else if(_w(p)){const _=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(tr(Iv,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Fg=new Ln("AppId",{providedIn:"root",factory:function bv(){return`${af()}${af()}${af()}`}});function af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZI=new Ln("Platform Initializer"),yA=new Ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WI=new Ln("appBootstrapListener"),uf=new Ln("AnimationModuleType");let Lg=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const lf=new Ln("LocaleId",{providedIn:"root",factory:()=>Tu(lf,et.Optional|et.SkipSelf)||function Tv(){return typeof $localize<"u"&&$localize.locale||Qu}()}),cf=new Ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let _A=(()=>{class s{compileModuleSync(a){return new Z_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Yo(ke(a).declarations).reduce((_,E)=>{const b=x(E);return b&&_.push(new yc(b)),_},[]);return new KI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const oa=(()=>Promise.resolve(0))();function Ug(s){typeof Zone>"u"?oa.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Mi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function QI(){let s=yt.requestAnimationFrame,o=yt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jg(s){const o=()=>{!function Mv(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$g(s),s.isCheckStableRunning=!0,Bg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$g(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,_,E)=>{try{return hf(s),a.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),JI(s)}},onInvoke:(a,c,h,p,_,E,b)=>{try{return hf(s),a.invoke(h,p,_,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),JI(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,$g(s),Bg(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mi.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Mi.isInAngularZone())throw new Se(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,df,kg,kg);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const df={};function Bg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $g(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function JI(s){s._nesting--,Bg(s)}class XI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const $c=new Ln(""),xv=new Ln("");let Gg,eb=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gg||(function Nv(s){Gg=s}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mi.assertNotInAngularZone(),Ug(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ug(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(tr(Mi),tr(Hg),tr(xv))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),Hg=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Gg?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Bs=null;const Rv=new Ln("AllowMultipleToken"),zg=new Ln("PlatformDestroyListeners");class rb{constructor(o,a){this.name=o,this.token=a}}function ll(s,o,a=[]){const c=`Platform: ${o}`,h=new Ln(c);return(p=[])=>{let _=Ov();if(!_||_.injector.get(Rv,!1)){const E=[...a,...p,{provide:h,useValue:!0}];s?s(E):function qg(s){if(Bs&&!Bs.get(Rv,!1))throw new Se(400,!1);Bs=s;const o=s.get(ob);(function Pv(s){const o=s.get(ZI,null);o&&o.forEach(a=>a())})(s)}(function ib(s=[],o){return Uu.create({name:o,providers:[{provide:Bd,useValue:"platform"},{provide:zg,useValue:new Set([()=>Bs=null])},...s]})}(E,c))}return function IA(s){const o=Ov();if(!o)throw new Se(401,!1);return o}()}}function Ov(){return Bs?.get(ob)??null}let ob=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function ab(s,o){let a;return a="noop"===s?new XI:("zone.js"===s?void 0:s)||new Mi(o),a}(c?.ngZone,function kv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Mi,useValue:h}];return h.run(()=>{const _=Uu.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(_),b=E.injector.get(ic,null);if(!b)throw new Se(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{b.handleError(M)}});E.onDestroy(()=>{vr(this._modules,E),T.unsubscribe()})}),function ff(s,o,a){try{const c=a();return p_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const T=E.injector.get(jc);return T.runInitializers(),T.donePromise.then(()=>(function Jw(s){Ot(s,"Expected localeId to be defined"),"string"==typeof s&&(Qw=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(lf,Qu)||Qu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const h=ub({},c);return function tb(s,o,a){const c=new Z_(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(pf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Se(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(zg,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(tr(Uu))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ub(s,o){return Array.isArray(o)?o.reduce(ub,s):{...s,...o}}let pf=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new P.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Mi.assertNotInAngularZone(),Ug(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ne.T)(p,_.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof gy;if(!this._injector.get(jc).done)throw!h&&ye(a),new Se(405,false);let _;_=h?a:this._injector.get(nc).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function nb(s){return s.isBoundToModule}(_)?void 0:this._injector.get(_r),T=_.create(Uu.NULL,[],c||_.selector,E),M=T.location.nativeElement,L=T.injector.get($c,null);return L?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),vr(this.components,T),L?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;vr(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(WI,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>vr(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(tr(Mi),tr(Ko),tr(ic))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function vr(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Zg=!0,lb=!1;function Ge(){return lb=!0,Zg}function Er(){if(lb)throw new Error("Cannot enable prod mode after platform setup.");Zg=!1}let Ut=(()=>{class s{}return s.__NG_ELEMENT_ID__=bA,s})();function bA(s){return function it(s,o,a){if(Hs(s)&&!a){const c=mn(s.index,o);return new mc(c,c)}return 47&s.type?new mc(o[16],o):null}(kn(),Te(),16==(16&s))}class rr{constructor(){}supports(o){return ph(o)}create(o){return new Jg(o)}}const nt=(s,o)=>o;class Jg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nt}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<gf(c,h,p)?a:c,E=gf(_,h,p),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const T=E-h,M=b-h;if(T!=M){for(let W=0;W<T;W++){const ie=W<p.length?p[W]:p[W]=0,Ce=ie+W;M<=Ce&&Ce<T&&(p[W]=ie+1)}p[_.previousIndex]=M-T}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!ph(o))throw new Se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),c=!0),a=a._next}else h=0,function eg(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Fa()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Vv(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new db),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new db),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Vv{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hl{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class db{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new hl,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gf(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class hb{constructor(){}supports(o){return o instanceof Map||u_(o)}create(){return new mf}}class mf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||u_(o)))throw new Se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new fb(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class fb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uv(){return new Ii([new rr])}let Ii=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Uv()),deps:[[s,new eo,new Xs]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Se(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Uv}),s})();function Bv(){return new Xg([new hb])}let Xg=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Bv()),deps:[[s,new eo,new Xs]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Se(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Bv}),s})();const js=ll(null,"core",[]);let MA=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(tr(pf))},s.\u0275mod=$({type:s}),s.\u0275inj=Ct({}),s})();function yf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},579:(dt,xe,R)=>{"use strict";R.d(xe,{EI:()=>Ne,Gb:()=>ur,Iv:()=>Tn,Kz:()=>gt,Xd:()=>or,lT:()=>jn,xP:()=>Xe});var l=R(5861),B=R(9681),P=R(1877),ne=R(2090),ge=R(4859);R(2833);const ue="analytics",pe="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Pe=new P.Yd("@firebase/analytics");function Ae(U){return Promise.all(U.map(S=>S.catch(x=>x)))}function Se(U,S){const x=document.createElement("script");x.src=`${Q}?l=${U}&id=${S}`,x.async=!0,document.head.appendChild(x)}function we(U,S,x,N,Z,ye){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(U,S,x,N,Z,ye){const ke=N[Z];try{if(ke)yield S[ke];else{const ae=(yield Ae(x)).find(je=>je.measurementId===Z);ae&&(yield S[ae.appId])}}catch(ze){Pe.error(ze)}U("config",Z,ye)})).apply(this,arguments)}function st(U,S,x,N,Z){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(U,S,x,N,Z){try{let ye=[];if(Z&&Z.send_to){let ke=Z.send_to;Array.isArray(ke)||(ke=[ke]);const ze=yield Ae(x);for(const ae of ke){const je=ze.find(tn=>tn.measurementId===ae),_t=je&&S[je.appId];if(!_t){ye=[];break}ye.push(_t)}}0===ye.length&&(ye=Object.values(S)),yield Promise.all(ye),U("event",N,Z||{})}catch(ye){Pe.error(ye)}})).apply(this,arguments)}function De(){const U=window.document.getElementsByTagName("script");for(const S of Object.values(U))if(S.src&&S.src.includes(Q))return S;return null}const te=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),X=new class J{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function he(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function se(U){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(U){var S;const{appId:x,apiKey:N}=U,Z={method:"GET",headers:he(N)},ye=G.replace("{app-id}",x),ke=yield fetch(ye,Z);if(200!==ke.status&&304!==ke.status){let ze="";try{const ae=yield ke.json();null!==(S=ae.error)&&void 0!==S&&S.message&&(ze=ae.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ze})}return ke.json()})).apply(this,arguments)}function Ve(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(U,S=X,x){const{appId:N,apiKey:Z,measurementId:ye}=U.options;if(!N)throw te.create("no-app-id");if(!Z){if(ye)return{measurementId:ye,appId:N};throw te.create("no-api-key")}const ke=S.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Bn;return setTimeout((0,l.Z)(function*(){ze.abort()}),void 0!==x?x:6e4),Xt({appId:N,apiKey:Z,measurementId:ye},ke,ze,S)})).apply(this,arguments)}function Xt(U,S,x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(U,{throttleEndTimeMillis:S,backoffCount:x},N,Z=X){var ye,ke;const{appId:ze,measurementId:ae}=U;try{yield Ze(N,S)}catch(je){if(ae)return Pe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${null===(ye=je)||void 0===ye?void 0:ye.message}]`),{appId:ze,measurementId:ae};throw je}try{const je=yield se(U);return Z.deleteThrottleMetadata(ze),je}catch(je){const _t=je;if(!rn(_t)){if(Z.deleteThrottleMetadata(ze),ae)return Pe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:ze,measurementId:ae};throw je}const tn=503===Number(null===(ke=_t?.customData)||void 0===ke?void 0:ke.httpStatus)?(0,ne.$s)(x,Z.intervalMillis,30):(0,ne.$s)(x,Z.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+tn,backoffCount:x+1};return Z.setThrottleMetadata(ze,Mt),Pe.debug(`Calling attemptFetch again in ${tn} millis`),Xt(U,Mt,N,Z)}})).apply(this,arguments)}function Ze(U,S){return new Promise((x,N)=>{const Z=Math.max(S-Date.now(),0),ye=setTimeout(x,Z);U.addEventListener(()=>{clearTimeout(ye),N(te.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function rn(U){if(!(U instanceof ne.ZR&&U.customData))return!1;const S=Number(U.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Bn{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let cn,Vn;function jt(){return(jt=(0,l.Z)(function*(U,S,x,N,Z){if(Z&&Z.global)U("event",x,N);else{const ye=yield S;U("event",x,Object.assign(Object.assign({},N),{send_to:ye}))}})).apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(U,S,x,N){if(N&&N.global)return U("set",{screen_name:x}),Promise.resolve();U("config",yield S,{update:!0,screen_name:x})})).apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(U,S,x,N){if(N&&N.global)return U("set",{user_id:x}),Promise.resolve();U("config",yield S,{update:!0,user_id:x})})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(U,S,x,N){if(N&&N.global){const Z={};for(const ye of Object.keys(x))Z[`user_properties.${ye}`]=x[ye];return U("set",Z),Promise.resolve()}U("config",yield S,{update:!0,user_properties:x})})).apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(U,S){const x=yield U;window[`ga-disable-${x}`]=!S})).apply(this,arguments)}function pr(U){Vn=U}function Dr(U){cn=U}function et(){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(){var U;if(!(0,ne.hl)())return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(S){return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:null===(U=S)||void 0===U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(U,S,x,N,Z,ye,ke){var ze;const ae=Ve(U);ae.then(zt=>{x[zt.measurementId]=zt.appId,U.options.measurementId&&zt.measurementId!==U.options.measurementId&&Pe.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${zt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zt=>Pe.error(zt)),S.push(ae);const je=et().then(zt=>{if(zt)return N.getId()}),[_t,tn]=yield Promise.all([ae,je]);De()||Se(ye,_t.measurementId),Vn&&(Z("consent","default",Vn),pr(void 0)),Z("js",new Date);const Mt=null!==(ze=ke?.config)&&void 0!==ze?ze:{};return Mt.origin="firebase",Mt.update=!0,null!=tn&&(Mt[pe]=tn),Z("config",_t.measurementId,Mt),cn&&(Z("set",cn),Dr(void 0)),_t.measurementId})).apply(this,arguments)}class Kn{constructor(S){this.app=S}_delete(){return delete Tr[this.app.options.appId],Promise.resolve()}}let Tr={},pn=[];const In={};let ut,yt,on="dataLayer",ct="gtag",fn=!1;function or(U){if(fn)throw te.create("already-initialized");U.dataLayerName&&(on=U.dataLayerName),U.gtagName&&(ct=U.gtagName)}function At(U,S,x){!function Yn(){const U=[];if((0,ne.ru)()&&U.push("This is a browser extension environment."),(0,ne.zI)()||U.push("Cookies are not available."),U.length>0){const S=U.map((N,Z)=>`(${Z+1}) ${N}`).join(" "),x=te.create("invalid-analytics-context",{errorInfo:S});Pe.warn(x.message)}}();const N=U.options.appId;if(!N)throw te.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw te.create("no-api-key");Pe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tr[N])throw te.create("already-exists",{id:N});if(!fn){!function Je(U){let S=[];Array.isArray(window[U])?S=window[U]:window[U]=S}(on);const{wrappedGtag:ye,gtagCore:ke}=function Oe(U,S,x,N,Z){let ye=function(...ke){window[N].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ye=window[Z]),window[Z]=function Fe(U,S,x,N){function ye(){return(ye=(0,l.Z)(function*(ke,ze,ae){try{"event"===ke?yield st(U,S,x,ze,ae):"config"===ke?yield we(U,S,x,N,ze,ae):"consent"===ke?U("consent","update",ae):U("set",ze)}catch(je){Pe.error(je)}})).apply(this,arguments)}return function Z(ke,ze,ae){return ye.apply(this,arguments)}}(ye,U,S,x),{gtagCore:ye,wrappedGtag:window[Z]}}(Tr,pn,In,on,ct);yt=ye,ut=ke,fn=!0}return Tr[N]=function On(U,S,x,N,Z,ye,ke){return dn.apply(this,arguments)}(U,pn,In,S,ut,on,x),new Kn(U)}function ur(){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}function jn(U,S,x){U=(0,ne.m9)(U),function Ct(U,S,x,N){return hn.apply(this,arguments)}(yt,Tr[U.app.options.appId],S,x).catch(N=>Pe.error(N))}function Tn(U,S,x){U=(0,ne.m9)(U),function pi(U,S,x,N){return Ur.apply(this,arguments)}(yt,Tr[U.app.options.appId],S,x).catch(N=>Pe.error(N))}function Xe(U,S,x){U=(0,ne.m9)(U),function Pn(U,S,x,N){return Wn.apply(this,arguments)}(yt,Tr[U.app.options.appId],S,x).catch(N=>Pe.error(N))}function Ne(U,S){U=(0,ne.m9)(U),function br(U,S){return Gn.apply(this,arguments)}(Tr[U.app.options.appId],S).catch(x=>Pe.error(x))}function gt(U,S,x,N){U=(0,ne.m9)(U),function en(U,S,x,N,Z){return jt.apply(this,arguments)}(yt,Tr[U.app.options.appId],S,x,N).catch(Z=>Pe.error(Z))}const $="@firebase/analytics",j="0.8.1";!function Y(){(0,B._registerComponent)(new ge.wA(ue,(S,{options:x})=>At(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,B._registerComponent)(new ge.wA("analytics-internal",function U(S){try{const x=S.getProvider(ue).getImmediate();return{logEvent:(N,Z,ye)=>gt(x,N,Z,ye)}}catch(x){throw te.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,B.registerVersion)($,j),(0,B.registerVersion)($,j,"esm2017")}()},3942:(dt,xe,R)=>{"use strict";R.d(xe,{Z:()=>Se});var l=R(2090),B=R(4859),P=R(9681),ne=R(1877);class ge{constructor(we,ce){this._delegate=we,this.firebase=ce,(0,P._addComponent)(we,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(we,ce=P._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(we);return!Ye.isInitialized()&&"EXPLICIT"===(null===(st=Ye.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:ce})}_removeServiceInstance(we,ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ce)}_addComponent(we){(0,P._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,P._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function _e(){const Je=function pe(Je){const we={},ce={__esModule:!0,initializeApp:function Fe(te,le={}){const Ie=P.initializeApp(te,le);if((0,l.r3)(we,Ie.name))return we[Ie.name];const J=new Je(Ie,ce);return we[Ie.name]=J,J},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(te){const le=te.name,Ie=le.replace("-compat","");if(P._registerComponent(te)&&"PUBLIC"===te.type){const J=(X=Ye())=>{if("function"!=typeof X[Ie])throw ue.create("invalid-app-argument",{appName:le});return X[Ie]()};void 0!==te.serviceProps&&(0,l.ZB)(J,te.serviceProps),ce[Ie]=J,Je.prototype[Ie]=function(...X){return this._getService.bind(this,le).apply(this,te.multipleInstances?X:[])}}return"PUBLIC"===te.type?ce[Ie]:null},removeApp:function st(te){delete we[te]},useAsService:function We(te,le){return"serverAuth"===le?null:le},modularAPIs:P}};function Ye(te){if(!(0,l.r3)(we,te=te||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:te});return we[te]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Oe(){return Object.keys(we).map(te=>we[te])}}),Ye.App=Je,ce}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function we(ce){(0,l.ZB)(Je,ce)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Je}(),G=new ne.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=z;!function Ae(Je){(0,P.registerVersion)("@firebase/app-compat","0.1.35",Je)}()},9681:(dt,xe,R)=>{"use strict";R.r(xe),R.d(xe,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>cn,_addOrOverwriteComponent:()=>en,_apps:()=>rn,_clearComponents:()=>pi,_components:()=>Bn,_getProvider:()=>Ct,_registerComponent:()=>jt,_removeServiceInstance:()=>hn,deleteApp:()=>Dr,getApp:()=>Vn,getApps:()=>pr,initializeApp:()=>Gn,onLog:()=>On,registerVersion:()=>vn,setLogLevel:()=>dn});var l=R(5861),B=R(4859),P=R(1877),ne=R(2090),ge=R(8766);class Ee{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ue(Xe){return"VERSION"===Xe.getComponent()?.type}(rt)){const gt=rt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",z=new P.Yd("@firebase/app"),Ot="[DEFAULT]",Ze={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Bn=new Map;function cn(Xe,Ne){try{Xe.container.addComponent(Ne)}catch(rt){z.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Xe.name}`,rt)}}function en(Xe,Ne){Xe.container.addOrOverwriteComponent(Ne)}function jt(Xe){const Ne=Xe.name;if(Bn.has(Ne))return z.debug(`There were multiple attempts to register component ${Ne}.`),!1;Bn.set(Ne,Xe);for(const rt of rn.values())cn(rt,Xe);return!0}function Ct(Xe,Ne){const rt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Xe.container.getProvider(Ne)}function hn(Xe,Ne,rt=Ot){Ct(Xe,Ne).clearInstance(rt)}function pi(){Bn.clear()}const Pn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(Ne,rt,gt){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const br="9.11.0";function Gn(Xe,Ne={}){let rt=Xe;"object"!=typeof Ne&&(Ne={name:Ne});const gt=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},Ne),bt=gt.name;if("string"!=typeof bt||!bt)throw Pn.create("bad-app-name",{appName:String(bt)});if(rt||(rt=(0,ne.aH)()),!rt)throw Pn.create("no-options");const $=rn.get(bt);if($){if((0,ne.vZ)(rt,$.options)&&(0,ne.vZ)(gt,$.config))return $;throw Pn.create("duplicate-app",{appName:bt})}const j=new B.H0(bt);for(const U of Bn.values())j.addComponent(U);const Y=new Wn(rt,gt,j);return rn.set(bt,Y),Y}function Vn(Xe=Ot){const Ne=rn.get(Xe);if(!Ne&&Xe===Ot)return Gn();if(!Ne)throw Pn.create("no-app",{appName:Xe});return Ne}function pr(){return Array.from(rn.values())}function Dr(Xe){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(Xe){const Ne=Xe.name;rn.has(Ne)&&(rn.delete(Ne),yield Promise.all(Xe.container.getProviders().map(rt=>rt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function vn(Xe,Ne,rt){var gt;let bt=null!==(gt=Ze[Xe])&&void 0!==gt?gt:Xe;rt&&(bt+=`-${rt}`);const $=bt.match(/\s|\//),j=Ne.match(/\s|\//);if($||j){const Y=[`Unable to register library "${bt}" with version "${Ne}":`];return $&&Y.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),$&&j&&Y.push("and"),j&&Y.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void z.warn(Y.join(" "))}jt(new B.wA(`${bt}-version`,()=>({library:bt,version:Ne}),"VERSION"))}function On(Xe,Ne){if(null!==Xe&&"function"!=typeof Xe)throw Pn.create("invalid-log-argument");(0,P.Am)(Xe,Ne)}function dn(Xe){(0,P.Ub)(Xe)}const pn="firebase-heartbeat-store";let In=null;function on(){return In||(In=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,Ne)=>{0===Ne&&Xe.createObjectStore(pn)}}).catch(Xe=>{throw Pn.create("idb-open",{originalErrorMessage:Xe.message})})),In}function ut(){return(ut=(0,l.Z)(function*(Xe){var Ne;try{return(yield on()).transaction(pn).objectStore(pn).get(or(Xe))}catch(rt){if(rt instanceof ne.ZR)z.warn(rt.message);else{const gt=Pn.create("idb-get",{originalErrorMessage:null===(Ne=rt)||void 0===Ne?void 0:Ne.message});z.warn(gt.message)}}})).apply(this,arguments)}function yt(Xe,Ne){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(Xe,Ne){var rt;try{const bt=(yield on()).transaction(pn,"readwrite");return yield bt.objectStore(pn).put(Ne,or(Xe)),bt.done}catch(gt){if(gt instanceof ne.ZR)z.warn(gt.message);else{const bt=Pn.create("idb-set",{originalErrorMessage:null===(rt=gt)||void 0===rt?void 0:rt.message});z.warn(bt.message)}}})).apply(this,arguments)}function or(Xe){return`${Xe.name}!${Xe.options.appId}`}class ar{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Gt(rt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Ne=this;return(0,l.Z)(function*(){const gt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Rt();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==bt&&!Ne._heartbeatsCache.heartbeats.some($=>$.date===bt))return Ne._heartbeatsCache.heartbeats.push({date:bt,agent:gt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter($=>{const j=new Date($.date).valueOf();return Date.now()-j<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,l.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const rt=Rt(),{heartbeatsToSend:gt,unsentEntries:bt}=function ur(Xe,Ne=1024){const rt=[];let gt=Xe.slice();for(const bt of Xe){const $=rt.find(j=>j.agent===bt.agent);if($){if($.dates.push(bt.date),jn(rt)>Ne){$.dates.pop();break}}else if(rt.push({agent:bt.agent,dates:[bt.date]}),jn(rt)>Ne){rt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:gt}}(Ne._heartbeatsCache.heartbeats),$=(0,ne.L)(JSON.stringify({version:2,heartbeats:gt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=rt,bt.length>0?(Ne._heartbeatsCache.heartbeats=bt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),$})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,l.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function ct(Xe){return ut.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var rt=this;return(0,l.Z)(function*(){var gt;if(yield rt._canUseIndexedDBPromise){const $=yield rt.read();return yt(rt.app,{lastSentHeartbeatDate:null!==(gt=Ne.lastSentHeartbeatDate)&&void 0!==gt?gt:$.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var rt=this;return(0,l.Z)(function*(){var gt;if(yield rt._canUseIndexedDBPromise){const $=yield rt.read();return yt(rt.app,{lastSentHeartbeatDate:null!==(gt=Ne.lastSentHeartbeatDate)&&void 0!==gt?gt:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...Ne.heartbeats]})}})()}}function jn(Xe){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Tn(Xe){jt(new B.wA("platform-logger",Ne=>new Ee(Ne),"PRIVATE")),jt(new B.wA("heartbeat",Ne=>new ar(Ne),"PRIVATE")),vn(pe,"0.8.0",Xe),vn(pe,"0.8.0","esm2017"),vn("fire-js","")}("")},4859:(dt,xe,R)=>{"use strict";R.d(xe,{H0:()=>pe,wA:()=>P});var l=R(5861),B=R(2090);class P{constructor(z,G,Q){this.name=z,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ne="[DEFAULT]";class ge{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const Q=new B.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:G});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const Q=this.normalizeInstanceIdentifier(z?.identifier),Pe=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ae){if(Pe)return null;throw Ae}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ue(_e){return"EAGER"===_e.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(G);try{const Ae=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(Ae)}catch{}}}}clearInstance(z=ne){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ne){return this.instances.has(z)}getOptions(z=ne){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Ae,Se]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ae)&&Se.resolve(Pe);return Pe}onInit(z,G){var Q;const Pe=this.normalizeInstanceIdentifier(G),Ae=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;Ae.add(z),this.onInitCallbacks.set(Pe,Ae);const Se=this.instances.get(Pe);return Se&&z(Se,Pe),()=>{Ae.delete(z)}}invokeOnInitCallbacks(z,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Pe of Q)try{Pe(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=z,_e===ne?void 0:_e),options:G}),this.instances.set(z,Q),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var _e;return Q||null}normalizeInstanceIdentifier(z=ne){return this.component?this.component.multipleInstances?z:ne:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ge(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(dt,xe,R)=>{"use strict";var l=R(5861),B=R(9681),P=R(4859),ne=R(2090),ge=R(8766);const Ee="@firebase/installations",ue="0.5.13",_e=`w:${ue}`,z="FIS_v2",Je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(ee){return ee instanceof ne.ZR&&ee.code.includes("request-failed")}function ce({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function st(ee){return{token:ee.token,requestStatus:2,expiresIn:le(ee.expiresIn),creationTime:Date.now()}}function Ye(ee,be){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(ee,be){const ht=(yield be.json()).error;return Je.create("request-failed",{requestName:ee,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Oe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function De(ee,{refreshToken:be}){const He=Oe(ee);return He.append("Authorization",function Ie(ee){return`${z} ${ee}`}(be)),He}function We(ee){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(ee){const be=yield ee();return be.status>=500&&be.status<600?ee():be})).apply(this,arguments)}function le(ee){return Number(ee.replace("s","000"))}function J(ee,be){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:be},{fid:He}){const ht=ce(ee),Kt=Oe(ee),un=be.getImmediate({optional:!0});if(un){const Nr=yield un.getHeartbeatsHeader();Nr&&Kt.append("x-firebase-client",Nr)}const An={method:"POST",headers:Kt,body:JSON.stringify({fid:He,authVersion:z,appId:ee.appId,sdkVersion:_e})},xr=yield We(()=>fetch(ht,An));if(xr.ok){const Nr=yield xr.json();return{fid:Nr.fid||He,registrationStatus:2,refreshToken:Nr.refreshToken,authToken:st(Nr.authToken)}}throw yield Ye("Create Installation",xr)})).apply(this,arguments)}function he(ee){return new Promise(be=>{setTimeout(be,ee)})}const $e=/^[cdef][\w-]{21}$/;function pt(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const He=function Xt(ee){return function se(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return $e.test(He)?He:""}catch{return""}}function Ot(ee){return`${ee.appName}!${ee.appId}`}const Ze=new Map;function rn(ee,be){const He=Ot(ee);en(He,be),function jt(ee,be){const He=function hn(){return!Ct&&"BroadcastChannel"in self&&(Ct=new BroadcastChannel("[Firebase] FID Change"),Ct.onmessage=ee=>{en(ee.data.key,ee.data.fid)}),Ct}();He&&He.postMessage({key:ee,fid:be}),function pi(){0===Ze.size&&Ct&&(Ct.close(),Ct=null)}()}(He,be)}function en(ee,be){const He=Ze.get(ee);if(He)for(const ht of He)ht(be)}let Ct=null;const Wn="firebase-installations-store";let br=null;function Gn(){return br||(br=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,be)=>{0===be&&ee.createObjectStore(Wn)}})),br}function Vn(ee,be){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(ee,be){const He=Ot(ee),Kt=(yield Gn()).transaction(Wn,"readwrite"),un=Kt.objectStore(Wn),Nn=yield un.get(He);return yield un.put(be,He),yield Kt.done,(!Nn||Nn.fid!==be.fid)&&rn(ee,be.fid),be})).apply(this,arguments)}function Dr(ee){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(ee){const be=Ot(ee),ht=(yield Gn()).transaction(Wn,"readwrite");yield ht.objectStore(Wn).delete(be),yield ht.done})).apply(this,arguments)}function vn(ee,be){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(ee,be){const He=Ot(ee),Kt=(yield Gn()).transaction(Wn,"readwrite"),un=Kt.objectStore(Wn),Nn=yield un.get(He),An=be(Nn);return void 0===An?yield un.delete(He):yield un.put(An,He),yield Kt.done,An&&(!Nn||Nn.fid!==An.fid)&&rn(ee,An.fid),An})).apply(this,arguments)}function dn(ee){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(ee){let be;const He=yield vn(ee.appConfig,ht=>{const Kt=Tr(ht),un=pn(ee,Kt);return be=un.registrationPromise,un.installationEntry});return""===He.fid?{installationEntry:yield be}:{installationEntry:He,registrationPromise:be}})).apply(this,arguments)}function Tr(ee){return fn(ee||{fid:pt(),registrationStatus:0})}function pn(ee,be){if(0===be.registrationStatus){if(!navigator.onLine)return{installationEntry:be,registrationPromise:Promise.reject(Je.create("app-offline"))};const He={fid:be.fid,registrationStatus:1,registrationTime:Date.now()},ht=function In(ee,be){return on.apply(this,arguments)}(ee,He);return{installationEntry:He,registrationPromise:ht}}return 1===be.registrationStatus?{installationEntry:be,registrationPromise:ct(ee)}:{installationEntry:be}}function on(){return(on=(0,l.Z)(function*(ee,be){try{const He=yield J(ee,be);return Vn(ee.appConfig,He)}catch(He){throw we(He)&&409===He.customData.serverCode?yield Dr(ee.appConfig):yield Vn(ee.appConfig,{fid:be.fid,registrationStatus:0}),He}})).apply(this,arguments)}function ct(ee){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(ee){let be=yield yt(ee.appConfig);for(;1===be.registrationStatus;)yield he(100),be=yield yt(ee.appConfig);if(0===be.registrationStatus){const{installationEntry:He,registrationPromise:ht}=yield dn(ee);return ht||He}return be})).apply(this,arguments)}function yt(ee){return vn(ee,be=>{if(!be)throw Je.create("installation-not-found");return fn(be)})}function fn(ee){return function or(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function Yn(ee,be){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*({appConfig:ee,heartbeatServiceProvider:be},He){const ht=ar(ee,He),Kt=De(ee,He),un=be.getImmediate({optional:!0});if(un){const Nr=yield un.getHeartbeatsHeader();Nr&&Kt.append("x-firebase-client",Nr)}const An={method:"POST",headers:Kt,body:JSON.stringify({installation:{sdkVersion:_e,appId:ee.appId}})},xr=yield We(()=>fetch(ht,An));if(xr.ok)return st(yield xr.json());throw yield Ye("Generate Auth Token",xr)})).apply(this,arguments)}function ar(ee,{fid:be}){return`${ce(ee)}/${be}/authTokens:generate`}function Rt(ee){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(ee,be=!1){let He;const ht=yield vn(ee.appConfig,un=>{if(!rt(un))throw Je.create("not-registered");const Nn=un.authToken;if(!be&&gt(Nn))return un;if(1===Nn.requestStatus)return He=Gt(ee,be),un;{if(!navigator.onLine)throw Je.create("app-offline");const An=$(un);return He=Xe(ee,An),An}});return He?yield He:ht.authToken})).apply(this,arguments)}function Gt(ee,be){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(ee,be){let He=yield Tn(ee.appConfig);for(;1===He.authToken.requestStatus;)yield he(100),He=yield Tn(ee.appConfig);const ht=He.authToken;return 0===ht.requestStatus?Rt(ee,be):ht})).apply(this,arguments)}function Tn(ee){return vn(ee,be=>{if(!rt(be))throw Je.create("not-registered");return function j(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(be.authToken)?Object.assign(Object.assign({},be),{authToken:{requestStatus:0}}):be})}function Xe(ee,be){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(ee,be){try{const He=yield Yn(ee,be),ht=Object.assign(Object.assign({},be),{authToken:He});return yield Vn(ee.appConfig,ht),He}catch(He){if(!we(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const ht=Object.assign(Object.assign({},be),{authToken:{requestStatus:0}});yield Vn(ee.appConfig,ht)}else yield Dr(ee.appConfig);throw He}})).apply(this,arguments)}function rt(ee){return void 0!==ee&&2===ee.registrationStatus}function gt(ee){return 2===ee.requestStatus&&!function bt(ee){const be=Date.now();return be<ee.creationTime||ee.creationTime+ee.expiresIn<be+36e5}(ee)}function $(ee){const be={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:be})}function U(){return(U=(0,l.Z)(function*(ee){const be=ee,{installationEntry:He,registrationPromise:ht}=yield dn(be);return ht?ht.catch(console.error):Rt(be).catch(console.error),He.fid})).apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(ee,be=!1){const He=ee;return yield N(He),(yield Rt(He,be)).token})).apply(this,arguments)}function N(ee){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(ee){const{registrationPromise:be}=yield dn(ee);be&&(yield be)})).apply(this,arguments)}function zt(ee){return Je.create("missing-app-config-values",{valueName:ee})}const Zr="installations",Ri=ee=>{const be=ee.getProvider("app").getImmediate(),He=function Mt(ee){if(!ee||!ee.options)throw zt("App Configuration");if(!ee.name)throw zt("App Name");const be=["projectId","apiKey","appId"];for(const He of be)if(!ee.options[He])throw zt(He);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(be);return{app:be,appConfig:He,heartbeatServiceProvider:(0,B._getProvider)(be,"heartbeat"),_delete:()=>Promise.resolve()}},ts=ee=>{const be=ee.getProvider("app").getImmediate(),He=(0,B._getProvider)(be,Zr).getImmediate();return{getId:()=>function Y(ee){return U.apply(this,arguments)}(He),getToken:Kt=>function S(ee){return x.apply(this,arguments)}(He,Kt)}};(function vt(){(0,B._registerComponent)(new P.wA(Zr,Ri,"PUBLIC")),(0,B._registerComponent)(new P.wA("installations-internal",ts,"PRIVATE"))})(),(0,B.registerVersion)(Ee,ue),(0,B.registerVersion)(Ee,ue,"esm2017")},1877:(dt,xe,R)=>{"use strict";R.d(xe,{Am:()=>_e,Ub:()=>pe,Yd:()=>ue,in:()=>B});const l=[];var B=(()=>{return(z=B||(B={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",B;var z})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,ge={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},Ee=(z,G,...Q)=>{if(G<z.logLevel)return;const Pe=(new Date).toISOString(),Ae=ge[G];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ae](`[${Pe}]  ${z.name}:`,...Q)};class ue{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=Ee,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function pe(z){l.forEach(G=>{G.setLogLevel(z)})}function _e(z,G){for(const Q of l){let Pe=null;G&&G.level&&(Pe=P[G.level]),Q.userLogHandler=null===z?null:(Ae,Se,...Je)=>{const we=Je.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");Se>=(Pe??Ae.logLevel)&&z({level:B[Se].toLowerCase(),message:we,args:Je,type:Ae.name})}}}},8766:(dt,xe,R)=>{"use strict";R.d(xe,{Lj:()=>Fe,X3:()=>Ye});var l=R(5861);let P,ne;const ue=new WeakMap,pe=new WeakMap,_e=new WeakMap,z=new WeakMap,G=new WeakMap;let Ae={get(le,Ie,J){if(le instanceof IDBTransaction){if("done"===Ie)return pe.get(le);if("objectStoreNames"===Ie)return le.objectStoreNames||_e.get(le);if("store"===Ie)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ce(le[Ie])},set:(le,Ie,J)=>(le[Ie]=J,!0),has:(le,Ie)=>le instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in le};function we(le){return"function"==typeof le?function Je(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...Ie){return le.apply(st(this),Ie),ce(ue.get(this))}:function(...Ie){return ce(le.apply(st(this),Ie))}:function(Ie,...J){const X=le.call(st(this),Ie,...J);return _e.set(X,Ie.sort?Ie.sort():[Ie]),ce(X)}}(le):(le instanceof IDBTransaction&&function Pe(le){if(pe.has(le))return;const Ie=new Promise((J,X)=>{const he=()=>{le.removeEventListener("complete",se),le.removeEventListener("error",$e),le.removeEventListener("abort",$e)},se=()=>{J(),he()},$e=()=>{X(le.error||new DOMException("AbortError","AbortError")),he()};le.addEventListener("complete",se),le.addEventListener("error",$e),le.addEventListener("abort",$e)});pe.set(le,Ie)}(le),((le,Ie)=>Ie.some(J=>le instanceof J))(le,function ge(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Ae):le)}function ce(le){if(le instanceof IDBRequest)return function Q(le){const Ie=new Promise((J,X)=>{const he=()=>{le.removeEventListener("success",se),le.removeEventListener("error",$e)},se=()=>{J(ce(le.result)),he()},$e=()=>{X(le.error),he()};le.addEventListener("success",se),le.addEventListener("error",$e)});return Ie.then(J=>{J instanceof IDBCursor&&ue.set(J,le)}).catch(()=>{}),G.set(Ie,le),Ie}(le);if(z.has(le))return z.get(le);const Ie=we(le);return Ie!==le&&(z.set(le,Ie),G.set(Ie,le)),Ie}const st=le=>G.get(le);function Ye(le,Ie,{blocked:J,upgrade:X,blocking:he,terminated:se}={}){const $e=indexedDB.open(le,Ie),Ve=ce($e);return X&&$e.addEventListener("upgradeneeded",pt=>{X(ce($e.result),pt.oldVersion,pt.newVersion,ce($e.transaction))}),J&&$e.addEventListener("blocked",()=>J()),Ve.then(pt=>{se&&pt.addEventListener("close",()=>se()),he&&pt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ve}function Fe(le,{blocked:Ie}={}){const J=indexedDB.deleteDatabase(le);return Ie&&J.addEventListener("blocked",()=>Ie()),ce(J).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],We=new Map;function te(le,Ie){if(!(le instanceof IDBDatabase)||Ie in le||"string"!=typeof Ie)return;if(We.get(Ie))return We.get(Ie);const J=Ie.replace(/FromIndex$/,""),X=Ie!==J,he=De.includes(J);if(!(J in(X?IDBIndex:IDBObjectStore).prototype)||!he&&!Oe.includes(J))return;const se=function(){var $e=(0,l.Z)(function*(Ve,...pt){const Xt=this.transaction(Ve,he?"readwrite":"readonly");let Ot=Xt.store;return X&&(Ot=Ot.index(pt.shift())),(yield Promise.all([Ot[J](...pt),he&&Xt.done]))[0]});return function(pt){return $e.apply(this,arguments)}}();return We.set(Ie,se),se}!function Se(le){Ae=le(Ae)}(le=>({...le,get:(Ie,J,X)=>te(Ie,J)||le.get(Ie,J,X),has:(Ie,J)=>!!te(Ie,J)||le.has(Ie,J)}))},5861:(dt,xe,R)=>{"use strict";function l(P,ne,ge,Ee,ue,pe,_e){try{var z=P[pe](_e),G=z.value}catch(Q){return void ge(Q)}z.done?ne(G):Promise.resolve(G).then(Ee,ue)}function B(P){return function(){var ne=this,ge=arguments;return new Promise(function(Ee,ue){var pe=P.apply(ne,ge);function _e(G){l(pe,Ee,ue,_e,z,"next",G)}function z(G){l(pe,Ee,ue,_e,z,"throw",G)}_e(void 0)})}}R.d(xe,{Z:()=>B})}},dt=>{dt(dt.s=1855)}]);