(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),o=n("/WYv"),i=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),h=n("u67D"),f=n("JcRv"),p=n("Fxb1");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var o=t[a.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(o.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(i.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,o=new c.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[s.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),o=n("FFOo");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(o.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,i=n("mrSG"),a=n("q/0M"),s=n("zVF4"),u=n("S+S0"),c=n("x7I3"),l=o.SDK_VERSION,h=new a.Logger("@firebase/firestore"),f=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function p(){return h.logLevel===a.LogLevel.DEBUG?f.DEBUG:h.logLevel===a.LogLevel.SILENT?f.SILENT:f.ERROR}function d(t){switch(t){case f.DEBUG:h.logLevel=a.LogLevel.DEBUG;break;case f.ERROR:h.logLevel=a.LogLevel.ERROR;break;case f.SILENT:h.logLevel=a.LogLevel.SILENT;break;default:h.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function y(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=a.LogLevel.DEBUG){var o=n.map(g);h.debug.apply(h,i.__spreadArrays(["Firestore ("+l+") ["+t+"]: "+e],o))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.ERROR){var r=e.map(g);h.error.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function g(t){if("string"==typeof t)return t;var e=_.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function b(t,e){t||v(e)}var _=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return _.getPlatform().emptyByteString}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(C.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function O(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in b(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e){if(0!==e.length)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function N(t,e,n){if(e.length!==n)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function k(t,e,n){if(e.length<n)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function R(t,e,n,r){F(t,e,W(n)+" argument",r)}function M(t,e,n,r){void 0!==r&&R(t,e,n,r)}function j(t,e,n,r){F(t,e,n+" option",r)}function V(t,e,n,r){void 0!==r&&j(t,e,n,r)}function L(t,e,n,r,o){void 0!==r&&function(t,e,n,r,o){for(var i=[],a=0,s=o;a<s.length;a++){var u=s[a];if(u===r)return;i.push(B(u))}var c=B(r);throw new E(C.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+i.join(", "))}(t,0,n,r,o)}function F(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var o=B(r);throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+o)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function q(t,e,n){if(void 0===n)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function z(t,e,n){A(e,function(e,r){if(n.indexOf(e)<0)throw new E(C.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function H(t,e,n,r){var o=B(r);return new E(C.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+o)}function G(t,e,n){if(n<=0)throw new E(C.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+W(e)+" argument to be a positive number, but it was: "+n+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}var K=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return b(20===e.length,"Invalid auto ID: "+e),e},t}();function Y(t,e){return t<e?-1:t>e?1:0}function Z(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function J(t){return t+"\0"}function X(){if("undefined"==typeof Uint8Array)throw new E(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $(){if(!_.getPlatform().base64Available)throw new E(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tt,et=function(){function t(t){$(),this._binaryString=t}return t.fromBase64String=function(e){N("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),$();try{return new t(_.getPlatform().atob(e))}catch(n){throw new E(C.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(N("Blob.fromUint8Array",arguments,1),X(),!(e instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),$(),_.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){N("Blob.toUint8Array",arguments,0),X();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Y(this._binaryString,t._binaryString)},t}(),nt=S(et,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),rt=function(){return function(t,e,n,r,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=o}}(),ot="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||ot}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===ot},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),at=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),st=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return b(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return b(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(C.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(st),ct=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ct.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new E(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;o<t.length;){var s=t[o];if("\\"===s){if(o+1===t.length)throw new E(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,o+=2}else"`"===s?(a=!a,o++):"."!==s||a?(r+=s,o++):(i(),o++)}if(i(),a)throw new E(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(st),ht=function(){function t(e){this.path=e,b(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ut.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ut.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ut(e.slice()))},t.fromPathString=function(e){return new t(ut.fromString(e))},t.EMPTY=new t(new ut([])),t}(),ft=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction"}(tt||(tt={}));var pt=function(){function t(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,o,i){var a=new t(e,n,Date.now()+r,o,i);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),b(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var o=pt.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){b(t===tt.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var o=r[n];if(o.skipDelay(),t!==tt.All&&o.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);b(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),yt="\x01",mt="\x01",gt="\x10",vt="\x11";function bt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wt(e)),e=_t(t.get(n),e);return wt(e)}function _t(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+=yt+gt;break;case yt:n+=yt+vt;break;default:n+=i}}return n}function wt(t){return t+yt+mt}function Ct(t){var e=t.length;if(b(e>=2,"Invalid path "+t),2===e)return b(t.charAt(0)===yt&&t.charAt(1)===mt,"Non-empty path "+t+" had length 2"),ut.EMPTY_PATH;for(var n=e-2,r=[],o="",i=0;i<e;){var a=t.indexOf(yt,i);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case mt:var s=t.substring(i,a),u=void 0;0===o.length?u=s:(u=o+=s,o=""),r.push(u);break;case gt:o+=t.substring(i,a),o+="\0";break;case vt:o+=t.substring(i,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}i=a+2}return new ut(r)}var Et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),St=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Et(0,0)),t}(),Tt=function(){function t(t,e){this.comparator=t,this.root=e||Ot.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new It(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new It(this.root,t,this.comparator,!0)},t}(),It=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Ot.EMPTY=new At;var xt=function(){function t(t){this.comparator=t,this.data=new Tt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Dt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Dt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Dt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Nt=new Tt(ht.comparator);function kt(){return Nt}function Pt(){return kt()}var Rt=new Tt(ht.comparator);function Mt(){return Rt}var jt=new Tt(ht.comparator);function Vt(){return jt}var Lt=new xt(ht.comparator);function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lt,r=0,o=t;r<o.length;r++)n=n.add(o[r]);return n}var Ut=new xt(Y);function Bt(){return Ut}var qt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,b(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&b(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(t)&&(e=i.applyToRemoteDocument(e,r[o]))}return e},t.prototype.applyToLocalView=function(t,e){e&&b(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var o=e,i=0,a=this.mutations;i<a.length;i++){var s;(s=a[i]).key.isEqual(t)&&(e=s.applyToLocalView(e,o,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var o=e.applyToLocalView(r.key,t.get(r.key));o&&(n=n.insert(r.key,o))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Z(this.mutations,t.mutations)&&Z(this.baseMutations,t.baseMutations)},t}(),zt=function(){function t(t,e,n,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=o}return t.from=function(e,n,r,o){b(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var i=Vt(),a=e.mutations,s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new t(e,n,r,o,i)},t}(),Ht=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,o){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,o)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,o)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,o=0,i=!1;e.forEach(function(e){++r,e.next(function(){++o,i&&o===r&&t()},function(t){return n(t)})}),i=!0,o===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},o=0,i=e;o<i.length;o++)r(i[o]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,o){r.push(e.call(n,t,o))}),this.waitFor(r)},t}(),Gt="SimpleDb",Wt=function(){function t(e){this.db=e,12.2===t.getIOSVersion(s.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return b(t.isAvailable(),"IndexedDB not supported in current environment."),y(Gt,"Opening database:",e),new Ht(function(o,i){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){o(new t(e.target.result))},a.onblocked=function(){i(new E(C.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;i("VersionError"===e.name?new E(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){y(Gt,'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,a.transaction,t.oldVersion,en).next(function(){y(Gt,"Database upgrade to version "+en+" complete")})}}).toPromise()},t.delete=function(t){return y(Gt,"Removing database:",t),Zt(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=s.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,o=t.getAndroidVersion(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)},t.isMockPersistence=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.USE_MOCK_PERSISTENCE)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,o,a,s,u,c;return i.__generator(this,function(l){switch(l.label){case 0:r=t.startsWith("readonly"),o=t.endsWith("idempotent"),a=0,s=function(){var t,s,c,l;return i.__generator(this,function(i){switch(i.label){case 0:++a,t=Kt.open(u.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),(s=n(t).catch(function(e){return t.abort(e),Ht.reject(e)}).toPromise()).catch(function(){}),[4,t.completionPromise];case 2:return i.sent(),[2,{value:s}];case 3:return c=i.sent(),y(Gt,"Transaction failed with error: %s. Retrying: %s.",c.message,l=o&&"FirebaseError"!==c.name&&a<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:return"object"==typeof(c=l.sent())?[2,c.value]:[3,1];case 3:return[2]}})})},t.prototype.close=function(){this.db.close()},t}(),Qt=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Zt(this.dbCursor.delete())},t}(),Kt=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ft,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=Xt(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(y(Gt,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return b(!!e,"Object store not part of transaction: "+t),new Yt(e)},t}(),Yt=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(y(Gt,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(y(Gt,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zt(n)},t.prototype.add=function(t){return y(Gt,"ADD",this.store.name,t,t),Zt(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zt(this.store.get(t)).next(function(n){return void 0===n&&(n=null),y(Gt,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return y(Gt,"DELETE",this.store.name,t),Zt(this.store.delete(t))},t.prototype.count=function(){return y(Gt,"COUNT",this.store.name),Zt(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){y(Gt,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Ht(function(n,r){e.onerror=function(t){var e=Xt(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Ht(function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(o){var i=new Qt(o),a=e(o.primaryKey,o.value,i);if(a instanceof Ht){var s=a.catch(function(t){return i.done(),Ht.reject(t)});n.push(s)}i.isDone?r():null===i.skipToKey?o.continue():o.continue(i.skipToKey)}else r()}}).next(function(){return Ht.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(b(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zt(t){return new Ht(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Xt(t.target.error);n(e)}})}var Jt=!1;function Xt(t){var e=Wt.getIOSVersion(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jt||(Jt=!0,setTimeout(function(){throw r},0)),r}}return t}var $t=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,o){return b(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,o)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return re(t).iterate({index:sn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=ne(n),ie(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=ne(e),ie(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var o=this,i=oe(t),a=re(t);return a.add({}).next(function(s){b("number"==typeof s,"Auto-generated key is not a number");for(var u=new qt(s,e,n,r),c=o.serializer.toDbMutationBatch(o.userId,u),l=[],h=new xt(function(t,e){return Y(t.canonicalString(),e.canonicalString())}),f=0,p=r;f<p.length;f++){var d=p[f],y=un.key(o.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(i.put(y,un.PLACEHOLDER))}return h.forEach(function(e){l.push(o.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){o.documentKeysByBatchId[s]=u.keys()}),Ht.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return re(t).get(e).next(function(t){return t?(b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Ht.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return re(t).iterate({index:sn.userMutationsIndex,range:o},function(t,e,o){e.userId===n.userId&&(b(e.batchId>=r,"Should have found mutation after "+r),i=n.serializer.fromDbMutationBatch(e)),o.done()}).next(function(){return i})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return re(t).iterate({index:sn.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return re(t).loadAll(sn.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=un.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return oe(t).iterate({range:o},function(r,o,a){var s=r[0],u=r[2],c=Ct(r[1]);if(s===n.userId&&e.path.isEqual(c))return re(t).get(u).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),i.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return i})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Y),o=[];return e.forEach(function(e){var i=un.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(i),s=oe(t).iterate({range:a},function(t,o,i){var a=t[0],s=t[2],u=Ct(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):i.done()});o.push(s)}),Ht.waitFor(o).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;b(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,o=r.length+1,i=un.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(i),s=new xt(Y);return oe(t).iterate({range:a},function(t,e,i){var a=t[0],u=t[2],c=Ct(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===o&&(s=s.add(u)):i.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],o=[];return e.forEach(function(e){o.push(re(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Ht.waitFor(o).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ee(t.simpleDbTransaction,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.removeCachedMutationKeys(e.batchId)}),Ht.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ht.resolve();var r=IDBKeyRange.lowerBound(un.prefixForUser(e.userId)),o=[];return oe(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var i=Ct(t[1]);o.push(i)}else r.done()}).next(function(){b(0===o.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+o.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return te(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return ie(t).get(this.userId).next(function(t){return t||new an(e.userId,-1,"")})},t}();function te(t,e,n){var r=un.prefixForPath(e,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),a=!1;return oe(t).iterate({range:i,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===o&&(a=!0),r.done()}).next(function(){return a})}function ee(t,e,n){var r=t.store(sn.store),o=t.store(un.store),i=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});i.push(u.next(function(){b(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=un.key(e,f.key.path,n.batchId);i.push(o.delete(p)),c.push(f.key)}return Ht.waitFor(i).next(function(){return c})}function ne(t){return t instanceof Uint8Array?(b(Wt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function re(t){return Ln.getStore(t,sn.store)}function oe(t){return Ln.getStore(t,un.store)}function ie(t){return Ln.getStore(t,an.store)}var ae=1,se=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),ue=function(){function t(t,e){this.generatorId=t,b((t&ae)===t,"Generator ID "+t+" contains more than "+ae+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<ae,t},t.prototype.after=function(t){return this.seek(t+(1<<ae)),this.next()},t.prototype.seek=function(t){b((t&ae)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forTargetCache=function(){return new t(se.QueryCache,2)},t.forSyncEngine=function(){return new t(se.SyncEngine)},t}(),ce=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return St.fromTimestamp(new Et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return fe(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(o){return o.highestListenSequenceNumber=e,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.saveMetadata(t,o)})},t.prototype.addTargetData=function(t,e){var n=this;return this.saveTargetData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.saveTargetData(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return le(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return b(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,i=[];return le(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(o++,i.push(r.removeTargetData(t,u)))}).next(function(){return Ht.waitFor(i)}).next(function(){return o})},t.prototype.forEachTarget=function(t,e){var n=this;return le(t).iterate(function(t,r){var o=n.serializer.fromDbTarget(r);e(o)})},t.prototype.retrieveMetadata=function(t){return he(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Ln.getStore(n,yn.store)).put(yn.key,e);var n},t.prototype.saveTargetData=function(t,e){return le(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromTargetData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return le(t).iterate({range:o,index:pn.queryTargetsIndexName},function(t,r,o){var a=n.serializer.fromDbTarget(r);e.isEqual(a.target)&&(i=a,o.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,o=[],i=pe(t);return e.forEach(function(e){var a=bt(e.path);o.push(i.put(new dn(n,a))),o.push(r.referenceDelegate.addReference(t,e))}),Ht.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,o=pe(t);return Ht.forEach(e,function(e){var i=bt(e.path);return Ht.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pe(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pe(t),o=Ft();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Ct(t[1]),i=new ht(r);o=o.add(i)}).next(function(){return o})},t.prototype.containsKey=function(t,e){var n=bt(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),o=0;return pe(t).iterate({index:dn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(o++,n.done())}).next(function(){return o>0})},t.prototype.getTargetDataForTarget=function(t,e){var n=this;return le(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function le(t){return Ln.getStore(t,pn.store)}function he(t){return Wt.getStore(t,yn.store).get(yn.key).next(function(t){return b(null!==t,"Missing metadata row."),t})}function fe(t){return he(t).next(function(t){return t.highestListenSequenceNumber})}function pe(t){return Ln.getStore(t,dn.store)}var de=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new xt(lt.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ye=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),me=function(){return function(t,e){this.version=t,this.transformResults=e}}(),ge=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ve=function(){function t(t,e){this.updateTime=t,this.exists=e,b(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ze&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ze:(b(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),be=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&b(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ze?t.version:St.MIN},t}(),_e=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.value=n,o.precondition=r,o.type=ge.Set,o}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by SetMutation."),new ze(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=be.getPostMutationVersion(t);return new ze(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(be),we=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.key=e,i.data=n,i.fieldMask=r,i.precondition=o,i.type=ge.Patch,i}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.patchDocument(t);return new ze(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=be.getPostMutationVersion(t),o=this.patchDocument(t);return new ze(this.key,r,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ze?t.data():Ue.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(be),Ce=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ge.Transform,r.precondition=ve.exists(!0),r}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),o=e.version,i=this.transformObject(n.data(),r);return new ze(this.key,o,{hasCommittedMutations:!0},i)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),o=this.localTransformResults(n,t,e),i=this.transformObject(r.data(),o);return new ze(this.key,r.version,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var o=r[n],i=t instanceof ze?t.field(o.field):void 0,a=o.transform.computeBaseValue(i||null);null!=a&&(e=null==e?Ue.EMPTY.set(o.field,a):e.set(o.field,a))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Z(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){return b(t instanceof ze,"Unknown MaybeDocument type "+t),b(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.serverTransformResults=function(t,e){var n=[];b(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var o=this.fieldTransforms[r],i=o.transform,a=null;t instanceof ze&&(a=t.field(o.field)),n.push(i.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],o=0,i=this.fieldTransforms;o<i.length;o++){var a=i[o],s=a.transform,u=null;e instanceof ze&&(u=e.field(a.field)),null===u&&n instanceof ze&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,t))}return r},e.prototype.transformObject=function(t,e){b(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(be),Ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ge.Delete,r}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by DeleteMutation."),new He(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&b(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new He(this.key,St.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(be),Se=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),Te=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),Ie=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Te.Estimate,n);case"previous":return new t(Te.Previous,n);case"none":case void 0:return new t(Te.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Oe=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return b(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,t.typeOrder)},t}(),Ae=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Se.NullValue,e.internalValue=null,e}return i.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Oe),xe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.BooleanValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Oe),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.NumberValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(Oe);function Ne(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ne(this.internalValue,t.internalValue)},e}(De),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ne(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(De),Re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.StringValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Oe),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.TimestampValue,n}return i.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof je?-1:this.defaultCompareTo(t)},e}(Oe),je=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Se.TimestampValue,r}return i.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Te.Estimate?new Me(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Te.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Me?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Oe),Ve=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.BlobValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Oe),Le=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Se.RefValue,r}return i.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Oe),Fe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.GeoPointValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Oe),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.ObjectValue,n}return i.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext();if(o.key!==i.key||!o.value.isEqual(i.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var o=n.getNext(),i=r.getNext(),a=Y(o.key,i.key)||o.value.compareTo(i.value);if(a)return a}return Y(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(b(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var o=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),o)},e.prototype.delete=function(t){if(b(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){b(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new xt(lt.comparator);return this.internalValue.forEach(function(n,r){var o=new lt([n]);if(r instanceof e){var i=r.fieldMask().fields;i.isEmpty()?t=t.add(o):i.forEach(function(e){t=t.add(o.child(e))})}else t=t.add(o)}),de.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Tt(Y)),e}(Oe),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.ArrayValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var o=this.internalValue[r].compareTo(t.internalValue[r]);if(o)return o}return Y(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Oe),qe=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),ze=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n)||this;return s.objectValue=o,s.proto=i,s.converter=a,b(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return i.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=Ue.EMPTY;A(this.proto.fields||{},function(n,r){e=e.set(new lt([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){b(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return null!==r&&null!==o?r.compareTo(o):v("Trying to compare documents on fields that don't exist")},e}(qe),He=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qe),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qe),We=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],a=i[1];if(i[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(r[o][0].isEqual(t))return void(r[o]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){A(this.inner,function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return x(this.inner)},t}(),Qe=function(){function t(){this.changes=new We(function(t){return t.toString()}),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return b(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){b(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ht.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},t}(),Ke=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return Ze(t).put(Je(e),n)},t.prototype.removeEntry=function(t,e){var n=Ze(t),r=Je(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ze(t).get(Je(e)).next(function(t){return n.maybeDecodeDocument(t)})},t.prototype.getSizedEntry=function(t,e){var n=this;return Ze(t).get(Je(e)).next(function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:Xe(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Pt();return this.forEachDbEntry(t,e,function(t,e){var o=n.maybeDecodeDocument(e);r=r.insert(t,o)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Pt(),o=new Tt(ht.comparator);return this.forEachDbEntry(t,e,function(t,e){var i=n.maybeDecodeDocument(e);i?(r=r.insert(t,i),o=o.insert(t,Xe(e))):(r=r.insert(t,null),o=o.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:o}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Ht.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),i=o.getNext();return Ze(t).iterate({range:r},function(t,e,r){for(var a=ht.fromSegments(t);i&&ht.comparator(i,a)<0;)n(i,null),i=o.getNext();i&&i.isEqual(a)&&(n(i,e),i=o.hasNext()?o.getNext():null),i?r.skip(i.path.toArray()):r.done()}).next(function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this;b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var o=Mt(),i=e.path.length+1,a={};if(n.isEqual(St.MIN)){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=hn.collectionReadTimeIndex}return Ze(t).iterate(a,function(t,n,a){if(t.length===i){var s=r.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(s.key.path)?s instanceof ze&&e.matches(s)&&(o=o.insert(s.key,s)):a.done()}}).next(function(){return o})},t.prototype.getNewDocumentChanges=function(t,e){var n=this,r=kt(),o=this.serializer.toDbTimestampKey(e),i=Ze(t),a=IDBKeyRange.lowerBound(o,!0);return i.iterate({index:hn.readTimeIndex,range:a},function(t,e){var i=n.serializer.fromDbRemoteDocument(e);r=r.insert(i.key,i),o=e.readTime}).next(function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(o)}})},t.prototype.getLastDocumentChange=function(t){var e,n=this,r=Ze(t),o=St.MIN;return r.iterate({index:hn.readTimeIndex,reverse:!0},function(t,r,i){e=n.serializer.fromDbRemoteDocument(r),r.readTime&&(o=n.serializer.fromDbTimestampKey(r.readTime)),i.done()}).next(function(){return{changedDoc:e,readTime:o}})},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ye(t).get(fn.key).next(function(t){return b(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Ye(t).put(fn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof He&&e.version.isEqual(St.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var r=t.call(this)||this;return r.documentCache=e,r.trackRemovals=n,r.documentSizes=new We(function(t){return t.toString()}),r}return i.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,o=new xt(function(t,e){return Y(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(i,a){var s=e.documentSizes.get(i);if(b(void 0!==s,"Cannot modify a document that wasn't read (for "+i+")"),a){b(!e.readTime.isEqual(St.MIN),"Cannot add a document with a read time of zero");var u=e.documentCache.serializer.toDbRemoteDocument(a,e.readTime);o=o.add(i.path.popLast());var c=Xe(u);r+=c-s,n.push(e.documentCache.addEntry(t,i,u))}else if(r-=s,e.trackRemovals){var l=e.documentCache.serializer.toDbRemoteDocument(new He(i,St.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,i,l))}else n.push(e.documentCache.removeEntry(t,i))}),o.forEach(function(r){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,r))}),n.push(this.documentCache.updateMetadata(t,r)),Ht.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Qe),t}();function Ye(t){return Ln.getStore(t,fn.store)}function Ze(t){return Ln.getStore(t,hn.store)}function Je(t){return t.path.toArray()}function Xe(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var $e=function(){function t(){this.collectionParentIndex=new tn}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Ht.resolve()},t.prototype.getCollectionParents=function(t,e){return Ht.resolve(this.collectionParentIndex.getEntries(e))},t}(),tn=function(){function t(){this.index={}}return t.prototype.add=function(t){b(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new xt(ut.comparator),o=!r.has(n);return this.index[e]=r.add(n),o},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xt(ut.comparator)).toArray()},t}(),en=9,nn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var o=this;b(n<r&&n>=0&&r<=en,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var i=new Kt(e);n<1&&r>=1&&(function(t){t.createObjectStore(on.store)}(t),function(t){t.createObjectStore(an.store,{keyPath:an.keyPath}),t.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(un.store)}(t),gn(t),function(t){t.createObjectStore(hn.store)}(t));var a=Ht.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(dn.store),t.deleteObjectStore(pn.store),t.deleteObjectStore(yn.store)}(t),gn(t)),a=a.next(function(){return t=i.store(yn.store),e=new yn(0,0,St.MIN.toTimestamp(),0),t.put(yn.key,e);var t,e})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(sn.store).loadAll().next(function(n){t.deleteObjectStore(sn.store),t.createObjectStore(sn.store,{keyPath:sn.keyPath,autoIncrement:!0}).createIndex(sn.userMutationsIndex,sn.userMutationsKeyPath,{unique:!0});var r=e.store(sn.store),o=n.map(function(t){return r.put(t)});return Ht.waitFor(o)})}(t,i)})),a=a.next(function(){!function(t){t.createObjectStore(vn.store,{keyPath:vn.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return o.removeAcknowledgedMutations(i)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(fn.store)}(t),o.addDocumentGlobal(i)})),n<7&&r>=7&&(a=a.next(function(){return o.ensureSequenceNumbers(i)})),n<8&&r>=8&&(a=a.next(function(){return o.createCollectionParentIndex(t,i)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hn.store);e.createIndex(hn.readTimeIndex,hn.readTimeIndexPath,{unique:!1}),e.createIndex(hn.collectionReadTimeIndex,hn.collectionReadTimeIndexPath,{unique:!1})}(e)})),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hn.store).iterate(function(t,n){e+=Xe(n)}).next(function(){var n=new fn(e);return t.store(fn.store).put(fn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(an.store),r=t.store(sn.store);return n.loadAll().next(function(n){return Ht.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(sn.userMutationsIndex,o).next(function(r){return Ht.forEach(r,function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var o=e.serializer.fromDbMutationBatch(r);return ee(t,n.userId,o).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(dn.store),n=t.store(hn.store);return fe(t).next(function(t){var r=[];return n.iterate(function(n,o){var i=new ut(n),a=function(t){return[0,bt(t)]}(i);r.push(e.get(a).next(function(n){return n?Ht.resolve():function(n){return e.put(new dn(0,bt(n),t))}(i)}))}).next(function(){return Ht.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(mn.store,{keyPath:mn.keyPath});var n=e.store(mn.store),r=new tn,o=function(t){if(r.add(t)){var e=t.lastSegment(),o=t.popLast();return n.put({collectionId:e,parent:bt(o)})}};return e.store(hn.store).iterate({keysOnly:!0},function(t,e){var n=new ut(t);return o(n.popLast())}).next(function(){return e.store(un.store).iterate({keysOnly:!0},function(t,e){var n=Ct(t[1]);return o(n.popLast())})})},t}(),rn=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),on=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),an=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),sn=function(){function t(t,e,n,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),un=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bt(e)]},t.key=function(t,e,n){return[t,bt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),cn=function(){return function(t,e){this.path=t,this.readTime=e}}(),ln=function(){return function(t,e){this.path=t,this.version=e}}(),hn=function(){function t(t,e,n,r,o,i){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),fn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),pn=function(){function t(t,e,n,r,o,i,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),dn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,b(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),yn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),mn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function gn(t){t.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.documentTargetsIndex,dn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.queryTargetsIndexName,pn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yn.store)}var vn=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),bn=i.__spreadArrays([an.store,sn.store,un.store,hn.store,pn.store,on.store,yn.store,dn.store],[vn.store]),_n=i.__spreadArrays(bn,[fn.store]),wn=i.__spreadArrays(_n,[mn.store]),Cn=function(){function t(){this.collectionParentsCache=new tn}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(b(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(function(){n.collectionParentsCache.add(e)});var i={collectionId:r,parent:bt(o)};return En(t).put(i)}return Ht.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return En(t).loadAll(r).next(function(t){for(var r=0,o=t;r<o.length;r++){var i=o[r];if(i.collectionId!==e)break;n.push(Ct(i.parent))}return n})},t}();function En(t){return Ln.getStore(t,mn.store)}var Sn=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Tn=function(){function t(t,e,n,r,o,i,a){void 0===o&&(o=St.MIN),void 0===i&&(i=St.MIN),void 0===a&&(a=w()),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),In=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new He(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new Ge(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof ze){var o=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new hn(null,null,o,s=t.hasCommittedMutations,n,r)}if(t instanceof He){var i=t.key.path.toArray(),a=this.toDbTimestamp(t.version),s=t.hasCommittedMutations;return new hn(null,new cn(i,a),null,s,n,r)}if(t instanceof Ge){i=t.key.path.toArray();var u=this.toDbTimestamp(t.version);return new hn(new ln(i,u),null,null,!0,n,r)}return v("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new Et(t[0],t[1]);return St.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new rn(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Et(t.seconds,t.nanoseconds);return St.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),o=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new sn(t,e.batchId,e.localWriteTime.toMillis(),r,o)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),o=Et.fromMillis(t.localWriteTimeMs);return new qt(t.batchId,o,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ft(),n=0,r=t;n<r.length;n++)e=e.add(new ht(Ct(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):St.MIN,o=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Tn(e,t.targetId,Sn.Listen,t.lastListenSequenceNumber,n,r,o)},t.prototype.toDbTarget=function(t){b(Sn.Listen===t.purpose,"Only queries with purpose "+Sn.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),o=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.target):this.remoteSerializer.toQueryTarget(t.target),t.resumeToken instanceof Uint8Array?(b(Wt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new pn(t.targetId,t.target.canonicalId(),r,n,t.sequenceNumber,o,e)},t}();function On(t,e){var n=t[1],r=e[1],o=Y(t[0],e[0]);return 0===o?Y(n,r):o}var An=function(){function t(t){this.maxElements=t,this.buffer=new xt(On),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();On(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Nn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Dn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;y("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(tt.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Fn)})},t}(),kn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ht.resolve(at.INVALID);var r=new An(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Dn.COLLECTION_DISABLED?(y("LruGarbageCollector","Garbage collection skipped; disabled"),Ht.resolve(xn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,i,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(y("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,i=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return o=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),p()<=f.DEBUG&&y("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(i-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-i)+"ms\n\tRemoved "+o+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Ht.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Pn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Rn="IndexedDbPersistence",Mn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Vn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return i.__extends(e,t),e}(Pn),Ln=function(){function t(e,n,r,o,i,a,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new qn(this,i),this.dbName=n+t.MAIN_DATABASE,this.serializer=new In(s),this.document=o.document,this.targetCache=new ce(this.referenceDelegate,this.serializer),this.indexManager=new Cn,this.remoteDocumentCache=new Ke(this.serializer,this.indexManager),!o.window||!o.window.localStorage)throw new E(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=o.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Vn)return Wt.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new E(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),Wt.openOrCreate(this.dbName,en,new nn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[yn.store],function(t){return fe(t)})}).then(function(e){t.listenSequence=new at(e,t.sequenceNumberSyncer)}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite-idempotent",wn,function(e){return Bn(e).put(new vn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){return t.isPrimary&&!n?t.releasePrimaryLeaseIfHeld(e).next(function(){return!1}):!!n&&t.acquireOrExtendPrimaryLease(e).next(function(){return!0})})}).catch(function(e){if(!t.allowTabSynchronization)throw e;return y(Rn,"Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(e)}),t.isPrimary=e})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Un(t).get(on.key).next(function(t){return Ht.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Bn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return i.__awaiter(this,void 0,void 0,function(){var e=this;return i.__generator(this,function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",function(n){var r=t.getStore(n,vn.store);return r.loadAll().next(function(t){var n=e.filterActiveClients(t,18e5),o=t.filter(function(t){return-1===n.indexOf(t)});return Ht.forEach(o,function(t){return r.delete(t.clientId)}).next(function(){return o})})})]);case 1:n.sent().forEach(function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))}),n.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(tt.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Un(t).get(on.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(C.FAILED_PRECONDITION,jn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&y(Rn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[on.store,vn.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[vn.store],function(e){return Bn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,Wt.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),$t.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getTargetCache=function(){return b(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},t.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;y(Rn,"Starting transaction:",t);var o,i=e.endsWith("idempotent"),a=e.startsWith("readonly");return this.simpleDb.runTransaction(a?i?"readonly-idempotent":"readonly":i?"readwrite-idempotent":"readwrite",wn,function(i){return o=new Vn(i,r.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.verifyPrimaryLease(i).next(function(t){return!!t||r.canActAsPrimary(i)}).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(C.FAILED_PRECONDITION,Mn);return n(o)}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(o)})}).then(function(t){return o.raiseOnCommittedEvent(),t})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Un(t).get(on.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(C.FAILED_PRECONDITION,jn)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new on(this.clientId,this.allowTabSynchronization,Date.now());return Un(t).put(on.key,e)},t.isAvailable=function(){return Wt.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Un(t);return n.get(on.key).next(function(t){return e.isLocalClient(t)?(y(Rn,"Releasing primary lease."),n.delete(on.key)):Ht.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return y(Rn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(Rn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Fn(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){if(!function(t){return t.code===C.FAILED_PRECONDITION&&t.message===Mn}(t))throw t;return y(Rn,"Unexpectedly lost primary lease"),[2]})})}function Un(t){return t.store(on.store)}function Bn(t){return t.store(vn.store)}var qn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new kn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zn(t,e)},t.prototype.removeReference=function(t,e){return zn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Ht.resolve(!0):function(t,e){var n=!1;return ie(t).iterateSerial(function(r){return te(t,r,e).next(function(t){return t&&(n=!0),Ht.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return i++,r.getEntry(t,a).next(function(){return r.removeEntry(a),pe(t).delete([0,bt(a.path)])})});o.push(u)}}).next(function(){return Ht.waitFor(o)}).next(function(){return r.apply(t)}).next(function(){return i})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=pe(t),o=at.INVALID;return r.iterate({index:dn.documentTargetsIndex},function(t,r){var i=r.path,a=r.sequenceNumber;0===t[0]?(o!==at.INVALID&&e(new ht(Ct(n)),o),o=a,n=i):o=at.INVALID}).next(function(){o!==at.INVALID&&e(new ht(Ct(n)),o)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zn(t,e){return pe(t).put(function(t,e){return new dn(0,bt(t.path),e)}(e,t.currentSequenceNumber))}var Hn=Number,Gn=Hn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Wn=Hn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Qn=Hn.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Kn(t){return null==t}function Yn(t){return Qn(t)&&t<=Wn&&t>=Gn}var Zn,Jn=function(){function t(t,e,n,r,o,i,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.memoizedCanonicalId=null}return t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++)t+=o[r].canonicalId(),t+=",";Kn(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=this.path.canonicalString();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Kn(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();!function(t){t.First="F",t.Last="L"}(Zn||(Zn={}));var Xn=function(){function t(t,e,n,r,o,i,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=Zn.First),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[lr]:[new cr(t),lr];else{b(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,o=this.explicitOrderBy;r<o.length;r++){var i=o[r];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:sr.ASCENDING)===sr.ASCENDING?lr:hr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){b(null==this.getInequalityFilterField()||!(e instanceof er)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.withLimitToFirst=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.First,this.startAt,this.endAt)},t.prototype.withLimitToLast=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.Last,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},t.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},t.prototype.isEqual=function(t){return this.toTarget().isEqual(t.toTarget())&&this.limitType===t.limitType},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,o=this.orderBy;r<o.length;r++){var i=o[r],a=i.compare(t,e);if(0!==a)return a;n=n||i.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimitToFirst=function(){return!Kn(this.limit)&&this.limitType===Zn.First},t.prototype.hasLimitToLast=function(){return!Kn(this.limit)&&this.limitType===Zn.Last},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof er&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof er&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===Zn.First)this.memoizedTarget=new Jn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new cr(r.field,r.dir===sr.DESCENDING?sr.ASCENDING:sr.DESCENDING))}var o=this.endAt?new ur(this.endAt.position,!this.endAt.before):null,i=this.startAt?new ur(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new Jn(this.path,this.collectionGroup,t,this.filters,this.limit,o,i)}return this.memoizedTarget},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){b(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),$n=function(){return function(){}}(),tr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),er=function(t){function e(e,n,r){var o=t.call(this)||this;return o.field=e,o.op=n,o.value=r,o}return i.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===tr.IN?(b(r instanceof Be,"Comparing on key with IN, but filter value not an ArrayValue"),b(r.internalValue.every(function(t){return t instanceof Le}),"Comparing on key with IN, but an array value was not a RefValue"),new rr(t,r)):(b(r instanceof Le,"Comparing on key, but filter value not a RefValue"),b(n!==tr.ARRAY_CONTAINS&&n!==tr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new nr(t,n,r));if(r.isEqual(Ae.INSTANCE)){if(n!==tr.EQUAL)throw new E(C.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Pe.NAN)){if(n!==tr.EQUAL)throw new E(C.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===tr.ARRAY_CONTAINS?new or(t,r):n===tr.IN?(b(r instanceof Be,"IN filter has invalid value: "+r.toString()),new ir(t,r)):n===tr.ARRAY_CONTAINS_ANY?(b(r instanceof Be,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new ar(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case tr.LESS_THAN:return t<0;case tr.LESS_THAN_OR_EQUAL:return t<=0;case tr.EQUAL:return 0===t;case tr.GREATER_THAN:return t>0;case tr.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[tr.LESS_THAN,tr.LESS_THAN_OR_EQUAL,tr.GREATER_THAN,tr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}($n),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=ht.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(er),rr=function(t){function e(e,n){var r=t.call(this,e,tr.IN,n)||this;return r.value=n,r}return i.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(er),or=function(t){function e(e,n){return t.call(this,e,tr.ARRAY_CONTAINS,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Be&&e.contains(this.value)},e}(er),ir=function(t){function e(e,n){var r=t.call(this,e,tr.IN,n)||this;return r.value=n,r}return i.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(er),ar=function(t){function e(e,n){var r=t.call(this,e,tr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Be&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(er),sr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ur=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){b(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var o=t[r],i=this.position[r];if(o.field.isKeyField())b(i instanceof Le,"Bound has a non-key value where the key path is being used."),n=ht.comparator(i.key,e.key);else{var a=e.field(o.field);b(null!==a,"Field should exist since document matched the orderBy already."),n=i.compareTo(a)}if(o.dir===sr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),cr=function(){function t(t,e){this.field=t,void 0===e&&(e=sr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ze.compareByKey(t,e):ze.compareByField(this.field,t,e);switch(this.dir){case sr.ASCENDING:return n;case sr.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),lr=new cr(lt.keyField(),sr.ASCENDING),hr=new cr(lt.keyField(),sr.DESCENDING),fr=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var o=this;return b(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),e.matchesAllDocuments()?this.executeFullCollectionScan(t,e):n.isEqual(St.MIN)?this.executeFullCollectionScan(t,e):this.localDocumentsView.getDocuments(t,r).next(function(i){var a=o.applyQuery(e,i);return(e.hasLimitToFirst()||e.hasLimitToLast())&&o.needsRefill(e.limitType,a,r,n)?o.executeFullCollectionScan(t,e):(p()<=f.DEBUG&&y("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.localDocumentsView.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.applyQuery=function(t,e){var n=new xt(function(e,n){return t.docComparator(e,n)});return e.forEach(function(e,r){r instanceof ze&&t.matches(r)&&(n=n.add(r))}),n},t.prototype.needsRefill=function(t,e,n,r){if(n.size!==e.size)return!0;var o=t===Zn.First?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},t.prototype.executeFullCollectionScan=function(t,e){return p()<=f.DEBUG&&y("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.localDocumentsView.getDocumentsMatchingQuery(t,e,St.MIN)},t}(),pr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,o=n;r<o.length;r++)t=o[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Pt();return e.forEach(function(t,e){for(var o=0,i=n;o<i.length;o++)e=i[o].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var o=n.applyLocalMutationsToDocuments(t,e,r),i=kt();return o.forEach(function(t,e){e||(e=new He(t,St.forDeletedDoc())),i=i.insert(t,e)}),i})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next(function(t){var e=Mt();return t instanceof ze&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var r=this;b(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var o=e.collectionGroup,i=Mt();return this.indexManager.getCollectionParents(t,o).next(function(a){return Ht.forEach(a,function(a){var s=e.asCollectionQueryAtPath(a.child(o));return r.getDocumentsMatchingCollectionQuery(t,s,n).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var r,o,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i.addMissingBaseDocuments(t,o=e,r).next(function(t){r=t;for(var e=0,n=o;e<n.length;e++)for(var i=n[e],a=0,s=i.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.applyToLocalView(l,l,i.localWriteTime);r=h instanceof ze?r.insert(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){e.matches(n)||(r=r.remove(t))}),r})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Ft(),o=0,i=e;o<i.length;o++)for(var a=0,s=i[o].mutations;a<s.length;a++){var u=s[a];u instanceof we&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ze&&(c=c.insert(t,e))}),c})},t}(),dr=function(){function t(){this.refsByKey=new xt(yr.compareByKey),this.refsByTarget=new xt(yr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new yr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new yr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,r=new yr(n,t),o=new yr(n,t+1),i=[];return this.refsByTarget.forEachInRange([r,o],function(t){e.removeRef(t),i.push(t.key)}),i},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new yr(e,t),r=new yr(e,t+1),o=Ft();return this.refsByTarget.forEachInRange([n,r],function(t){o=o.add(t.key)}),o},t.prototype.containsKey=function(t){var e=new yr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),yr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||Y(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Y(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),mr=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new dr,this.targetDataByTarget=new Tt(Y),this.targetIdByTarget=new We(function(t){return t.canonicalId()}),this.lastDocumentChangeReadTime=St.MIN,b(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.localDocuments=new pr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o=this;return i.__generator(this,function(i){switch(i.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",function(r){var i;return o.mutationQueue.getAllMutationBatches(r).next(function(a){return i=a,e=o.persistence.getMutationQueue(t),n=new pr(o.remoteDocuments,e,o.persistence.getIndexManager()),e.getAllMutationBatches(r)}).next(function(t){for(var e=[],o=[],a=Ft(),s=0,u=i;s<u.length;s++){e.push((p=u[s]).batchId);for(var c=0,l=p.mutations;c<l.length;c++)a=a.add(l[c].key)}for(var h=0,f=t;h<f.length;h++){var p;o.push((p=f[h]).batchId);for(var d=0,y=p.mutations;d<y.length;d++)a=a.add(y[d].key)}return n.getDocuments(r,a).next(function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:o}})})})];case 1:return r=i.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}})})},t.prototype.localWrite=function(t){var e,n=this,r=Et.now(),o=t.reduce(function(t,e){return t.add(e.key)},Ft());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",function(i){return n.localDocuments.getDocuments(i,o).next(function(o){e=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=c.extractBaseValue(e.get(c.key));null!=l&&a.push(new we(c.key,l,l.fieldMask(),ve.exists(!0)))}return n.mutationQueue.addMutationBatch(i,r,a,t)})}).then(function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Ht.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",function(n){var r=t.batch.keys(),o=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,o)}).next(function(){return o.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return b(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",function(e){return t.targetCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=e.snapshotVersion,o=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",function(i){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});o=n.targetDataByTarget;var s=[];O(e.targetChanges,function(e,a){var u=o.get(e);if(u){s.push(n.targetCache.removeMatchingKeys(i,a.removedDocuments,e).next(function(){return n.targetCache.addMatchingKeys(i,a.addedDocuments,e)}));var c=a.resumeToken;if(c.length>0){var l=u.withResumeToken(c,r).withSequenceNumber(i.currentSequenceNumber);o=o.insert(e,l),t.shouldPersistTargetData(u,l,a)&&s.push(n.targetCache.updateTargetData(i,l))}}});var u=kt(),c=Ft();if(e.documentUpdates.forEach(function(t,e){c=c.add(t)}),s.push(a.getEntries(i,c).next(function(t){e.documentUpdates.forEach(function(o,c){var l=t.get(o);c instanceof He&&c.version.isEqual(St.MIN)?(a.removeEntry(o,r),u=u.insert(o,c)):null==l||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(b(!St.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),a.addEntry(c,r),u=u.insert(o,c)):y("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(o)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(i,o))})})),!r.isEqual(St.MIN)){var l=n.targetCache.getLastRemoteSnapshotVersion(i).next(function(t){return b(r.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.targetCache.setTargetsMetadata(i,i.currentSequenceNumber,r)});s.push(l)}return Ht.waitFor(s).next(function(){return a.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,u)})}).then(function(t){return n.targetDataByTarget=o,t})},t.shouldPersistTargetData=function(t,e,n){return b(e.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var o=r[n],i=o.targetId;if(this.localViewReferences.addReferences(o.addedKeys,i),this.localViewReferences.removeReferences(o.removedKeys,i),!o.fromCache){var a=this.targetDataByTarget.get(i);b(null!==a,"Can't set limbo-free snapshot version for unknown target: "+i);var s=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(i,s)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",function(n){return Ht.forEach(t,function(t){return Ht.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateTarget=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",function(n){var r;return e.targetCache.getTargetData(n,t).next(function(o){return o?Ht.resolve(r=o):e.targetCache.allocateTargetId(n).next(function(o){return r=new Tn(t,o,Sn.Listen,n.currentSequenceNumber),e.targetCache.addTargetData(n,r).next(function(){return r})})})}).then(function(n){return null===e.targetDataByTarget.get(n.targetId)&&(e.targetDataByTarget=e.targetDataByTarget.insert(n.targetId,n),e.targetIdByTarget.set(t,n.targetId)),n})},t.prototype.getTargetData=function(t,e){var n=this.targetIdByTarget.get(e);return void 0!==n?Ht.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(t,e)},t.prototype.releaseTarget=function(t,e){var n=this,r=this.targetDataByTarget.get(t);return b(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",function(o){var i=n.localViewReferences.removeReferencesForId(t);return e?Ht.resolve():Ht.forEach(i,function(t){return n.persistence.referenceDelegate.removeReference(o,t)}).next(function(){n.persistence.referenceDelegate.removeTarget(o,r)})}).then(function(){n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(r.target)})},t.prototype.executeQuery=function(t,e){var n=this,r=St.MIN,o=Ft();return this.persistence.runTransaction("Execute query","readonly-idempotent",function(i){return n.getTargetData(i,t.toTarget()).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(i,t.targetId).next(function(t){o=t})}).next(function(){return n.queryEngine.getDocumentsMatchingQuery(i,t,e?r:St.MIN,e?o:Ft())}).next(function(t){return{documents:t,remoteKeys:o}})})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",function(n){return e.targetCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,o=e.batch,i=o.keys(),a=Ht.resolve();return i.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var i=t,a=e.docVersions.get(r);b(null!==a,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(a)<0)&&((i=o.applyToRemoteDocument(r,i,e))?n.addEntry(i,e.commitVersion):b(!t,"Mutation batch "+o+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,o)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",function(n){return t.collect(n,e.targetDataByTarget)})},t.prototype.getTarget=function(t){var e=this,n=this.targetDataByTarget.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",function(n){return e.targetCache.getTargetDataForTarget(n,t).next(function(t){return t?t.target:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)}).then(function(e){var n=e.changedDocs;return t.lastDocumentChangeReadTime=e.readTime,n})},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e=this;return i.__generator(this,function(n){return this.remoteDocuments instanceof Ke?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",function(e){return t.getLastDocumentChange(e)}).then(function(t){e.lastDocumentChangeReadTime=t.readTime})]):[2]})})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),gr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new xt(yr.compareByKey)}return t.prototype.checkEmpty=function(t){return Ht.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,o=this.indexOfExistingBatchId(r,"acknowledged");b(0===o,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[o];return b(r===i.batchId,"Queue ordering failure: expected batch "+r+", got batch "+i.batchId),this.lastStreamToken=n,Ht.resolve()},t.prototype.getLastStreamToken=function(t){return Ht.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Ht.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){b(0!==r.length,"Mutation batches should not be empty");var o=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<o,"Mutation batchIDs must be monotonically increasing order");var i=new qt(o,e,n,r);this.mutationQueue.push(i);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new yr(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Ht.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Ht.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return b(null!=n,"Failed to find local mutation batch."),Ht.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Ht.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ht.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return Ht.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new yr(e,0),o=new yr(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,o],function(t){b(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),i.push(r)}),Ht.resolve(i)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Y);return e.forEach(function(t){var e=new yr(t,0),o=new yr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,o],function(e){b(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Ht.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,o=n;ht.isDocumentKey(o)||(o=o.child(""));var i=new yr(new ht(o),0),a=new xt(Y);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},i),Ht.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;b(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Ht.forEach(e.mutations,function(o){var i=new yr(o.key,e.batchId);return r=r.delete(i),n.referenceDelegate.removeMutationReference(t,o.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new yr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Ht.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Ht.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return b(n.batchId===t,"If found batch must match"),n},t}(),vr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new Tt(ht.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){b(!n.isEqual(St.MIN),"Cannot add a document with a read time of zero");var r=e.key,o=this.docs.get(r),i=o?o.size:0,a=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ht.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Pt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Ht.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Mt(),o=new ht(e.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var a=i.getNext(),s=a.value,u=s.maybeDocument,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||u instanceof ze&&e.matches(u)&&(r=r.insert(u.key,u))}return Ht.resolve(r)},t.prototype.forEachDocumentKey=function(t,e){return Ht.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return Ht.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return i.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,o){o?n.push(e.documentCache.addEntry(t,o,e.readTime)):e.documentCache.removeEntry(r)}),Ht.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Qe),t}(),br=function(){function t(t){this.persistence=t,this.targets=new We(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=St.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new dr,this.targetCount=0,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.forEachTarget=function(t,e){return this.targets.forEach(function(t,n){return e(n)}),Ht.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ht.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ht.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Ht.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Ht.resolve()},t.prototype.saveTargetData=function(t){this.targets.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return b(!this.targets.has(e.target),"Adding a target that already exists"),this.saveTargetData(e),this.targetCount+=1,Ht.resolve()},t.prototype.updateTargetData=function(t,e){return b(this.targets.has(e.target),"Updating a non-existent target"),this.saveTargetData(e),Ht.resolve()},t.prototype.removeTargetData=function(t,e){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.targets.has(e.target),"Removing a non-existent target from the cache"),this.targets.delete(e.target),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Ht.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,o=0,i=[];return this.targets.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.targets.delete(a),i.push(r.removeMatchingKeysForTargetId(t,s.targetId)),o++)}),Ht.waitFor(i).next(function(){return o})},t.prototype.getTargetCount=function(t){return Ht.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.targets.get(e)||null;return Ht.resolve(n)},t.prototype.getTargetDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.addReference(t,e))}),Ht.waitFor(o)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(function(e){o.push(r.removeReference(t,e))}),Ht.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Ht.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Ht.resolve(n)},t.prototype.containsKey=function(t,e){return Ht.resolve(this.references.containsKey(e))},t}(),_r=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new at(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new br(this),this.indexManager=new $e,this.remoteDocumentCache=new vr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new Er(t,new In(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Cr(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new gr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.targetCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;y("MemoryPersistence","Starting transaction:",t);var o=new wr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(o).next(function(t){return r.referenceDelegate.onTransactionCommitted(o).next(function(){return t})}).toPromise().then(function(t){return o.raiseOnCommittedEvent(),t})},t.prototype.mutationQueuesContainKey=function(t,e){return Ht.or((n=this.mutationQueues,r=[],A(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),wr=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return i.__extends(e,t),e}(Pn),Cr=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Ht.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Ht.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Ht.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ht.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Ht.or([function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Ht.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Er=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new We(function(t){return bt(t.path)}),this.garbageCollector=new kn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Ht.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Ht.forEach(this.orphanedSequenceNumbers,function(r,o){return n.isPinned(t,r,o).next(function(t){return t?Ht.resolve():e(o)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,o=this.persistence.getRemoteDocumentCache(),i=o.newChangeBuffer();return o.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(t){t||(r++,i.removeEntry(o))})}).next(function(){return i.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Ht.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Ht.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Ht.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Ht.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Ht.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Ht.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getTargetCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Ht.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Sr=1e3,Tr=1.5,Ir=6e4,Or=function(){function t(t,e,n,r,o){void 0===n&&(n=Sr),void 0===r&&(r=Tr),void 0===o&&(o=Ir),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=o,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),o=Math.max(0,n-r);this.currentBaseMs>0&&y("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,o,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Ar=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),xr=function(){function t(t,e,n,r,o,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.listener=i,this.state=Ar.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Or(t,e)}return t.prototype.isStarted=function(){return this.state===Ar.Starting||this.state===Ar.Open||this.state===Ar.Backoff},t.prototype.isOpen=function(){return this.state===Ar.Open},t.prototype.start=function(){this.state!==Ar.Error?(b(this.state===Ar.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Ar.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ar.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.isOpen()?[2,this.close(Ar.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(t===Ar.Error||Kn(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Ar.Error?this.backoff.reset():e&&e.code===C.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===C.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;b(this.state===Ar.Initial,"Must be in initial state to auth"),this.state=Ar.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(C.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;b(this.state===Ar.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return b(e.state===Ar.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Ar.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;b(this.state===Ar.Error,"Should only perform backoff when in Error state"),this.state=Ar.Backoff,this.backoff.backoffAndRun(function(){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){return b(this.state===Ar.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ar.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return b(this.isStarted(),"Can't handle server close on non-started stream"),y("PersistentStream","close with error: "+t),this.stream=null,this.close(Ar.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Dr=function(t){function e(e,n,r,o,i){var a=t.call(this,e,tt.ListenStreamConnectionBackoff,tt.ListenStreamIdle,n,r,i)||this;return a.serializer=o,a}return i.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(xr),Nr=function(t){function e(e,n,r,o,i){var a=t.call(this,e,tt.WriteStreamConnectionBackoff,tt.WriteStreamIdle,n,r,i)||this;return a.serializer=o,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return i.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return b(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(xr),kr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Nr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Dr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=kt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var o=[];return t.forEach(function(t){var e=r.get(t);b(!!e,"Missing entity in write response for "+t),o.push(e)}),o})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Pr=function(){function t(t){this.datastore=t,this.readVersions=Vt(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof He||t instanceof ze?n.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Ee(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new E(C.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof ze)e=t.version;else{if(!(t instanceof He))throw v("Document in a transaction was a "+t.constructor.name);e=St.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(C.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?ve.updateTime(e):ve.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(St.forDeletedDoc()))throw new E(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ve.updateTime(e)}return ve.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Rr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Mr=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),jr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Rr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Rr.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(tt.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,b(t.state===Rr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Rr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Rr.Online?(this.setAndBroadcast(Rr.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Rr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Rr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):y("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Vr=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Lr(t){switch(t){case C.OK:return v("Treated status OK as error");case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Fr(t){if(void 0===t)return m("GRPC error has no .code"),C.UNKNOWN;switch(t){case Vr.OK:return C.OK;case Vr.CANCELLED:return C.CANCELLED;case Vr.UNKNOWN:return C.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return C.INTERNAL;case Vr.UNAVAILABLE:return C.UNAVAILABLE;case Vr.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Vr.NOT_FOUND:return C.NOT_FOUND;case Vr.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Vr.ABORTED:return C.ABORTED;case Vr.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Vr.DATA_LOSS:return C.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Ur(t){if(void 0===t)return Vr.OK;switch(t){case C.OK:return Vr.OK;case C.CANCELLED:return Vr.CANCELLED;case C.UNKNOWN:return Vr.UNKNOWN;case C.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case C.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case C.INTERNAL:return Vr.INTERNAL;case C.UNAVAILABLE:return Vr.UNAVAILABLE;case C.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case C.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case C.NOT_FOUND:return Vr.NOT_FOUND;case C.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case C.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case C.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case C.ABORTED:return Vr.ABORTED;case C.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case C.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case C.DATA_LOSS:return Vr.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Br=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=Mt(),this.sortedSet=new Tt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),qr=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),zr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Hr=function(){function t(){this.changeMap=new Tt(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==qr.Added&&n.type===qr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===qr.Metadata&&n.type!==qr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===qr.Modified&&n.type===qr.Modified?this.changeMap=this.changeMap.insert(e,{type:qr.Modified,doc:t.doc}):t.type===qr.Modified&&n.type===qr.Added?this.changeMap=this.changeMap.insert(e,{type:qr.Added,doc:t.doc}):t.type===qr.Removed&&n.type===qr.Added?this.changeMap=this.changeMap.remove(e):t.type===qr.Removed&&n.type===qr.Modified?this.changeMap=this.changeMap.insert(e,{type:qr.Removed,doc:n.doc}):t.type===qr.Added&&n.type===qr.Removed?this.changeMap=this.changeMap.insert(e,{type:qr.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Gr=function(){function t(t,e,n,r,o,i,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,o){var i=[];return n.forEach(function(t){i.push({type:qr.Added,doc:t})}),new t(e,n,Br.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Wr=function(){function t(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,o=((r={})[e]=Qr.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(St.MIN,o,Bt(),kt(),Ft())},t}(),Qr=function(){function t(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Ft(),Ft(),Ft())},t}(),Kr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Yr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Zr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Jr=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Xr=function(){function t(){this.pendingResponses=0,this.documentChanges=eo(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ft(),e=Ft(),n=Ft();return this.documentChanges.forEach(function(r,o){switch(o){case qr.Added:t=t.add(r);break;case qr.Modified:e=e.add(r);break;case qr.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+o)}}),new Qr(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=eo()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),$r=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=to(),this.pendingTargetResets=new xt(Y)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ze?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof He&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var o=0,i=t.removedTargetIds;o<i.length;o++)this.removeDocumentFromTarget(r=i[o],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Zr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Zr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Zr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),b(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Zr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Zr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):O(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.targetDataForActiveTarget(e);if(r){var o=r.target;if(o.isDocumentQuery())if(0===n){var i=new ht(o.path);this.removeDocumentFromTarget(e,i,new He(i,St.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};O(this.targetStates,function(r,o){var i=e.targetDataForActiveTarget(r);if(i){if(o.current&&i.target.isDocumentQuery()){var a=new ht(i.target.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new He(a,t))}o.hasPendingChanges&&(n[r]=o.toTargetChange(),o.clearPendingChanges())}});var r=Ft();this.pendingDocumentTargetMapping.forEach(function(t,n){var o=!0;n.forEachWhile(function(t){var n=e.targetDataForActiveTarget(t);return!n||n.purpose===Sn.LimboResolution||(o=!1,!1)}),o&&(r=r.add(t))});var o=new Wr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=kt(),this.pendingDocumentTargetMapping=to(),this.pendingTargetResets=new xt(Y),o},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?qr.Modified:qr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,qr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Xr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new xt(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.targetDataForActiveTarget(t);return e||y("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.targetDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getTargetDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;b(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Xr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function to(){return new Tt(ht.comparator)}function eo(){return new Tt(ht.comparator)}var no="RemoteStore",ro=function(){function t(t,e,n,r,o){var a=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=o,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return i.__awaiter(a,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(y(no,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new jr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Rr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Rr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(y(no,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return y(no,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Rr.Unknown),[2]}})})},t.prototype.listen=function(t){T(this.listenTargets,t.targetId)||(this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t))},t.prototype.unlisten=function(t){b(T(this.listenTargets,t),"unlisten called on target no currently watched: "+t),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),x(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Rr.Unknown))},t.prototype.getTargetDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new $r(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!x(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){return O(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return void 0===t&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Rr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Rr.Online),t instanceof Jr&&t.state===Zr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Kr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Yr?this.watchChangeAggregator.handleExistenceFilter(t):(b(t instanceof Jr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(St.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;b(!t.isEqual(St.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return O(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var o=e.listenTargets[n];o&&(e.listenTargets[n]=o.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(w(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Tn(n.target,t,Sn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;b(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return T(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Fn)},t.prototype.onMutationResult=function(t,e){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),o=zt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(o).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){var e=this;return i.__generator(this,function(n){return void 0===t&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return Lr(t.code)?(y(no,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Fn)]):[2]})})},t.prototype.handleWriteError=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){return Lr(o=t.code)&&o!==C.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var o})})},t.prototype.createTransaction=function(){return new Pr(this.datastore)},t.prototype.restartNetwork=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Rr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(y(no,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Rr.Unknown),e.label=4;case 4:return[2]}})})},t}(),oo=function(){function t(t,e){if(N("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Y(this._lat,t._lat)||Y(this._long,t._long)},t}(),io=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new je(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ao=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=co(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Be(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Z(e.elements,this.elements)},t}(),so=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=co(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,o=this.elements;r<o.length;r++)n(o[r]);return new Be(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Z(e.elements,this.elements)},t}(),uo=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof ke&&this.operand instanceof ke?new ke(n.internalValue+this.operand.internalValue):new Pe(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return b(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof De?t:new ke(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function co(t){return t instanceof Be?t.internalValue.slice():[]}var lo,ho,fo=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),po=((lo={})[sr.ASCENDING.name]="ASCENDING",lo[sr.DESCENDING.name]="DESCENDING",lo),yo=((ho={})[tr.LESS_THAN.name]="LESS_THAN",ho[tr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ho[tr.GREATER_THAN.name]="GREATER_THAN",ho[tr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ho[tr.EQUAL.name]="EQUAL",ho[tr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ho[tr.IN.name]="IN",ho[tr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ho),mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t,e){b(!Kn(t),e+" is missing")}function vo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var bo=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?C.UNKNOWN:Fr(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||Kn(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Kn(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);b(!!t,"Cannot deserialize null or undefined timestamp.");var e=vo(t.seconds||"0");return new Et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=mo.exec(t);if(b(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t),i=Math.floor(o.getTime()/1e3);return new Et(i,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromBase64String(t)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return b(!!t,"Trying to deserialize version that isn't set"),St.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ut.fromString(t);return b(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return b(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),b(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ut.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ut(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ut(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return b(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ae)return{nullValue:"NULL_VALUE"};if(t instanceof xe)return{booleanValue:t.value()};if(t instanceof ke)return{integerValue:""+t.value()};if(t instanceof Pe){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Re?{stringValue:t.value()}:t instanceof Ue?{mapValue:this.toMapValue(t)}:t instanceof Be?{arrayValue:this.toArrayValue(t)}:t instanceof Me?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Fe?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ve?{bytesValue:this.toBytes(t.value())}:t instanceof Le?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ae.INSTANCE;if("booleanValue"in t)return xe.of(t.booleanValue);if("integerValue"in t)return new ke(vo(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Pe.NAN;if("Infinity"===t.doubleValue)return Pe.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Pe.NEGATIVE_INFINITY}return new Pe(t.doubleValue)}if("stringValue"in t)return new Re(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return go(t.arrayValue,"arrayValue"),new Be((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return go(t.timestampValue,"timestampValue"),new Me(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return go(t.geoPointValue,"geoPointValue"),new Fe(new oo(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){go(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Ve(n)}if("referenceValue"in t){go(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),o=new it(r.get(1),r.get(3)),i=new ht(this.extractLocalPathFromResourceName(r));return new Le(o,i)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return b(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),o=this.fromVersion(t.updateTime);return new ze(r,o,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Ue.EMPTY;return A(t,function(t,r){n=n.set(new lt([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;b(!!t.found,"Tried to deserialize a found document from a missing document."),go(t.found.name,"doc.found.name"),go(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new ze(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){b(!!t.missing,"Tried to deserialize a missing document from a found document."),b(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new He(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Zr.Added:return"ADD";case Zr.Current:return"CURRENT";case Zr.NoChange:return"NO_CHANGE";case Zr.Removed:return"REMOVE";case Zr.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Yr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Kr){var e;if(t.newDoc instanceof ze)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof He)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Jr){var n=void 0;return t.cause&&(n={code:Ur(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){go(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Jr(r,o,i,s||null)}else if("documentChange"in t){go(t.documentChange,"documentChange");var u=t.documentChange;go(u.document,"documentChange.name"),go(u.document.name,"documentChange.document.name"),go(u.document.updateTime,"documentChange.document.updateTime");var c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=new ze(c,l,{},void 0,u.document,function(t){return n.fromValue(t)});e=new Kr(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){go(t.documentDelete,"documentDelete");var f=t.documentDelete;go(f.document,"documentDelete.document"),c=this.fromName(f.document),l=f.readTime?this.fromVersion(f.readTime):St.forDeletedDoc(),h=new He(c,l),e=new Kr([],f.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){go(t.documentRemove,"documentRemove");var p=t.documentRemove;go(p.document,"documentRemove"),c=this.fromName(p.document),e=new Kr([],p.removedTargetIds||[],c,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));go(t.filter,"filter");var d=t.filter;go(d.targetId,"filter.targetId");var y=new fo(d.count||0);e=new Yr(d.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Zr.NoChange:"ADD"===t?Zr.Added:"REMOVE"===t?Zr.Removed:"CURRENT"===t?Zr.Current:"RESET"===t?Zr.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return St.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?St.MIN:e.readTime?this.fromVersion(e.readTime):St.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof _e)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ee)e={delete:this.toName(t.key)};else if(t instanceof we)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ce))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ve.NONE;if(t.update){go(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var i=this.fromDocumentMask(t.updateMask);return new we(r,o,i,n)}return new _e(r,o,n)}if(t.delete)return r=this.fromName(t.delete),new Ee(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ce(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return b(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ve.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ve.exists(t.exists):ve.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(St.MIN)&&(r=this.fromVersion(e));var o=null;return t.transformResults&&t.transformResults.length>0&&(o=t.transformResults.map(function(t){return n.fromValue(t)})),new me(r,o)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(b(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof io)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ao)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof so)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof uo)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=io.instance;else if("appendMissingElements"in t)n=new ao((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new so((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);b(r instanceof De,"NUMERIC_ADD transform requires a NumberValue"),n=new uo(r)}else v("Unknown transform proto: "+JSON.stringify(t));var o=lt.fromServerFormat(t.fieldPath);return new ye(o,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return b(1===e,"DocumentsTarget contained other than 1 document: "+e),Xn.atPath(this.fromQueryPath(t.documents[0])).toTarget()},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(b(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(b(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var o=this.toOrder(t.orderBy);o&&(e.structuredQuery.orderBy=o);var i=this.toInt32Value(t.limit);return null!==i&&(e.structuredQuery.limit=i),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];i.allDescendants?o=i.collectionId:e=e.child(i.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Xn(e,o,s,a,u,Zn.First,c,l).toTarget()},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Sn.Listen:return null;case Sn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Sn.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.target;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof er?e.toUnaryOrFieldFilter(t):v("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new ur(r,n)},t.prototype.toDirection=function(t){return po[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return sr.ASCENDING;case"DESCENDING":return sr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return yo[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return tr.EQUAL;case"GREATER_THAN":return tr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return tr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return tr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return tr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return tr.ARRAY_CONTAINS;case"IN":return tr.IN;case"ARRAY_CONTAINS_ANY":return tr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return lt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new cr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return er.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===tr.EQUAL){if(t.value.isEqual(Pe.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ae.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return er.create(e,tr.EQUAL,Pe.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return er.create(n,tr.EQUAL,Ae.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return lt.fromServerFormat(t)});return de.fromArray(e)},t}(),_o=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),wo=function(){function t(t){this.syncEngine=t,this.queries=new We(function(t){return t.canonicalId()}),this.onlineState=Rr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new _o,this.queries.set(e,r)),r.listeners.push(t),b(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return i.__generator(this,function(i){return n=!1,(r=this.queries.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var o=r[n],i=this.queries.get(o.query);if(i){for(var a=0,s=i.listeners;a<s.length;a++)s[a].onViewSnapshot(o)&&(e=!0);i.viewSnap=o}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,o=n.listeners;r<o.length;r++)o[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var o=0,i=r.listeners;o<i.length;o++)i[o].applyOnlineStateChange(t)&&(e=!0)}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),Co=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Rr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(b(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];o.type!==qr.Metadata&&e.push(o)}t=new Gr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var i=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),i=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),i=!0),this.snap=t,i},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Rr.Offline?(b(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Rr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Gr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Eo=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}return t.fromSnapshot=function(e,n){for(var r=Ft(),o=Ft(),i=0,a=n.docChanges;i<a.length;i++){var s=a[i];switch(s.type){case qr.Added:r=r.add(s.doc.key);break;case qr.Removed:o=o.add(s.doc.key)}}return new t(e,n.fromCache,r,o)},t}(),So=function(){return function(t){this.key=t}}(),To=function(){return function(t){this.key=t}}(),Io=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ft(),this.mutatedKeys=Ft(),this.documentSet=new Br(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Hr,o=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,a=o,s=!1,u=this.query.hasLimitToFirst()&&o.size===this.query.limit?o.last():null,c=this.query.hasLimitToLast()&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(t,e){var l=o.get(t),h=e instanceof ze?e:null;h&&(b(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:qr.Metadata,doc:h}),d=!0):n.shouldWaitForSyncedDocument(l,h)||(r.track({type:qr.Modified,doc:h}),d=!0,(u&&n.query.docComparator(h,u)>0||c&&n.query.docComparator(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:qr.Added,doc:h}),d=!0):l&&!h&&(r.track({type:qr.Removed,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),i=p?i.add(t):i.delete(t)):(a=a.delete(t),i=i.delete(t)))}),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var l=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(l.key),i=i.delete(l.key),r.track({type:qr.Removed,doc:l})}return b(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:i}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;b(!t.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case qr.Added:return 1;case qr.Modified:case qr.Metadata:return 2;case qr.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?zr.Synced:zr.Local,u=s!==this.syncState;return this.syncState=s,0!==i.length||u?{snapshot:new Gr(this.query,t.documentSet,o,i,t.mutatedKeys,s===zr.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Rr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Hr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return b(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ft(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new To(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new So(t))}),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Ft();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Gr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===zr.Local)},t}(),Oo=5,Ao=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Oo,this.backoff=new Or(this.asyncQueue,tt.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return i.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return i.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!Kn(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lr(e)}return!1},t}(),xo=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Do=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),No=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new We(function(t){return t.canonicalId()}),this.queriesByTarget={},this.limboTargetsByKey=new Tt(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new dr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=ue.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Rr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){b(null!==t,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o,a;return i.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(t.toTarget())];case 2:return o=i.sent(),a=this.sharedClientState.addLocalQueryTarget(o.targetId),[4,this.initializeViewAndComputeSnapshot(t,e=o.targetId,"current"===a)];case 3:n=i.sent(),this.isPrimary&&this.remoteStore.listen(o),i.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,o,a,s,u,c;return i.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return r=i.sent(),o=new Io(t,r.remoteKeys),a=o.computeDocChanges(r.documents),s=Qr.createSynthesizedTargetChangeForCurrentChange(e,n&&this.onlineState!==Rr.Offline),b(0===(u=o.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new xo(t,e,o),this.queryViewsByQuery.set(t,c),this.queriesByTarget[e]||(this.queriesByTarget[e]=[]),this.queriesByTarget[e].push(t),[2,u.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=r.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}})})},t.prototype.unlisten=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return i.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),(n=this.queriesByTarget[e.targetId]).length>1?(this.queriesByTarget[e.targetId]=n.filter(function(e){return!e.isEqual(t)}),this.queryViewsByQuery.delete(t),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseTarget(e.targetId,!1).then(function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupTarget(e.targetId)}).catch(Fn)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(e.targetId),[4,this.localStore.releaseTarget(e.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Ao(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),A(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?b(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Mr.RemoteStore||!this.isPrimary&&e===Mr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var o=r.view.applyOnlineStateChange(t);b(0===o.limboChanges.length,"OnlineState should not affect limbo documents."),o.snapshot&&n.push(o.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s,u=this;return i.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],o=(o=new Tt(ht.comparator)).insert(r,new He(r,St.forDeletedDoc())),a=Ft().add(r),s=new Wr(St.MIN,{},new xt(Y),o,a),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return[4,this.localStore.releaseTarget(t,!1).then(function(){return u.removeAndCleanupTarget(t,e)}).catch(Fn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r;return i.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=o.sent())?(y("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return o.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),o.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return o.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new E(C.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Tt(Y)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(b(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupTarget=function(t,e){var n=this;void 0===e&&(e=null),this.sharedClientState.removeLocalQueryTarget(t),b(this.queriesByTarget[t]&&0!==this.queriesByTarget[t].length,"There are no queries mapped to target id "+t);for(var r=0,o=this.queriesByTarget[t];r<o.length;r++){var i=o[r];this.queryViewsByQuery.delete(i),e&&this.syncEngineListener.onWatchError(i,e)}if(delete this.queriesByTarget[t],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(t);this.limboDocumentRefs.removeReferencesForId(t),a.forEach(function(t){n.limboDocumentRefs.containsKey(t)||n.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof So?(this.limboDocumentRefs.addReference(o.key,t),this.trackLimboChange(o)):o instanceof To?(y("SyncEngine","Document no longer in limbo: "+o.key),this.limboDocumentRefs.removeReference(o.key,t),this.limboDocumentRefs.containsKey(o.key)||this.removeLimboTarget(o.key)):v("Unknown limbo change: "+JSON.stringify(o))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){y("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Xn.atPath(e.path);this.limboResolutionsByTarget[n]=new Do(e),this.remoteStore.listen(new Tn(r.toTarget(),n,Sn.LimboResolution,at.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a=this;return i.__generator(this,function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.queryViewsByQuery.forEach(function(i,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?a.localStore.executeQuery(s.query,!1).then(function(t){return s.view.computeDocChanges(t.documents,e)}):e}).then(function(t){var o=s.view.applyChanges(t,!0===a.isPrimary,e&&e.targetChanges[s.targetId]);if(a.updateTrackedLimbos(s.targetId,o.limboChanges),o.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var i=Eo.fromSnapshot(s.targetId,o.snapshot);r.push(i)}}))}),[4,Promise.all(o)];case 1:return i.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return i.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){b(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o,a,s,u=this;return i.__generator(this,function(i){switch(i.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return i.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)this.remoteStore.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),O(this.queriesByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):s=s.then(function(){return u.removeAndCleanupTarget(t),u.localStore.releaseTarget(t,!0)}),u.remoteStore.unlisten(t)}),[4,s]);case 4:return i.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return i.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;O(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Tt(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o,a,s,u,c,l,h,f,p,d;return i.__generator(this,function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(s=void 0,(u=this.queriesByTarget[a=o[r]])&&0!==u.length?[4,this.localStore.releaseTarget(a,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.localStore.allocateTarget(u[0].toTarget())];case 3:s=i.sent(),c=0,l=u,i.label=4;case 4:return c<l.length?(b(!!(f=this.queryViewsByQuery.get(h=l[c])),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(f)]):[3,7];case 5:(p=i.sent()).snapshot&&n.push(p.snapshot),i.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return b(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(a)];case 9:return b(!!(d=i.sent()),"Target for id "+a+" not found"),[4,this.localStore.allocateTarget(d)];case 10:return s=i.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(d),a,!1)];case 11:i.sent(),i.label=12;case 12:e.push(s),i.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.synthesizeTargetToQuery=function(t){return new Xn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,Zn.First,t.startAt,t.endAt)},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return i.__awaiter(this,void 0,void 0,function(){var r,o;return i.__generator(this,function(i){switch(i.label){case 0:if(this.isPrimary)return y("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=i.sent(),o=Wr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,o)];case 3:return i.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(t,!0)];case 5:return i.sent(),this.removeAndCleanupTarget(t,n),[3,7];case 6:v("Unexpected target state: "+e),i.label=7;case 7:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s,u,c,l,h,f=this;return i.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(b(!this.queriesByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return b(!!(o=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(o)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(o),a.targetId,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return i.__generator(this,function(e){switch(e.label){case 0:return u.queriesByTarget[t]?[4,u.localStore.releaseTarget(t,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupTarget(t)}).catch(Fn)]:[2,"continue"];case 1:return e.sent(),[2]}})},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?[5,s(h=l[c])]:[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];if(e&&e.receivedDocument)return Ft().add(e.key);var n=Ft(),r=this.queriesByTarget[t];if(!r)return n;for(var o=0,i=r;o<i.length;o++){var a=i[o],s=this.queryViewsByQuery.get(a);b(!!s,"No query view found for "+a),n=n.unionWith(s.view.syncedDocuments)}return n},t}(),ko=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Po="SharedClientState",Ro="firestore_clients",Mo="firestore_mutations",jo="firestore_targets",Vo="firestore_online_state",Lo="firestore_sequence_number",Fo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,b(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var o=JSON.parse(r),i="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),a=void 0;return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(a=new E(o.error.code,o.error.message)),i?new t(e,n,o.state,a):(m(Po,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Uo=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,b(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new E(r.error.code,r.error.message)),o?new t(e,r.state,i):(m(Po,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=Bt(),a=0;o&&a<r.activeTargetIds.length;++a)o=Yn(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new t(e,i):(m(Po,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in Rr&&"string"==typeof n.clientId?new t(n.clientId,Rr[n.onlineState]):(m(Po,"Failed to parse online state: "+e),null)},t}(),zo=function(){function t(){this.activeTargetIds=Bt()}return t.prototype.addQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ho=function(){function t(e,n,r,o,i){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(C.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Lo+"_"+r,this.activeClients[this.localClientId]=new zo,this.clientStateKeyRe=new RegExp("^"+Ro+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Mo+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+jo+"_"+a+"_(\\d+)$"),this.onlineStateKey=Vo+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,function(){var t,e,n,r,o,a,s,u,c,l,h=this;return i.__generator(this,function(i){switch(i.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(o=this.getItem(this.toWebStorageClientStateKey(r)))&&(a=Bo.fromWebStorageEntry(r,o))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)this.handleWebStorageEvent(l[c]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Bt();return A(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Uo.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return y(Po,"READ",t,e),e},t.prototype.setItem=function(t,e){y(Po,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){y(Po,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(y(Po,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return i.__awaiter(e,void 0,void 0,function(){var e,n,r,o,a,s;return i.__generator(this,function(i){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(o=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(o)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(a=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(a)]}else t.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=at.INVALID;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(Po,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==at.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Fo(this.currentUser,t,e,n),o=this.toWebStorageMutationBatchKey(t);this.setItem(o,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:Rr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),o=new Uo(t,e,n);this.setItem(r,o.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return b(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ro+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return jo+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Mo+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return b(null!==n,"Cannot parse client state key '"+t+"'"),Bo.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);b(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Fo.fromWebStorageEntry(new ko(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);b(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Uo.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return qo.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(y(Po,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var o=this.getAllActiveQueryTargets(),a=[],s=[];return o.forEach(function(t){return i.__awaiter(n,void 0,void 0,function(){return i.__generator(this,function(e){return r.has(t)||a.push(t),[2]})})}),r.forEach(function(t){return i.__awaiter(n,void 0,void 0,function(){return i.__generator(this,function(e){return o.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(a,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Go=function(){function t(){this.localState=new zo,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new zo,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Wo=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Dn.withCacheSize(this.cacheSizeBytes)},t}(),Qo=function(){return function(){}}(),Ko=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=K.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ft,r=new ft,o=!1;return this.credentials.setChangeListener(function(i){o?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(i)}):(o=!0,e.initializePersistence(t,r,i).then(function(t){return e.initializeRest(i,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Wo?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new E(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Ln.buildStoragePrefix(this.databaseInfo),o=new bo(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return i.__awaiter(n,void 0,void 0,function(){var n,a;return i.__generator(this,function(i){switch(i.label){case 0:if(e.synchronizeTabs&&!Ho.isAvailable(this.platform))throw new E(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Ho(this.asyncQueue,this.platform,r,this.clientId,t):new Go,[4,Ln.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:o,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return a=i.sent(),this.persistence=a,[2,a.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=_r.createEagerPersistence(this.clientId),this.sharedClientState=new Go,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return y("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return i.__awaiter(n,void 0,void 0,function(){var n,o,a,s,u,c=this;return i.__generator(this,function(l){switch(l.label){case 0:return n=new fr,this.localStore=new mr(this.persistence,n,t),[4,this.localStore.start()];case 1:return l.sent(),e&&(this.lruScheduler=new Nn(e,this.asyncQueue,this.localStore)),o=this.platform.newConnectivityMonitor(),a=this.platform.newSerializer(this.databaseInfo.databaseId),s=new kr(this.asyncQueue,r,this.credentials,a),u=function(t){return c.syncEngine.applyOnlineStateChange(t,Mr.SharedClientState)},this.remoteStore=new ro(this.localStore,s,this.asyncQueue,function(t){return c.syncEngine.applyOnlineStateChange(t,Mr.RemoteStore)},o),this.syncEngine=new No(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new wo(this.syncEngine),[4,this.sharedClientState.start()];case 2:return l.sent(),[4,this.remoteStore.start()];case 3:return l.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return i.__awaiter(c,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 4:return l.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return i.__awaiter(c,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 5:return l.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),y("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return i.__awaiter(t,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ft;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var o=new Co(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ze)return t;if(t instanceof He)return null;throw new E(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return i.__awaiter(e,void 0,void 0,function(){var e,n,r;return i.__generator(this,function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=o.sent(),n=new Io(t,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}})})})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ft;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ft;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Yo=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Zo=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,o){if(!(t instanceof Array)||t.length<1)throw new E(C.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}();for(var n=0;n<t.length;++n)if(R("FieldPath","string",n,t[n]),0===t[n].length)throw new E(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(lt.keyField().canonicalString()),t}(),Jo=new RegExp("[~\\*/\\[\\]]"),Xo=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}}(),$o=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(ko.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),ti=function(){function t(t){var e=this;this.tokenListener=null,this.currentUser=ko.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),t.get().then(function(t){e.auth=t,e.tokenListener&&e.auth.addAuthTokenListener(e.tokenListener)},function(){}))}return t.prototype.getToken=function(){var t=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(C.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Xo(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t,"Received invalid UID: "+t),new ko(t)},t}(),ei=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ko.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),ni=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new ei(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ko.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ri(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}var oi=function(){function t(t){this._methodName=t}return t.delete=function(){return D("FieldValue.delete",arguments),ii.instance},t.serverTimestamp=function(){return D("FieldValue.serverTimestamp",arguments),ai.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayUnion",arguments,1),new si(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayRemove",arguments,1),new ui(t)},t.increment=function(t){return R("FieldValue.increment","number",1,t),N("FieldValue.increment",arguments,1),new ci(t)},t.prototype.isEqual=function(t){return this===t},t}(),ii=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e.instance=new e,e}(oi),ai=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e.instance=new e,e}(oi),si=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return i.__extends(e,t),e}(oi),ui=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return i.__extends(e,t),e}(oi),ci=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return i.__extends(e,t),e}(oi),li=S(oi,"Use FieldValue.<field>() instead."),hi=/^__.*__$/,fi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new we(t,this.data,this.fieldMask,e):new _e(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ce(t,this.fieldTransforms)),n},t}(),pi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new we(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Ce(t,this.fieldTransforms)),n},t}(),di=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t[t.ArrayArgument=4]="ArrayArgument",t}({});function yi(t){switch(t){case di.Set:case di.MergeSet:case di.Update:return!0;case di.Argument:case di.ArrayArgument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var mi=function(){function t(t,e,n,r,o,i){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===o&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=o||[],this.fieldMask=i||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(C.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(yi(this.dataSource)&&hi.test(t))throw this.createError('Document fields cannot begin and end with "__"')},t}(),gi=function(){return function(t,e){this.databaseId=t,this.key=e}}(),vi=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new mi(di.Set,t,lt.EMPTY_PATH);_i("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new fi(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new mi(di.MergeSet,t,lt.EMPTY_PATH);_i("Data must be an object, but it was:",r,e);var o,i,a=this.parseData(e,r);if(n){for(var s=new xt(lt.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Zo)h=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=Ci(t,l)}if(!r.contains(h))throw new E(C.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}o=de.fromSet(s),i=r.fieldTransforms.filter(function(t){return o.covers(t.field)})}else o=de.fromArray(r.fieldMask),i=r.fieldTransforms;return new fi(a,o,i)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new mi(di.Update,t,lt.EMPTY_PATH);_i("Data must be an object, but it was:",r,e);var o=new xt(lt.comparator),i=Ue.EMPTY;A(e,function(e,a){var s=Ci(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof ii)o=o.add(s);else{var c=n.parseData(a,u);null!=c&&(o=o.add(s),i=i.set(s,c))}});var a=de.fromSet(o);return new pi(i,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var o=new mi(di.Update,t,lt.EMPTY_PATH),i=[wi(t,e)],a=[n];if(r.length%2!=0)throw new E(C.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)i.push(wi(t,r[s])),a.push(r[s+1]);var u=new xt(lt.comparator),c=Ue.EMPTY;for(s=0;s<i.length;++s){var l=i[s],h=o.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof ii)u=u.add(l);else{var p=this.parseData(f,h);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=de.fromSet(u);return new pi(c,d,o.fieldTransforms)},t.prototype.parseQueryValue=function(t,e,n){void 0===n&&(n=!1);var r=new mi(n?di.ArrayArgument:di.Argument,t,lt.EMPTY_PATH),o=this.parseData(e,r);return b(null!=o,"Parsed data should not be null."),b(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),o},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=Ei(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(bi(t=this.runPreConverter(t,e)))return _i("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof oi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement&&e.dataSource!==di.ArrayArgument)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Tt(Y);return x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):A(t,function(t,o){var i=n.parseData(o,e.childContextForField(t));null!=i&&(r=r.insert(t,i))}),new Ue(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var a=this.parseData(i[o],e.childContextForArray(r));null==a&&(a=Ae.INSTANCE),n.push(a),r++}return new Be(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!yi(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof ii){if(e.dataSource!==di.MergeSet)throw e.dataSource===di.Update?(b(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof ai)e.fieldTransforms.push(new ye(e.path,io.instance));else if(t instanceof si){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ao(n);e.fieldTransforms.push(new ye(e.path,r))}else if(t instanceof ui){n=this.parseArrayTransformElements(t._methodName,t._elements);var o=new so(n);e.fieldTransforms.push(new ye(e.path,o))}else if(t instanceof ci){var i=this.parseQueryValue("FieldValue.increment",t._operand),a=new uo(i);e.fieldTransforms.push(new ye(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ae.INSTANCE;if("number"==typeof t)return Yn(t)?new ke(t):new Pe(t);if("boolean"==typeof t)return xe.of(t);if("string"==typeof t)return new Re(t);if(t instanceof Date)return new Me(Et.fromDate(t));if(t instanceof Et)return new Me(new Et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof oo)return new Fe(t);if(t instanceof et)return new Ve(t);if(t instanceof gi)return new Le(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var o=new mi(di.Argument,t,lt.EMPTY_PATH);return n.parseData(e,o.childContextForArray(r))})},t}();function bi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof oo||t instanceof et||t instanceof gi||t instanceof oi)}function _i(t,e,n){if(!bi(n)||!U(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function wi(t,e){if(e instanceof Zo)return e._internalPath;if("string"==typeof e)return Ci(t,e);throw new E(C.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ci(t,e){try{return function(t){if(t.search(Jo)>=0)throw new E(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Zo.bind.apply(Zo,i.__spreadArrays([void 0],t.split("."))))}catch(e){throw new E(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=Ei(r);throw new E(C.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Ei(t){return t instanceof Error?t.message:t.toString()}var Si="firestore.googleapis.com",Ti=!0,Ii=!0,Oi=!1,Ai=Dn.COLLECTION_DISABLED,xi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Si,this.ssl=Ti}else j("settings","non-empty string","host",t.host),this.host=t.host,V("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,Ti);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),V("settings","object","credentials",t.credentials),this.credentials=t.credentials,V("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,Ii),V("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Dn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ai&&t.cacheSizeBytes<Dn.MINIMUM_CACHE_SIZE_BYTES)throw new E(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Dn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}V("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Oi:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Di=function(){function t(e,n){var r=this;if(this._firebaseApp=null,this._queue=new dt,this.INTERNAL={delete:function(){return i.__awaiter(r,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var o=e;this._firebaseApp=o,this._databaseId=t.databaseIdFromApp(o),this._persistenceKey=o.name,this._credentials=new ti(n)}else{var a=e;if(!a.projectId)throw new E(C.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new it(a.projectId,a.database),this._persistenceKey="[DEFAULT]",this._credentials=new $o}this._settings=new xi({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(N("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),T(t,"persistence"))throw new E(C.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new xi(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new E(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new $o;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new ni(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=I(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Wo(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Ln.buildStoragePrefix(this.makeDatabaseInfo()),n=new ft;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return i.__awaiter(t,void 0,void 0,function(){var t;return i.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new E(C.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Ln.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),ri(t)?this.onSnapshotsInSyncInternal(t):(R("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Yo({next:function(){t.next&&t.next()},error:function(t){throw v("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Qo),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new rt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Ko(_.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new vi(function(e){if(e instanceof Pi){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new E(C.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new gi(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!T(e,"projectId"))throw new E(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(C.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new E(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return N("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Fi(ut.fromString(t),this)},t.prototype.doc=function(t){return N("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Pi.forPath(ut.fromString(t),this)},t.prototype.collectionGroup=function(t){if(N("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new E(C.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Vi(new Xn(ut.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return N("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Ni(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ki(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case f.DEBUG:return"debug";case f.ERROR:return"error";case f.SILENT:return"silent";default:return v("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(N("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(f.DEBUG);break;case"error":d(f.ERROR);break;case"silent":d(f.SILENT);break;default:throw new E(C.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Ni=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;N("Transaction.get",arguments,1);var n=zi("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof He)return new Mi(e._firestore,n._key,null,!1,!1,n._converter);if(r instanceof ze)return new Mi(e._firestore,n._key,r,!1,!1,n._converter);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=zi("Transaction.set",t,this._firestore);n=Ui("Transaction.set",n);var o=Gi(r._converter,e,"Transaction.set"),i=o[0],a=o[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,i,n.mergeFields):this._firestore._dataConverter.parseSetData(a,i);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return"string"==typeof e||e instanceof Zo?(k("Transaction.update",arguments,3),r=zi("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,i)):(N("Transaction.update",arguments,2),r=zi("Transaction.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,o),this},t.prototype.delete=function(t){N("Transaction.delete",arguments,1);var e=zi("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ki=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=zi("WriteBatch.set",t,this._firestore);n=Ui("WriteBatch.set",n);var o=Gi(r._converter,e,"WriteBatch.set"),i=o[0],a=o[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,i,n.mergeFields):this._firestore._dataConverter.parseSetData(a,i);return this._mutations=this._mutations.concat(s.toMutations(r._key,ve.NONE)),this},t.prototype.update=function(t,e,n){for(var r,o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Zo?(k("WriteBatch.update",arguments,3),r=zi("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,i)):(N("WriteBatch.update",arguments,2),r=zi("WriteBatch.update",t,this._firestore),o=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(o.toMutations(r._key,ve.exists(!0))),this},t.prototype.delete=function(t){N("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=zi("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ee(e._key,ve.NONE)),this},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Pi=function(){function t(t,e,n){this._key=t,this.firestore=e,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n,r){if(e.length%2!=0)throw new E(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fi(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(N("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new E(C.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ut.fromString(t);return new Fi(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)&&this._converter===e._converter},t.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2),e=Ui("DocumentReference.set",e);var n=Gi(this._converter,t,"DocumentReference.set"),r=n[0],o=n[1],i=e.merge||e.mergeFields?this.firestore._dataConverter.parseMergeData(o,r,e.mergeFields):this.firestore._dataConverter.parseSetData(o,r);return this._firestoreClient.write(i.toMutations(this._key,ve.NONE))},t.prototype.update=function(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"string"==typeof t||t instanceof Zo?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(N("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ve.exists(!0)))},t.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ee(this._key,ve.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||ri(t[o])||(z("DocumentReference.onSnapshot",r=t[o],["includeMetadataChanges"]),V("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++);var i={includeMetadataChanges:r.includeMetadataChanges};return ri(t[o])?n=t[o]:(R("DocumentReference.onSnapshot","function",o,t[o]),M("DocumentReference.onSnapshot","function",o+1,t[o+1]),M("DocumentReference.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new Yo({next:function(t){if(e.next){b(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Mi(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites,n._converter))}},error:r}),i=this._firestoreClient.listen(Xn.atPath(this._key.path),o,t);return function(){o.mute(),n._firestoreClient.unlisten(i)}},t.prototype.get=function(t){var e=this;return P("DocumentReference.get",arguments,0,1),qi("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Mi(e.firestore,e._key,t,!0,t instanceof ze&&t.hasLocalMutations,e._converter))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),!o.exists&&o.metadata.fromCache?e(new E(C.UNAVAILABLE,"Failed to get document because the client is offline.")):o.exists&&o.metadata.fromCache&&n&&"server"===n.source?e(new E(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(o)},error:e})},t.prototype.withConverter=function(e){return new t(this._key,this.firestore,e)},t}(),Ri=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Mi=function(){function t(t,e,n,r,o,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=o,this._converter=i}return t.prototype.data=function(t){if(P("DocumentSnapshot.data",arguments,0,1),t=Bi("DocumentSnapshot.data",t),this._document){if(this._converter){var e=new ji(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(e,t)}return this.toJSObject(this._document.data(),Ie.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},t.prototype.get=function(t,e){if(P("DocumentSnapshot.get",arguments,1,2),e=Bi("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(wi("DocumentSnapshot.get",t));if(null!==n)return this.toJSValue(n,Ie.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Pi(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ri(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))&&this._converter===e._converter},t.prototype.toJSObject=function(t,e){var n=this,r={};return t.forEach(function(t,o){r[t]=n.toJSValue(o,e)}),r},t.prototype.toJSValue=function(t,e){if(t instanceof Ue)return this.toJSObject(t,e);if(t instanceof Be)return this.toJSArray(t,e);if(t instanceof Le){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Pi(n,this._firestore,this._converter)}return t.value(e)},t.prototype.toJSArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.toJSValue(t,e)})},t}(),ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return b(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Mi),Vi=function(){function t(t,e,n){this._query=t,this.firestore=e,this._converter=n}return t.prototype.where=function(e,n,r){var o;N("Query.where",arguments,3),q("Query.where",3,r),function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new E(C.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function Query.where() for its "+W(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n);var i=wi("Query.where",e),a=tr.fromString(n);if(i.isKeyField()){if(a===tr.ARRAY_CONTAINS||a===tr.ARRAY_CONTAINS_ANY)throw new E(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===tr.IN){this.validateDisjunctiveFilterElements(r,a);for(var s=[],u=0,c=r;u<c.length;u++)s.push(this.parseDocumentIdValue(c[u]));o=new Be(s)}else o=this.parseDocumentIdValue(r)}else a!==tr.IN&&a!==tr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),o=this.firestore._dataConverter.parseQueryValue("Query.where",r,a===tr.IN);var l=er.create(i,a,o);return this.validateNewFilter(l),new t(this._query.addFilter(l),this.firestore,this._converter)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=sr.ASCENDING;else{if("desc"!==n)throw new E(C.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=sr.DESCENDING}if(null!==this._query.startAt)throw new E(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var o=wi("Query.orderBy",e),i=new cr(o,r);return this.validateNewOrderBy(i),new t(this._query.addOrderBy(i),this.firestore,this._converter)},t.prototype.limit=function(e){return N("Query.limit",arguments,1),R("Query.limit","number",1,e),G("Query.limit",1,e),new t(this._query.withLimitToFirst(e),this.firestore,this._converter)},t.prototype.limitToLast=function(e){return N("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(this._query.withLimitToLast(e),this.firestore,this._converter)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var o=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(o),this.firestore,this._converter)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var o=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(o),this.firestore,this._converter)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var o=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(o),this.firestore,this._converter)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var o=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(o),this.firestore,this._converter)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.withConverter=function(e){return new t(this._query,this.firestore,e)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(q(t,1,e),e instanceof Mi){if(n.length>0)throw new E(C.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var o=e;if(!o.exists)throw new E(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,o._document,r)}var i=[e].concat(n);return this.boundFromFields(t,i,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],o=0,i=this._query.orderBy;o<i.length;o++){var a=i[o];if(a.field.isKeyField())r.push(new Le(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof je)throw new E(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new E(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new ur(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(C.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var o=[],i=0;i<e.length;i++){var a=e[i];if(r[i].field.isKeyField()){if("string"!=typeof a)throw new E(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ut.fromString(a));if(!ht.isDocumentKey(s))throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ht(s);o.push(new Le(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);o.push(c)}}return new ur(o,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("Query.onSnapshot",arguments,1,4);var n,r={},o=0;return"object"!=typeof t[o]||ri(t[o])||(z("Query.onSnapshot",r=t[o],["includeMetadataChanges"]),V("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),o++),ri(t[o])?n=t[o]:(R("Query.onSnapshot","function",o,t[o]),M("Query.onSnapshot","function",o+1,t[o+1]),M("Query.onSnapshot","function",o+2,t[o+2]),n={next:t[o],error:t[o+1],complete:t[o+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var o=new Yo({next:function(t){e.next&&e.next(new Li(n.firestore,n._query,t,n._converter))},error:r}),i=this.firestore.ensureClientConfigured(),a=i.listen(this._query,o,t);return function(){o.mute(),i.unlisten(a)}},t.prototype.validateHasExplicitOrderByForLimitToLast=function(t){if(t.hasLimitToLast()&&0===t.explicitOrderBy.length)throw new E(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return P("Query.get",arguments,0,1),qi("Query.get",t),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Li(e.firestore,e._query,t,e._converter))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(o){r(),o.metadata.fromCache&&n&&"server"===n.source?e(new E(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(o)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(ut.fromString(t));if(!ht.isDocumentKey(e))throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Le(this.firestore._databaseId,new ht(e))}if(t instanceof Pi)return new Le(this.firestore._databaseId,t._key);throw new E(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new E(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new E(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new E(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new E(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof er){var e=[tr.ARRAY_CONTAINS,tr.ARRAY_CONTAINS_ANY],n=[tr.IN,tr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,o=n.indexOf(t.op)>=0;if(t.isInequality()){var i=this._query.getInequalityFilterField();if(null!==i&&!i.isEqual(t.field))throw new E(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(o||r){var s=null;if(o&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw new E(C.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Li=function(){function t(t,e,n,r){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._converter=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ri(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Vi(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),V("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n,r){if(n.oldDocs.isEmpty()){var o,i=0;return n.docChanges.map(function(e){var a=new ji(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),r);return b(e.type===qr.Added,"Invalid event type for first snapshot"),b(!o||n.query.docComparator(o,e.doc)<0,"Got added events in wrong order"),o=e.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}var a=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==qr.Metadata}).map(function(e){var o=new ji(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),r),i=-1,s=-1;return e.type!==qr.Added&&(b((i=a.indexOf(e.doc.key))>=0,"Index for document not found"),a=a.delete(e.doc.key)),e.type!==qr.Removed&&(s=(a=a.add(e.doc)).indexOf(e.doc.key)),{type:Hi(e.type),doc:o,oldIndex:i,newIndex:s}})}(this._firestore,e,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)&&this._converter===e._converter},t.prototype.convertToDocumentImpl=function(t){return new ji(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key),this._converter)},t}();i.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Li.prototype.docChanges,t,{get:function(){return function(){throw new E(C.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Fi=function(t){function e(e,n,r){var o=t.call(this,Xn.atPath(e),n,r)||this;if(o._path=e,e.length%2!=1)throw new E(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return o}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Pi(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.newId()),R("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(C.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ut.fromString(t);return Pi.forPath(this._query.path.child(e),this.firestore,this._converter)},e.prototype.add=function(t){N("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e.prototype.withConverter=function(t){return new e(this._path,this.firestore,t)},e}(Vi);function Ui(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),V(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,o){if(!(r instanceof Array))throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var i=0;i<r.length;++i)if(!o(r[i]))throw new E(C.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+i+" was: "+B(r[i]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Zo}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(C.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Bi(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function qi(t,e){M(t,"object",1,e),e&&(z(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function zi(t,e,n){if(e instanceof Pi){if(e.firestore!==n)throw new E(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function Hi(t){switch(t){case qr.Added:return"added";case qr.Modified:case qr.Metadata:return"modified";case qr.Removed:return"removed";default:return v("Unknown change type: "+t)}}function Gi(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var Wi=S(Di,"Use firebase.firestore() instead."),Qi=S(Ni,"Use firebase.firestore().runTransaction() instead."),Ki=S(ki,"Use firebase.firestore().batch() instead."),Yi=S(Pi,"Use firebase.firestore().doc() instead."),Zi=S(Mi),Ji=S(ji),Xi=S(Vi),$i=S(Li),ta=S(Fi,"Use firebase.firestore().collection() instead."),ea={Firestore:Wi,GeoPoint:oo,Timestamp:Et,Blob:nt,Transaction:Qi,WriteBatch:Ki,DocumentReference:Yi,DocumentSnapshot:Zi,Query:Xi,QueryDocumentSnapshot:Ji,QuerySnapshot:$i,CollectionReference:ta,FieldPath:Zo,FieldValue:li,setLogLevel:Di.setLogLevel,CACHE_SIZE_UNLIMITED:Ai},na=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),ra=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),oa=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ia="Connection",aa={BatchGetDocuments:"batchGet",Commit:"commit"},sa="gl-js/ fire/"+l,ua=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=sa},t.prototype.invokeRPC=function(t,e,n){var r=this,o=this.makeUrl(t);return new Promise(function(a,s){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();y(ia,"XHR received:",JSON.stringify(e)),a(e);break;case c.ErrorCode.TIMEOUT:y(ia,'RPC "'+t+'" timed out'),s(new E(C.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(y(ia,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var o=(i=r.status.toLowerCase().replace("_","-"),Object.values(C).indexOf(i)>=0?i:C.UNKNOWN);s(new E(o,r.message))}else s(new E(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else y(ia,'RPC "'+t+'" failed'),s(new E(C.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{y(ia,'RPC "'+t+'" completed.')}var i});var l=i.__assign({},e);delete l.database;var h=JSON.stringify(l);y(ia,"XHR sending: ",o+" "+h);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),u.send(o,"POST",h,f,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),o={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(o.initMessageHeaders,e),s.isReactNative()||(o.httpHeadersOverwriteParam="$httpHeaders");var i=n.join("");y(ia,"Creating WebChannel: "+i+" "+o);var a=r.createWebChannel(i,o),u=!1,l=!1,h=new oa({sendFn:function(t){l?y(ia,"Not sending because WebChannel is closed:",t):(u||(y(ia,"Opening WebChannel transport."),a.open(),u=!0),y(ia,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(c.WebChannel.EventType.OPEN,function(){l||y(ia,"WebChannel transport opened.")}),f(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,y(ia,"WebChannel transport closed"),h.callOnClose())}),f(c.WebChannel.EventType.ERROR,function(t){l||(l=!0,y(ia,"WebChannel transport errored:",t),h.callOnClose(new E(C.UNAVAILABLE,"The operation could not be completed")))}),f(c.WebChannel.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];b(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){y(ia,"WebChannel received error:",r);var o=r.status,i=function(t){var e=Vr[o];if(void 0!==e)return Fr(e)}(),s=r.message;void 0===i&&(i=C.INTERNAL,s="Unknown error status: "+o+" with message "+r.message),l=!0,h.callOnClose(new E(i,s)),a.close()}else y(ia,"WebChannel received:",n),h.callOnMessage(n)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=aa[t];return b(void 0!==e,"Unknown REST mapping for: "+t),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+e},t}();_.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new ua(t))},t.prototype.newConnectivityMonitor=function(){return ra.isAvailable()?new ra:new na},t.prototype.newSerializer=function(t){return new bo(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var ca="@firebase/firestore",la="1.9.0";function ha(t){t.INTERNAL.registerComponent(new u.Component("firestore",function(t){var e=t.getProvider("app").getImmediate();return new Di(e,t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(function(t){b(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(ea))),t.registerVersion(ca,la)}ha(o),e.registerFirestore=ha},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("iLxQ"),o=n("DKTb"),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),o=n("L/V9"),i=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return o}),r.prototype=Object.create(Error.prototype);var o=r},CcnG:function(t,e,n){"use strict";n.r(e);var r=n("mrSG"),o=n("pugT"),i=n("K9Ia"),a=n("6blF"),s=n("nkY7"),u=n("Zn8D"),c=n("IUTb"),l=n("S1nX");function h(t){for(var e in t)if(t[e]===h)return e;throw Error("Could not find renamed property on target object.")}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}n.d(e,"\u0275angular_packages_core_core_t",function(){return Xd}),n.d(e,"\u0275angular_packages_core_core_q",function(){return Yd}),n.d(e,"\u0275angular_packages_core_core_r",function(){return Zd}),n.d(e,"\u0275angular_packages_core_core_s",function(){return Jd}),n.d(e,"\u0275angular_packages_core_core_h",function(){return $f}),n.d(e,"\u0275angular_packages_core_core_o",function(){return xd}),n.d(e,"\u0275angular_packages_core_core_p",function(){return jd}),n.d(e,"\u0275angular_packages_core_core_n",function(){return vd}),n.d(e,"\u0275angular_packages_core_core_m",function(){return gd}),n.d(e,"\u0275angular_packages_core_core_c",function(){return ys}),n.d(e,"\u0275angular_packages_core_core_d",function(){return Pe}),n.d(e,"\u0275angular_packages_core_core_e",function(){return Qf}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Mf}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Bf}),n.d(e,"\u0275angular_packages_core_core_l",function(){return sh}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Op}),n.d(e,"\u0275angular_packages_core_core_w",function(){return Ep}),n.d(e,"\u0275angular_packages_core_core_v",function(){return Cp}),n.d(e,"\u0275angular_packages_core_core_z",function(){return Ip}),n.d(e,"\u0275angular_packages_core_core_x",function(){return Sp}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Tp}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return Dn}),n.d(e,"\u0275angular_packages_core_core_bj",function(){return y}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return $e}),n.d(e,"\u0275angular_packages_core_core_be",function(){return en}),n.d(e,"\u0275angular_packages_core_core_bf",function(){return bn}),n.d(e,"\u0275angular_packages_core_core_bi",function(){return ao}),n.d(e,"\u0275angular_packages_core_core_bm",function(){return $t}),n.d(e,"\u0275angular_packages_core_core_i",function(){return pu}),n.d(e,"\u0275angular_packages_core_core_j",function(){return du}),n.d(e,"\u0275angular_packages_core_core_k",function(){return yu}),n.d(e,"\u0275angular_packages_core_core_a",function(){return N}),n.d(e,"\u0275angular_packages_core_core_b",function(){return k}),n.d(e,"\u0275angular_packages_core_core_bk",function(){return h}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Qm}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return cy}),n.d(e,"createPlatform",function(){return Kp}),n.d(e,"assertPlatform",function(){return Zp}),n.d(e,"destroyPlatform",function(){return Jp}),n.d(e,"getPlatform",function(){return Xp}),n.d(e,"PlatformRef",function(){return $p}),n.d(e,"ApplicationRef",function(){return ed}),n.d(e,"createPlatformFactory",function(){return Yp}),n.d(e,"NgProbeToken",function(){return Qp}),n.d(e,"enableProdMode",function(){return qu}),n.d(e,"isDevMode",function(){return Bu}),n.d(e,"APP_ID",function(){return Xf}),n.d(e,"PACKAGE_ROOT_URL",function(){return ip}),n.d(e,"PLATFORM_INITIALIZER",function(){return np}),n.d(e,"PLATFORM_ID",function(){return rp}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return op}),n.d(e,"APP_INITIALIZER",function(){return Zf}),n.d(e,"ApplicationInitStatus",function(){return Jf}),n.d(e,"DebugElement",function(){return Ad}),n.d(e,"DebugNode",function(){return Od}),n.d(e,"asNativeElements",function(){return bd}),n.d(e,"getDebugNode",function(){return Td}),n.d(e,"Testability",function(){return Up}),n.d(e,"TestabilityRegistry",function(){return Bp}),n.d(e,"setTestabilityGetter",function(){return qp}),n.d(e,"TRANSLATIONS",function(){return Wd}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Qd}),n.d(e,"LOCALE_ID",function(){return Gd}),n.d(e,"MissingTranslationStrategy",function(){return Kd}),n.d(e,"ApplicationModule",function(){return $d}),n.d(e,"wtfCreateScope",function(){return xp}),n.d(e,"wtfLeave",function(){return Dp}),n.d(e,"wtfStartTimeRange",function(){return Np}),n.d(e,"wtfEndTimeRange",function(){return kp}),n.d(e,"Type",function(){return hh}),n.d(e,"EventEmitter",function(){return gl}),n.d(e,"ErrorHandler",function(){return Of}),n.d(e,"Sanitizer",function(){return xu}),n.d(e,"SecurityContext",function(){return Au}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return P}),n.d(e,"Attribute",function(){return R}),n.d(e,"ContentChild",function(){return V}),n.d(e,"ContentChildren",function(){return j}),n.d(e,"Query",function(){return M}),n.d(e,"ViewChild",function(){return F}),n.d(e,"ViewChildren",function(){return L}),n.d(e,"Component",function(){return Gh}),n.d(e,"Directive",function(){return Hh}),n.d(e,"HostBinding",function(){return Zh}),n.d(e,"HostListener",function(){return Jh}),n.d(e,"Input",function(){return Kh}),n.d(e,"Output",function(){return Yh}),n.d(e,"Pipe",function(){return Wh}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return uf}),n.d(e,"NO_ERRORS_SCHEMA",function(){return cf}),n.d(e,"NgModule",function(){return lf}),n.d(e,"ViewEncapsulation",function(){return it}),n.d(e,"Version",function(){return Du}),n.d(e,"VERSION",function(){return Nu}),n.d(e,"defineInjectable",function(){return w}),n.d(e,"defineInjector",function(){return C}),n.d(e,"forwardRef",function(){return $}),n.d(e,"resolveForwardRef",function(){return tt}),n.d(e,"Injectable",function(){return vf}),n.d(e,"INJECTOR",function(){return ds}),n.d(e,"Injector",function(){return ms}),n.d(e,"inject",function(){return Re}),n.d(e,"\u0275inject",function(){return Re}),n.d(e,"InjectFlags",function(){return xe}),n.d(e,"ReflectiveInjector",function(){return Wf}),n.d(e,"createInjector",function(){return Vs}),n.d(e,"ResolvedReflectiveFactory",function(){return Lf}),n.d(e,"ReflectiveKey",function(){return kf}),n.d(e,"InjectionToken",function(){return T}),n.d(e,"Inject",function(){return Se}),n.d(e,"Optional",function(){return Te}),n.d(e,"Self",function(){return Ie}),n.d(e,"SkipSelf",function(){return Oe}),n.d(e,"Host",function(){return Ae}),n.d(e,"NgZone",function(){return Pp}),n.d(e,"\u0275NoopNgZone",function(){return Fp}),n.d(e,"RenderComponentType",function(){return bu}),n.d(e,"Renderer",function(){return wu}),n.d(e,"Renderer2",function(){return Tu}),n.d(e,"RendererFactory2",function(){return Eu}),n.d(e,"RendererStyleFlags2",function(){return Su}),n.d(e,"RootRenderer",function(){return Cu}),n.d(e,"COMPILER_OPTIONS",function(){return _p}),n.d(e,"Compiler",function(){return bp}),n.d(e,"CompilerFactory",function(){return wp}),n.d(e,"ModuleWithComponentFactories",function(){return sp}),n.d(e,"ComponentFactory",function(){return $s}),n.d(e,"\u0275ComponentFactory",function(){return $s}),n.d(e,"ComponentRef",function(){return Xs}),n.d(e,"ComponentFactoryResolver",function(){return au}),n.d(e,"ElementRef",function(){return mu}),n.d(e,"NgModuleFactory",function(){return lu}),n.d(e,"NgModuleRef",function(){return cu}),n.d(e,"NgModuleFactoryLoader",function(){return rh}),n.d(e,"getModuleFactory",function(){return ch}),n.d(e,"QueryList",function(){return rd}),n.d(e,"SystemJsNgModuleLoader",function(){return ad}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return od}),n.d(e,"TemplateRef",function(){return vl}),n.d(e,"ViewContainerRef",function(){return ud}),n.d(e,"EmbeddedViewRef",function(){return yd}),n.d(e,"ViewRef",function(){return dd}),n.d(e,"ChangeDetectionStrategy",function(){return U}),n.d(e,"ChangeDetectorRef",function(){return hd}),n.d(e,"DefaultIterableDiffer",function(){return Nd}),n.d(e,"IterableDiffers",function(){return Fd}),n.d(e,"KeyValueDiffers",function(){return Ud}),n.d(e,"SimpleChange",function(){return fr}),n.d(e,"WrappedValue",function(){return hr}),n.d(e,"platformCore",function(){return Hd}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Wp}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return tp}),n.d(e,"\u0275defaultIterableDiffers",function(){return qd}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return zd}),n.d(e,"\u0275devModeEqual",function(){return lr}),n.d(e,"\u0275isListLikeIterable",function(){return pr}),n.d(e,"\u0275ChangeDetectorStatus",function(){return B}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return q}),n.d(e,"\u0275Console",function(){return ap}),n.d(e,"\u0275getInjectableDef",function(){return E}),n.d(e,"\u0275setCurrentInjector",function(){return Ne}),n.d(e,"\u0275APP_ROOT",function(){return Ns}),n.d(e,"\u0275ivyEnabled",function(){return ey}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return su}),n.d(e,"\u0275resolveComponentResources",function(){return et}),n.d(e,"\u0275ReflectionCapabilities",function(){return mh}),n.d(e,"\u0275RenderDebugInfo",function(){return _u}),n.d(e,"\u0275_sanitizeHtml",function(){return lc}),n.d(e,"\u0275_sanitizeStyle",function(){return Kl}),n.d(e,"\u0275_sanitizeUrl",function(){return Wu}),n.d(e,"\u0275global",function(){return G}),n.d(e,"\u0275looseIdentical",function(){return Z}),n.d(e,"\u0275stringify",function(){return J}),n.d(e,"\u0275makeDecorator",function(){return x}),n.d(e,"\u0275isObservable",function(){return Yf}),n.d(e,"\u0275isPromise",function(){return Kf}),n.d(e,"\u0275clearOverrides",function(){return xv}),n.d(e,"\u0275initServicesIfNeeded",function(){return Hg}),n.d(e,"\u0275overrideComponentView",function(){return Av}),n.d(e,"\u0275overrideProvider",function(){return Ov}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return tg}),n.d(e,"\u0275defineBase",function(){return dt}),n.d(e,"\u0275defineComponent",function(){return ct}),n.d(e,"\u0275defineDirective",function(){return yt}),n.d(e,"\u0275definePipe",function(){return mt}),n.d(e,"\u0275defineNgModule",function(){return ft}),n.d(e,"\u0275detectChanges",function(){return va}),n.d(e,"\u0275renderComponent",function(){return Xa}),n.d(e,"\u0275Render3ComponentFactory",function(){return Vu}),n.d(e,"\u0275Render3ComponentRef",function(){return Lu}),n.d(e,"\u0275directiveInject",function(){return La}),n.d(e,"\u0275injectAttribute",function(){return Fa}),n.d(e,"\u0275getFactoryOf",function(){return Fn}),n.d(e,"\u0275getInheritedFactory",function(){return Un}),n.d(e,"\u0275templateRefExtractor",function(){return Vl}),n.d(e,"\u0275ProvidersFeature",function(){return Js}),n.d(e,"\u0275InheritDefinitionFeature",function(){return is}),n.d(e,"\u0275NgOnChangesFeature",function(){return us}),n.d(e,"\u0275LifecycleHooksFeature",function(){return ns}),n.d(e,"\u0275Render3NgModuleRef",function(){return Zc}),n.d(e,"\u0275markDirty",function(){return Ca}),n.d(e,"\u0275NgModuleFactory",function(){return Jc}),n.d(e,"\u0275NO_CHANGE",function(){return mr}),n.d(e,"\u0275container",function(){return ia}),n.d(e,"\u0275nextContext",function(){return di}),n.d(e,"\u0275elementStart",function(){return Si}),n.d(e,"\u0275namespaceHTML",function(){return _i}),n.d(e,"\u0275namespaceMathML",function(){return bi}),n.d(e,"\u0275namespaceSVG",function(){return vi}),n.d(e,"\u0275element",function(){return wi}),n.d(e,"\u0275listener",function(){return Ni}),n.d(e,"\u0275text",function(){return Qi}),n.d(e,"\u0275embeddedViewStart",function(){return ca}),n.d(e,"\u0275query",function(){return Ml}),n.d(e,"\u0275registerContentQuery",function(){return Ua}),n.d(e,"\u0275projection",function(){return pa}),n.d(e,"\u0275bind",function(){return Ea}),n.d(e,"\u0275interpolation1",function(){return Ia}),n.d(e,"\u0275interpolation2",function(){return Oa}),n.d(e,"\u0275interpolation3",function(){return Aa}),n.d(e,"\u0275interpolation4",function(){return xa}),n.d(e,"\u0275interpolation5",function(){return Da}),n.d(e,"\u0275interpolation6",function(){return Na}),n.d(e,"\u0275interpolation7",function(){return ka}),n.d(e,"\u0275interpolation8",function(){return Pa}),n.d(e,"\u0275interpolationV",function(){return Ta}),n.d(e,"\u0275pipeBind1",function(){return ll}),n.d(e,"\u0275pipeBind2",function(){return hl}),n.d(e,"\u0275pipeBind3",function(){return fl}),n.d(e,"\u0275pipeBind4",function(){return pl}),n.d(e,"\u0275pipeBindV",function(){return dl}),n.d(e,"\u0275pureFunction0",function(){return $c}),n.d(e,"\u0275pureFunction1",function(){return tl}),n.d(e,"\u0275pureFunction2",function(){return el}),n.d(e,"\u0275pureFunction3",function(){return nl}),n.d(e,"\u0275pureFunction4",function(){return rl}),n.d(e,"\u0275pureFunction5",function(){return ol}),n.d(e,"\u0275pureFunction6",function(){return il}),n.d(e,"\u0275pureFunction7",function(){return al}),n.d(e,"\u0275pureFunction8",function(){return sl}),n.d(e,"\u0275pureFunctionV",function(){return ul}),n.d(e,"\u0275getCurrentView",function(){return za}),n.d(e,"\u0275getHostElement",function(){return rr}),n.d(e,"\u0275restoreView",function(){return tn}),n.d(e,"\u0275containerRefreshStart",function(){return sa}),n.d(e,"\u0275containerRefreshEnd",function(){return ua}),n.d(e,"\u0275queryRefresh",function(){return jl}),n.d(e,"\u0275loadQueryList",function(){return ja}),n.d(e,"\u0275elementEnd",function(){return ki}),n.d(e,"\u0275elementProperty",function(){return Ri}),n.d(e,"\u0275componentHostSyntheticProperty",function(){return Mi}),n.d(e,"\u0275projectionDef",function(){return ha}),n.d(e,"\u0275reference",function(){return Ma}),n.d(e,"\u0275enableBindings",function(){return Je}),n.d(e,"\u0275disableBindings",function(){return Xe}),n.d(e,"\u0275allocHostVars",function(){return Sa}),n.d(e,"\u0275elementAttribute",function(){return Pi}),n.d(e,"\u0275elementContainerStart",function(){return Ci}),n.d(e,"\u0275elementContainerEnd",function(){return Ei}),n.d(e,"\u0275elementStyling",function(){return Bi}),n.d(e,"\u0275elementHostAttrs",function(){return qi}),n.d(e,"\u0275elementStylingMap",function(){return Wi}),n.d(e,"\u0275elementStyleProp",function(){return Hi}),n.d(e,"\u0275elementStylingApply",function(){return zi}),n.d(e,"\u0275elementClassProp",function(){return Gi}),n.d(e,"\u0275textBinding",function(){return Ki}),n.d(e,"\u0275template",function(){return oa}),n.d(e,"\u0275embeddedViewEnd",function(){return la}),n.d(e,"\u0275store",function(){return Ra}),n.d(e,"\u0275load",function(){return Va}),n.d(e,"\u0275pipe",function(){return cl}),n.d(e,"\u0275whenRendered",function(){return rs}),n.d(e,"\u0275i18n",function(){return Lc}),n.d(e,"\u0275i18nAttributes",function(){return Fc}),n.d(e,"\u0275i18nExp",function(){return qc}),n.d(e,"\u0275i18nStart",function(){return kc}),n.d(e,"\u0275i18nEnd",function(){return Mc}),n.d(e,"\u0275i18nApply",function(){return zc}),n.d(e,"\u0275i18nPostprocess",function(){return Rc}),n.d(e,"\u0275setClassMetadata",function(){return Xc}),n.d(e,"\u0275compileComponent",function(){return jh}),n.d(e,"\u0275compileDirective",function(){return Vh}),n.d(e,"\u0275compileNgModule",function(){return Oh}),n.d(e,"\u0275compileNgModuleDefs",function(){return Ah}),n.d(e,"\u0275patchComponentDefWithScope",function(){return Nh}),n.d(e,"\u0275resetCompiledComponents",function(){return xh}),n.d(e,"\u0275compilePipe",function(){return zh}),n.d(e,"\u0275sanitizeHtml",function(){return Yl}),n.d(e,"\u0275sanitizeStyle",function(){return Zl}),n.d(e,"\u0275defaultStyleSanitizer",function(){return th}),n.d(e,"\u0275sanitizeScript",function(){return $l}),n.d(e,"\u0275sanitizeUrl",function(){return Jl}),n.d(e,"\u0275sanitizeResourceUrl",function(){return Xl}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return Ul}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return Bl}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return ql}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return zl}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return Hl}),n.d(e,"\u0275getLContext",function(){return Bn}),n.d(e,"\u0275bindPlayerFactory",function(){return io}),n.d(e,"\u0275addPlayer",function(){return Wa}),n.d(e,"\u0275getPlayers",function(){return Qa}),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",function(){return Gp}),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Xh}),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return $h}),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return tf}),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return hf}),n.d(e,"\u0275getDebugNode__POST_R3__",function(){return Sd}),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return bf}),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return ty}),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return fd}),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return hp}),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return pp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return yp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return gp}),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return gu}),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return bl}),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return cd}),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Iu}),n.d(e,"\u0275getModuleFactory__POST_R3__",function(){return uh}),n.d(e,"\u0275publishGlobalUtil",function(){return Ja}),n.d(e,"\u0275publishDefaultGlobalUtils",function(){return Za}),n.d(e,"\u0275SWITCH_INJECTOR_FACTORY__POST_R3__",function(){return gs}),n.d(e,"\u0275registerModuleFactory",function(){return ih}),n.d(e,"\u0275EMPTY_ARRAY",function(){return Jy}),n.d(e,"\u0275EMPTY_MAP",function(){return Xy}),n.d(e,"\u0275and",function(){return $y}),n.d(e,"\u0275ccf",function(){return bm}),n.d(e,"\u0275cmf",function(){return Dv}),n.d(e,"\u0275crt",function(){return _y}),n.d(e,"\u0275did",function(){return Hm}),n.d(e,"\u0275eld",function(){return tm}),n.d(e,"\u0275elementEventFullName",function(){return Ny}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return _m}),n.d(e,"\u0275inlineInterpolate",function(){return Yy}),n.d(e,"\u0275interpolate",function(){return Ky}),n.d(e,"\u0275mod",function(){return lm}),n.d(e,"\u0275mpd",function(){return cm}),n.d(e,"\u0275ncd",function(){return fg}),n.d(e,"\u0275nov",function(){return Nm}),n.d(e,"\u0275pid",function(){return Gm}),n.d(e,"\u0275prd",function(){return Wm}),n.d(e,"\u0275pad",function(){return yg}),n.d(e,"\u0275pod",function(){return mg}),n.d(e,"\u0275ppd",function(){return dg}),n.d(e,"\u0275qud",function(){return sg}),n.d(e,"\u0275ted",function(){return vg}),n.d(e,"\u0275unv",function(){return gy}),n.d(e,"\u0275vid",function(){return wg});var p=h({ngComponentDef:h}),d=h({ngDirectiveDef:h}),y=h({ngInjectableDef:h}),m=h({ngInjectorDef:h}),g=h({ngPipeDef:h}),v=h({ngModuleDef:h}),b=h({ngBaseDef:h}),_=h({__NG_ELEMENT_ID__:h});function w(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return t&&t.hasOwnProperty(y)?t[y]:null}function S(t){return t&&t.hasOwnProperty(m)?t[m]:null}var T=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?w({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),I="__annotations__",O="__parameters__",A="__prop__metadata__";function x(t,e,n,o,i){var a=D(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.__spread)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t){return i&&i.apply(void 0,Object(r.__spread)([t],e)),(t.hasOwnProperty(I)?t[I]:Object.defineProperty(t,I,{value:[]})[I]).push(u),o&&o(t),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function D(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var o=t.apply(void 0,Object(r.__spread)(e));for(var i in o)this[i]=o[i]}}}function N(t,e,n){var o=D(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return o.apply(this,e),this;var a=new((t=i).bind.apply(t,Object(r.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(O)?t[O]:Object.defineProperty(t,O,{value:[]})[O];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function k(t,e,n,o){var i=D(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return i.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var i=t.constructor,a=i.hasOwnProperty(A)?i[A]:Object.defineProperty(i,A,{value:{}})[A];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),o&&o.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var P=new T("AnalyzeForEntryComponents"),R=N("Attribute",function(t){return{attributeName:t}}),M=function(){return function(){}}(),j=k("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},M),V=k("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},M),L=k("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},M),F=k("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},M),U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),B=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function q(t){return null==t||t===U.Default}var z="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global||z||H,W=Promise.resolve(0),Q=null;function K(){if(!Q){var t=G.Symbol;if(t&&t.iterator)Q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Q=r)}}return Q}function Y(t){"undefined"==typeof Zone?W.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Z(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function J(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(J).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var X=h({__forward_ref__:h});function $(t){return t.__forward_ref__=$,t.toString=function(){return J(this())},t}function tt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(X)&&e.__forward_ref__===$?e():t}function et(t){var e=[],n=new Map;function r(r){var o=n.get(r);if(!o){var i=t(r);n.set(r,o=i.then(ot)),e.push(o)}return o}return nt.forEach(function(t){t.templateUrl&&r(t.templateUrl).then(function(e){t.template=e,t.templateUrl=void 0});var e=t.styleUrls,n=t.styles||(t.styles=[]),o=t.styles.length;e&&e.forEach(function(i,a){n.push(""),r(i).then(function(r){n[o+a]=r,e.splice(e.indexOf(i),1),0==e.length&&(t.styleUrls=void 0)})})}),nt.clear(),Promise.all(e).then(function(){return null})}var nt=new Set;function rt(t){return t.templateUrl||t.styleUrls&&t.styleUrls.length}function ot(t){return"string"==typeof t?t:t.text()}var it=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),at={},st=[],ut=0;function ct(t){var e=t.type,n=e.prototype,r={},o={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,contentQueriesRefresh:t.contentQueriesRefresh||null,attributes:t.attributes||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||it.Emulated,id:"c",styles:t.styles||st,_:null};return o._=""+{toString:function(){var e=t.directives,n=t.features,i=t.pipes;o.id+=ut++,o.inputs=pt(t.inputs,r),o.outputs=pt(t.outputs),n&&n.forEach(function(t){return t(o)}),o.directiveDefs=e?function(){return("function"==typeof e?e():e).map(lt)}:null,o.pipeDefs=i?function(){return("function"==typeof i?i():i).map(ht)}:null}},o}function lt(t){return gt(t)||vt(t)}function ht(t){return bt(t)}function ft(t){return{type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null}}function pt(t,e){if(null==t)return at;var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}function dt(t){var e={};return{inputs:pt(t.inputs,e),declaredInputs:e,outputs:pt(t.outputs)}}var yt=ct;function mt(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function gt(t){return t[p]||null}function vt(t){return t[d]||null}function bt(t){return t[g]||null}function _t(t,e){var n=t[v]||null;if(!n&&!0===e)throw new Error("Type "+J(t)+" does not have 'ngModuleDef' property.");return n}var wt=0,Ct=1,Et=2,St=3,Tt=4,It=5,Ot=6,At=7,xt=8,Dt=9,Nt=10,kt=11,Pt=12,Rt=13,Mt=14,jt=15,Vt=16,Lt=17,Ft=18,Ut=0,Bt=1,qt=6,zt=7,Ht=8,Gt="__ngContext__",Wt=8,Qt=8,Kt=9,Yt=-1,Zt=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),Jt=Zt.prototype;function Xt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":"object"==typeof t&&"function"==typeof t.type?t.type.name||t.type:""+t}function $t(t,e){return t[e+Ft]}function te(t){for(;Array.isArray(t);)t=t[It];return t}function ee(t,e){return te(e[t+Ft])}function ne(t,e){return te(e[t.index])}function re(t,e){return e[wt].data[t+Ft]}function oe(t,e){var n=e[t];return n.length>=Ft?n:n[It]}function ie(t){return 0!=(4&t.flags)}function ae(t){return 1==(1&t.flags)}function se(t){return null!==t.template}function ue(t){return Array.isArray(t)&&t.length===Ht}function ce(t){return 0!=(128&t[Ct])}function le(t){for(var e=Array.isArray(t)?t:pe(t);e&&!(128&e[Ct]);)e=e[Et];return e}function he(t){return le(t)[Dt]}function fe(t){return t[Gt]}function pe(t){var e=fe(t);return e?Array.isArray(e)?e:e.lView:null}function de(t){return t!==Yt}function ye(t){return 32767&t}function me(t){return t>>16}function ge(t,e){for(var n=me(t),r=e;n>0;)r=r[Lt],n--;return r}var ve=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function be(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function _e(t){for(var e=t[Ot];e&&2===e.type;)e=(t=t[Lt])[Ot];return t}function we(){var t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var Ce,Ee,Se=N("Inject",function(t){return{token:t}}),Te=N("Optional"),Ie=N("Self"),Oe=N("SkipSelf"),Ae=N("Host"),xe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),De=void 0;function Ne(t){var e=De;return De=t,e}function ke(t){var e=Ce;return Ce=t,e}function Pe(t,e){if(void 0===e&&(e=xe.Default),void 0===De)throw new Error("inject() must be called from an injection context");return null===De?Me(t,void 0,e):De.get(t,e&xe.Optional?null:void 0,e)}function Re(t,e){return void 0===e&&(e=xe.Default),(Ce||Pe)(t,e)}function Me(t,e,n){var r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&xe.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+J(t)+"]")}function je(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=xe.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Te||"Optional"===s.ngMetadataName?i|=xe.Optional:s instanceof Oe||"SkipSelf"===s.ngMetadataName?i|=xe.SkipSelf:s instanceof Ie||"Self"===s.ngMetadataName?i|=xe.Self:o=s instanceof Se?s.token:s}e.push(Re(o,i))}else e.push(Re(r))}return e}function Ve(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function Le(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var o=t.data[n];Fe(o,t,n),Ue(o,t,n),Be(o,t,n)}}function Fe(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Ue(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Be(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function qe(t,e,n){!n&&32&t[Ct]&&(ze(t,e.initHooks,e.checkHooks,n),t[Ct]&=-33)}function ze(t,e,n,r){if(!r){var o=2&t[Ct]?e:n;o&&He(t,o)}}function He(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var Ge,We,Qe,Ke,Ye=null;function Ze(t){Ye=t}function Je(){Ge=!0}function Xe(){Ge=!1}function $e(){return Ke}function tn(t){un=t}function en(){return We}function nn(t){We=t}function rn(t,e){We=t,Ke=e}function on(){return Qe}function an(t){Qe=t}function sn(t){return void 0===t&&(t=Ke),1==(1&t[Ct])}var un=null,cn=!1;function ln(){return cn}function hn(t){cn=t}var fn=!0;function pn(){return fn}function dn(t){fn=t}var yn=-1;function mn(){return yn}function gn(t){yn=t}function vn(t,e){var n=Ke;if(t){var r=t[wt];fn=r.firstTemplatePass,yn=r.bindingStartIndex}return We=e,Qe=!0,Ke=un=t,n}function bn(t){return void 0===t&&(t=1),(un=function(t,e){for(;t>0;)e=e[Lt],t--;return e}(t,un))[Dt]}function _n(t){var e=Ke[wt];sn(Ke)?Ke[Ct]&=-2:(ze(Ke,e.viewHooks,e.viewCheckHooks,cn),Ke[Ct]&=-11,Ke[Ct]|=32,Ke[At]=e.bindingStartIndex),vn(t,null)}var wn=!0;function Cn(t){var e=wn;return wn=t,e}var En=255,Sn=0;function Tn(t,e){var n=On(t,e);if(-1!==n)return n;var r=e[wt];r.firstTemplatePass&&(t.injectorIndex=e.length,In(r.data,t),In(e,null),In(r.blueprint,null));var o=An(t,e),i=ye(o),a=ge(o,e),s=t.injectorIndex;if(de(o))for(var u=a[wt].data,c=0;c<8;c++)e[s+c]=a[i+c]|u[i+c];return e[s+Qt]=o,s}function In(t,e){t.push(0,0,0,0,0,0,0,0,e)}function On(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Qt]?-1:t.injectorIndex}function An(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[Ot],r=1;n&&-1===n.injectorIndex;)n=(e=e[Lt])?e[Ot]:null,r++;return n?n.injectorIndex|r<<16:-1}function xn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[_]:n.charCodeAt(0)||0;null==r&&(r=n[_]=Sn++);var o=r&En,i=1<<o,a=64&o,s=32&o,u=e.data;128&o?a?s?u[t+7]|=i:u[t+6]|=i:s?u[t+5]|=i:u[t+4]|=i:a?s?u[t+3]|=i:u[t+2]|=i:s?u[t+1]|=i:u[t]|=i}(t,e[wt],n)}function Dn(t,e){var n=t.attrs;if(n)for(var r=0;r<n.length;r+=2){var o=n[r];if(3===o)break;if(o==e)return n[r+1]}return null}function Nn(t,e,n,r,o){if(void 0===r&&(r=xe.Default),t){var i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[_];return"number"==typeof e?e&En:e}(n);if("function"==typeof i){var a=en(),s=$e();rn(t,e);try{var u=i();if(null!=u||r&xe.Optional)return u;throw new Error("No provider for "+Xt(n)+"!")}finally{rn(a,s)}}else if("number"==typeof i){var c=null,l=On(t,e),h=Yt,f=r&xe.Host?_e(e)[Ot]:null;for((-1===l||r&xe.SkipSelf)&&(h=-1===l?An(t,e):e[l+Qt],Vn(r,!1)?(c=e[wt],l=ye(h),e=ge(h,e)):l=-1);-1!==l;){h=e[l+Qt];var p=e[wt];if(jn(i,l,p.data)){var d=Pn(l,e,n,c,r,f);if(d!==kn)return d}Vn(r,e[wt].data[l+Wt]===f)&&jn(i,l,e)?(c=p,l=ye(h),e=ge(h,e)):l=-1}}}if(r&xe.Optional&&void 0===o&&(o=null),0==(r&(xe.Self|xe.Host))){var y=e[Nt];return y?y.get(n,o,r&xe.Optional):Me(n,o,r&xe.Optional)}if(r&xe.Optional)return o;throw new Error("NodeInjector: NOT_FOUND ["+Xt(n)+"]")}var kn={};function Pn(t,e,n,r,o,i){var a=e[wt],s=a.data[t+Wt],u=Rn(s,e,n,null==r?ae(s)&&wn:r!=a&&3===s.type,o&xe.Host&&i===s);return null!==u?Mn(a.data,e,u,s):kn}function Rn(t,e,n,r,o){for(var i=t.providerIndexes,a=e[wt].data,s=65535&i,u=t.directiveStart,c=i>>16,l=o?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(o){var p=a[u];if(p&&se(p)&&p.type===n)return u}return null}function Mn(t,e,n,r){var o,i=e[n];if(null!=(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==Jt){var a=i;if(a.resolving)throw new Error("Circular dep for "+Xt(t[n]));var s=Cn(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=ke(a.injectImpl));var c=en(),l=$e();rn(r,e);try{i=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&ke(u),Cn(s),a.resolving=!1,rn(c,l)}}return i}function jn(t,e,n){var r=64&t,o=32&t;return!!((128&t?r?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:r?o?n[e+3]:n[e+2]:o?n[e+1]:n[e])&1<<t)}function Vn(t,e){return!(t&xe.Self||t&xe.Host&&e)}var Ln=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return Nn(this._tNode,this._lView,t,void 0,e)},t}();function Fn(t){var e=t,n=gt(e)||vt(e)||bt(e)||E(e)||S(e);return n&&void 0!==n.factory?n.factory:null}function Un(t){var e=Fn(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:function(t){return new t}}function Bn(t){var e,n=fe(t);if(n){if(Array.isArray(n)){var r=n,o=void 0,i=void 0,a=void 0;if((e=t)&&e.constructor&&e.constructor.ngComponentDef){if(-1==(o=Qn(r,t)))throw new Error("The provided component was not found in the application");i=t}else if(t&&t.constructor&&t.constructor.ngDirectiveDef){if(-1==(o=function(t,e){for(var n=t[wt].firstChild;n;){for(var r=n.directiveEnd,o=n.directiveStart;o<r;o++)if(t[o]===e)return n.index;n=Wn(n)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");a=Kn(o,r,!1)}else if(-1==(o=Gn(r,t)))return null;var s=fe(d=te(r[o])),u=s&&!Array.isArray(s)?s:qn(r,o,d);if(i&&void 0===u.component&&(u.component=i,Hn(u.component,u)),a&&void 0===u.directives){u.directives=a;for(var c=0;c<a.length;c++)Hn(a[c],u)}Hn(u.native,u),n=u}}else for(var l=t,h=l;h=h.parentNode;){var f=fe(h);if(f){if(r=void 0,!(r=Array.isArray(f)?f:f.lView))return null;var p=Gn(r,l);if(p>=0){var d;Hn(d=te(r[p]),u=qn(r,p,d)),n=u;break}}}return n||null}function qn(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function zn(t){var e,n=fe(t);if(Array.isArray(n)){var r=Qn(n,t);(o=qn(n,r,(e=oe(r,n))[It])).component=t,Hn(t,o),Hn(o.native,o)}else{var o;e=oe((o=n).nodeIndex,o.lView)}return e}function Hn(t,e){t[Gt]=e}function Gn(t,e){for(var n=t[wt].firstChild;n;){if(ne(n,t)===e)return n.index;n=Wn(n)}return-1}function Wn(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Qn(t,e){var n=t[wt].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(oe(o,t)[Dt]===e)return o}else if(oe(Ft,t)[Dt]===e)return Ft;return-1}function Kn(t,e,n){var r=e[wt].data[t],o=r.directiveStart;return 0==o?st:(!n&&1&r.flags&&o++,e.slice(o,r.directiveEnd))}function Yn(t){var e,n,r=or(t);return void 0===r.component&&(r.component=1&(n=(e=r.lView)[wt].data[r.nodeIndex]).flags?e[n.directiveStart]:null),r.component}function Zn(t){return or(t).lView[Dt]}function Jn(t){for(var e=nr(t).lView;e[Et]&&null===e[It];)e=e[Et];return 128&e[Ct]?null:e[Dt]}function Xn(t){return function(t){var e;for(e=Array.isArray(t)?t:pe(t);e&&!(128&e[Ct]);)e=e[Et];return e}(Array.isArray(t)?t:nr(t).lView)[Dt]}function $n(t){return Object(r.__spread)(Xn(t).components)}function tr(t){var e=nr(t);return new Ln(e.lView[wt].data[e.nodeIndex],e.lView)}function er(t){var e=nr(t);return void 0===e.directives&&(e.directives=Kn(e.nodeIndex,e.lView,!1)),e.directives||[]}function nr(t,e){void 0===e&&(e=!0);var n=Bn(t);if(!n&&e)throw new Error("Invalid ng target");return n}function rr(t){return Bn(t).native}function or(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return nr(t)}function ir(t){return"boolean"==typeof t.useCapture}function ar(t){var e=or(t).lView,n=e[xt],r=e[wt].cleanup,o=[];if(r&&n)for(var i=0;i<r.length;){var a=r[i++],s=r[i++];if("string"==typeof a){var u=a,c=te(e[s]),l=n[r[i++]],h=r[i++];t==c&&o.push({element:t,name:u,callback:l,useCapture:"boolean"==typeof h?h:!(h>=0)&&null})}}return o.sort(sr),o}function sr(t,e){return t.name==e.name?0:t.name<e.name?-1:1}var ur=/([A-Z])/g;function cr(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function lr(t,e){var n=pr(t),r=pr(e);return n&&r?function(t,e,n){for(var r=t[K()](),o=e[K()]();;){var i=r.next(),a=o.next();if(i.done&&a.done)return!0;if(i.done||a.done)return!1;if(!n(i.value,a.value))return!1}}(t,e,lr):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||Z(t,e)}var hr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),fr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function pr(t){return!!dr(t)&&(Array.isArray(t)||!(t instanceof Map)&&K()in t)}function dr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}var mr={};function gr(t,e,n){return t[e]=n}function vr(t,e){return t[e]}function br(t,e,n){if(t[e]===mr)t[e]=n;else{if(o=n,(r=t[e])!=r&&o!=o||r===o)return!1;t[e]=n}var r,o;return!0}function _r(t,e,n,r){var o=br(t,e,n);return br(t,e+1,r)||o}function wr(t,e,n,r,o){var i=_r(t,e,n,r);return br(t,e+2,o)||i}function Cr(t,e,n,r,o,i){var a=_r(t,e,n,r);return _r(t,e+2,o,i)||a}var Er="ngProjectAs",Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t){return!!t.listen}var Ir={createRenderer:function(t,e){return document}};function Or(t,e){return null==t.parent?function(t){var e=t[Ot];return e&&2!==e.type?ne(e,t[Et]):null}(e):ne(Ar(t),e)}function Ar(t){for(var e=t.parent;e&&5===e.type;)e=e.parent;return e}function xr(t,e){if(-1===t.index){var n=e[jt];return n>-1?e[Et][n]:null}return e[Et][t.parent.index]}function Dr(t,e){var n=xr(t,e);return n?n[zt]:null}var Nr=[];function kr(t,e,n,r,o){for(var i=t[wt].node,a=-1,s=t,u=i.child;u;){var c=null;if(3===u.type){Pr(e,n,r,ne(u,s),o);var l=s[u.index];ue(l)&&Pr(e,n,r,l[qt],o)}else if(0===u.type){var h=s[u.index];Pr(e,n,r,h[qt],o),r&&(h[zt]=r),h[Bt].length&&(c=(s=h[Bt][0])[wt].node,o=h[qt])}else if(1===u.type){var f=_e(s),p=f[Ot].projection[u.projection];Nr[++a]=u,Nr[++a]=s,p&&(c=(s=f[Et])[wt].data[p.index])}else c=u.child;if(null===c)for(null===u.next&&2&u.flags&&(s=Nr[a--],u=Nr[a--]),c=u.next;!c;){if(null===(u=u.parent||s[wt].node)||u===i)return null;0===u.type&&(o=(s=s[Et])[u.index][qt]),c=2===u.type&&s[St]?(s=s[St])[wt].node:u.next}u=c}}function Pr(t,e,n,r,o){0===t?Tr(e)?e.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===t?Tr(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function Rr(t,e){return Tr(e)?e.createText(Xt(t)):e.createTextNode(Xt(t))}function Mr(t,e,n){var r=Dr(t[wt].node,t);r&&kr(t,e?0:1,t[Pt],r,n)}function jr(t,e,n,r,o){var i=e[Bt];r>0&&(i[r-1][St]=t),r<i.length?(t[St]=i[r],i.splice(r,0,t)):(i.push(t),t[St]=null),o>-1&&(t[jt]=o,t[Et]=n),t[Tt]&&t[Tt].insertView(r),t[Ct]|=16}function Vr(t,e,n){var r=t[Bt],o=r[e];return e>0&&(r[e-1][St]=o[St]),r.splice(e,1),n||Mr(o,!1),o[Tt]&&o[Tt].removeView(),o[jt]=-1,o[Et]=null,o[Ct]&=-17,o}function Lr(t,e,n){var r=t[Bt][n];Vr(t,n,!!e.detached),Ur(r)}function Fr(t){var e=t[wt].childIndex;return-1===e?null:t[e]}function Ur(t){var e=t[Pt];Tr(e)&&e.destroyNode&&kr(t,2,e,null),function(t){if(-1===t[wt].childIndex)return qr(t);for(var e=Fr(t);e;){var n=null;if(e.length>=Ft?e[wt].childIndex>-1&&(n=Fr(e)):e[Bt].length&&(n=e[Bt][0]),null==n){for(;e&&!e[St]&&e!==t;)qr(e),e=Br(e,t);qr(e||t),n=e&&e[St]}e=n}}(t),t[Ct]|=64}function Br(t,e){var n;return t.length>=Ft&&(n=t[Ot])&&2===n.type?xr(n,t):t[Et]===e?null:t[Et]}function qr(t){if(t.length>=Ft){var e=t;!function(t){var e,n=t[wt];null!=n&&null!=(e=n.destroyHooks)&&He(t,e)}(e),(o=(r=e)[wt]&&r[wt].pipeDestroyHooks)&&He(r,o),function(t){var e=t[wt].cleanup;if(null!=e){for(var n=t[xt],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var o=n[e[r+2]],i=te(t[e[r+1]]),a=e[r+3];"boolean"==typeof a?i.removeEventListener(e[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof e[r]?(0,n[e[r]])():e[r].call(n[e[r+1]]);t[xt]=null}}(e);var n=e[Ot];n&&3===n.type&&Tr(e[Pt])&&e[Pt].destroy()}var r,o}function zr(t,e){if(Hr(t,e)){if(ce(e))return Wr(e[Pt],ne(t,e));var n=e[Ot],r=t.parent;return null!=r&&4===r.type&&(t=Kr(r)),null==t.parent&&2===n.type?Dr(n,e):Or(t,e)}return null}function Hr(t,e){var n,r=t,o=t.parent;return t.parent&&(4===t.parent.type?o=(r=Kr(t)).parent:5===t.parent.type&&(o=(r=Ar(r)).parent)),null===o&&(o=e[Ot]),o&&2===o.type?null!=(n=xr(o,e))&&null!=n[zt]:null==r.parent||!(3!==r.parent.type||1&r.parent.flags)}function Gr(t,e,n,r){Tr(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Wr(t,e){return Tr(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n){if(void 0===t&&(t=null),null!==t&&Hr(e,n)){var r=n[Pt],o=Or(e,n),i=e.parent||n[Ot];if(2===i.type){var a=xr(i,n),s=a[Bt],u=s.indexOf(n);Gr(r,a[zt],t,Yr(u,s,a[qt]))}else 4===i.type?Gr(r,zr(e,n),t,o):5===i.type?Gr(r,o,t,ne(e.parent,n)):Tr(r)?r.appendChild(o,t):o.appendChild(t);return!0}return!1}function Kr(t){for(;null!=t.parent&&4===t.parent.type;)t=t.parent;return t}function Yr(t,e,n){if(t+1<e.length){var r=e[t+1],o=r[Ot];return o.child?ne(o.child,r):n}return n}function Zr(t,e,n){if(null!==e&&Hr(t,n)){var r=Or(t,n),o=n[Pt];return Tr(o)?o.removeChild(r,e):r.removeChild(e),!0}return!1}function Jr(t,e,n,r){var o=ne(t,r);Qr(o,e,n),Hn(o,r);var i=zr(e,n),a=r[t.index];if(0===t.type){a[zt]=i;for(var s=a[Bt],u=0;u<s.length;u++)Mr(s[u],!0,a[qt])}else{if(4===t.type)for(var c=t.child;c;)Jr(c,e,n,r),c=c.next;ue(a)&&(a[zt]=i,Qr(a[qt],e,n))}}var Xr="ng-template";function $r(t,e,n){return e===t.tagName&&(n||3===t.type||4===t.type||0===t.type&&e===Xr)}function to(t,e,n){for(var r,o,i,a,s,u=4,c=t.attrs,l=c?c.indexOf(3):-1,h=!1,f=0;f<e.length;f++){var p=e[f];if("number"!=typeof p){if(!h)if(4&u){if(u=2|1&u,""!==p&&!$r(t,p,n)||""===p&&1===e.length){if(eo(u))return!1;h=!0}}else{var d=no(8&u?"class":p,c);if(-1===d){if(eo(u))return!1;h=!0;continue}var y,m=8&u?p:e[++f];if(""!==m)if(y=l>-1&&d>l?"":c[d+1],8&u&&(i=(r=y).length,s=(a=r.indexOf(o=m))+o.length,-1===a||a>0&&" "!==r[a-1]||s<i&&" "!==r[s])||2&u&&m!==y){if(eo(u))return!1;h=!0}}}else{if(!h&&!eo(u)&&!eo(p))return!1;if(h&&eo(p))continue;h=!1,u=p|1&u}}return eo(u)||h}function eo(t){return 0==(1&t)}function no(t,e){if(null===e)return-1;for(var n=!1,r=0;r<e.length;){var o=e[r];if(o===t)return r;0===o?r+=4:(3===o&&(n=!0),r+=n?1:2)}return-1}function ro(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(to(t,e[r],n))return!0;return!1}function oo(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(Er);if(0==(1&n))return e[n+1]}return null}(t),o=0;o<e.length;o++)if(r===n[o]||null===r&&ro(t,e[o],!0))return o+1;return 0}function io(t,e){return new ao(t,e)}var ao=function(){return function(t,e){this.fn=t,this.value=e}}(),so=function(){function t(){this._players=[]}return t.prototype.flushPlayers=function(){for(var t=0;t<this._players.length;t++){var e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0},t.prototype.queuePlayer=function(t){this._players.push(t)},t}(),uo="@";function co(t,e,n,r){return[0,[null,-1,!1,e||null],n||[null],r||[null],[0,0],t||null,null,null,null]}function lo(t,e){for(var n=t,r=e[n],o=e;Array.isArray(r);)o=r,r=r[It];if(s=o,Array.isArray(s)&&"number"==typeof s[0]&&Array.isArray(s[2]))return o;var i,a,s,u=re(t-Ft,e).stylingTemplate;return o!==e&&(n=It),o[n]=u?(i=r,(a=u.slice())[5]=i,a[0]|=32,a):co(r)}function ho(t){return t[0]===uo}function fo(t,e,n,r,o,i){return i=i||n,o?t[o]=r:t.push(r),!!r&&(r.addEventListener(200,function(){var e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new so)).queuePlayer(r,i),!0)}function po(t){return t[8]}function yo(t){return t[8]=[5,null,null,null,null]}function mo(t){return!!(8&t.flags)}function go(t){for(var e=co(),n=e[3]=[null],r=e[2]=[null],o=-1,i=0;i<t.length;i++){var a=t[i];if("number"==typeof a)o=a;else if(2===o)r.push(a,t[++i]);else if(1===o)n.push(a,!0);else if(3===o)break}return e}function vo(t,e,n){for(var r=1;r<t.length;){if(t[r]===e){var o=t[r+1];return void(null!=o&&0!=o||(t[r+1]=n))}r+=2}t.push(e,n)}function bo(t,e,n,r){for(var o=1;o<n.length;o+=2){var i=n[o+1];i&&(r?Eo(t,n[o+0],!0,e,null):Co(t,n[o+0],i,e,null))}}function _o(t,e,n,r){for(var o=n;o<r;o+=4)if(zo(t,o)===e)return o;return-1}function wo(t,e,n,r,o){var i=ei(t,o||null),a=function(t,e,n,r){var o=t[1][4*e+1],i=t[4];return i[o+2+(r?i[o+0]:0)+n]}(t,i,e,r),s=qo(t,a),u=Bo(t,a),c=ti(t,a),l=n instanceof ao?n.value:n;if(Xo(u,s,l)&&(!s||(l?i<=c:c===i))){var h=2==(2&u),f=n instanceof ao?new $o(n,t[5],h?1:2):null,p=f?n.value:n,d=Lo(t,a),y=!1,m=f?d:0;if(Mo(t,f,d)){var g=jo(t,f,d);m=f?g:0,y=!0}if((y||c!==i)&&Vo(t,a,m,i),c!==i){var v=zo(t,a),b=oi(t,i);!function(t,e,n){b&&b(v)?t[e]|=4:t[e]&=-5}(t,a)}Ro(t,a,p);var _=No(u),w=qo(t,_);if(!w||Xo(u,w,p)){var C=!1,E=!0;!Zo(p,h)&&Zo(w,h)&&(C=!0,E=!1),So(t,_,C),So(t,a,E),ii(t,i,!0),Go(t,!0)}y&&Wo(t,!0)}}function Co(t,e,n,r,o,i,a){n=o&&n?o(e,n):n,i||a?(i&&i.setValue(e,n),a&&a.setValue(e,n)):n?(n=n.toString(),Tr(r)?r.setStyle(t,e,n,Sr.DashCase):t.style.setProperty(e,n)):Tr(r)?r.removeStyle(t,e,Sr.DashCase):t.style.removeProperty(e)}function Eo(t,e,n,r,o,i){o||i?(o&&o.setValue(e,n),i&&i.setValue(e,n)):n?Tr(r)?r.addClass(t,e):t.classList.add(e):Tr(r)?r.removeClass(t,e):t.classList.remove(e)}function So(t,e,n){var r=e>=9?e+0:e;n?t[r]|=1:t[r]&=-2}function To(t,e){return 1==(1&t[e>=9?e+0:e])}function Io(t,e){return 2==(2&t[e>=9?e+0:e])}function Oo(t,e){return 4==(4&t[e>=9?e+0:e])}function Ao(t,e,n){return 63&t|e<<6|n<<20}function xo(t,e){var n=Do(e);return(2&e?t[3]:t[2])[n]}function Do(t){return t>>6&16383}function No(t){var e=t>>20&16383;return e>=9?e:-1}function ko(t){return No(t[0])}function Po(t,e,n){t[e+1]=n}function Ro(t,e,n){t[e+2]=n}function Mo(t,e,n){var r=t[8];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function jo(t,e,n){var r=t[8]||yo(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function Vo(t,e,n,r){var o=function(t,e){return n<<16|t}(r);t[e+3]=o}function Lo(t,e){return t[e+3]>>16&65535}function Fo(t,e){var n=Lo(t,e);if(n){var r=t[8];if(r)return r[n]}return null}function Uo(t,e,n){t[0===e?e:e+0]=n}function Bo(t,e){return t[0===e?e:e+0]}function qo(t,e){return t[e+2]}function zo(t,e){return t[e+1]}function Ho(t){return 16&t[0]}function Go(t,e){So(t,0,e)}function Wo(t,e){e?t[0]|=8:t[0]&=-9}function Qo(t,e,n){for(var r=(n||0)+1;r<t.length;r+=4)if(t[r]==e)return r-1;return-1}function Ko(t,e,n){var r=qo(t,e),o=zo(t,e),i=Bo(t,e),a=Lo(t,e),s=i,u=Bo(t,n),c=No(s);c>=0&&Uo(t,c,Ao(l=Bo(t,c),Do(l),n));var l,h=No(u);h>=0&&Uo(t,h,Ao(l=Bo(t,h),Do(l),e)),Ro(t,e,qo(t,n)),Po(t,e,zo(t,n)),Uo(t,e,Bo(t,n)),Vo(t,e,Lo(t,n),0),Ro(t,n,r),Po(t,n,o),Uo(t,n,i),Vo(t,n,a,0)}function Yo(t,e,n,r,o,i,a,s){var u=e<t.length;t.splice(e,0,1|o|(n?2:0),r,i,0),Vo(t,e,s,a),u&&function(t,n){for(var r=e+4;r<t.length;r+=4){var o=No(Bo(t,r));if(o>0){var i=Do(Bo(t,o));Uo(t,o,Ao((To(t,o)?1:0)|(Io(t,o)?2:0)|(Oo(t,o)?4:0),i,r))}}}(t)}function Zo(t,e){return e?!!t:null!==t}function Jo(t,e,n,r){var o,i=r&&r(e)?4:0;return n?(i|=2,o=ri(t[3],e)):o=ri(t[2],e),Ao(i,o=o>0?o+1:0,0)}function Xo(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var $o=function(){function t(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}return t.prototype.setValue=function(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)},t.prototype.buildPlayer=function(t,e){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}},t}();function ti(t,e){return 65535&t[e+3]}function ei(t,e){var n=ni(t[1],e);return n>0?n/4:0}function ni(t,e){for(var n=0;n<t.length;n+=4)if(t[n]===e)return n;return-1}function ri(t,e){for(var n=1;n<t.length;n+=2)if(t[n]===e)return n;return-1}function oi(t,e){var n=t[1];return n[4*e+3]||n[3]||null}function ii(t,e,n){t[1][4*e+2]=n}function ai(t){var e=t[6];if(null==e){e="";for(var n=t[3],r=1;r<n.length;r+=2)n[r+1]&&(e+=(e.length?" ":"")+n[r]);t[6]=e}return e}var si=Promise.resolve(null);function ui(t){var e=t[wt];if(e.firstTemplatePass=!1,dn(!1),!sn(t)){var n=ln();qe(t,e,n),function(t){for(var e=Fr(t);null!==e;e=e[St])if(e.length<Ft&&-1===e[Ut])for(var n=e,r=0;r<n[Bt].length;r++){var o=n[Bt][r];pi(o,o[wt],o[Dt])}}(t),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-Ft,t.contentQueries[e+1])}}(e),ze(t,e.contentHooks,e.contentCheckHooks,n),function(t,e){if(t.expandoInstructions){var n=e[At]=t.expandoStartIndex;gn(n);for(var r=-1,o=-1,i=0;i<t.expandoInstructions.length;i++){var a=t.expandoInstructions[i];if("number"==typeof a){if(a<=0){o=-a;var s=t.expandoInstructions[++i];r=n+=Kt+s}else n+=a;gn(n)}else null!==a&&(e[At]=n,a(2,te(e[r]),o)),r++}}}(e,t)}!function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,16==(16&(n=oe(t[e],$e()))[Ct])&&12&n[Ct]&&(function(t){for(var e=t[wt],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),wa(n,n[Dt]));var n}(e.components)}function ci(t,e,n,r,o,i,a,s){var u=e.blueprint.slice();return u[Ct]=51|r,u[Et]=u[Lt]=t,u[Dt]=n,u[kt]=o||t&&t[kt],u[Pt]=i||t&&t[Pt],u[Rt]=a||t&&t[Rt]||null,u[Nt]=s||t&&t[Nt]||null,u}function li(t,e,n,r,o){var i=$e(),a=i[wt],s=t+Ft;i[s]=n;var u=a.data[s];null==u&&(u=a.data[s]=Li(i,e,s,r,o,null));var c=en(),l=on();return c&&(!l||null!=c.child||null===u.parent&&2!==c.type?l||(c.next=u):c.child=u),null==a.firstChild&&(a.firstChild=u),nn(u),an(!0),u}function hi(t,e){return null==e[wt].node&&(e[wt].node=Li(e,2,t,null,null,null)),e[Ot]=e[wt].node}function fi(t){var e=t[wt];e.firstTemplatePass&&(e.expandoStartIndex++,e.blueprint.push(null),e.data.push(null),t.push(null))}function pi(t,e,n){var r,o=on(),i=en();if(an(!0),nn(null),128&t[Ct])ga(he(t));else try{an(!0),nn(null),r=vn(t,t[Ot]),_i(),e.template(mi(t),n),t[wt].firstTemplatePass=!1,dn(!1),ui(t)}finally{_n(r),an(o),nn(i)}}function di(t){return void 0===t&&(t=1),bn(t)}function yi(t,e,n){var r=t[kt],o=vn(t,t[Ot]),i=!ln();try{i&&r.begin&&r.begin(),sn(t)&&(n&&(_i(),n(1,e)),ui(t),t[Ct]&=-2),n&&n(2,e),ui(t)}finally{i&&r.end&&r.end(),_n(o)}}function mi(t){return sn(t)?1:2}var gi=null;function vi(){gi="http://www.w3.org/2000/svg"}function bi(){gi="http://www.w3.org/1998/MathML/"}function _i(){gi=null}function wi(t,e,n,r){Si(t,e,n,r),ki()}function Ci(t,e,n){var r=$e(),o=r[wt],i=r[Pt].createComment("");Qr(i,li(t,4,i,"ng-container",e||null),r),Ii(o,r,n),Hn(i,r)}function Ei(){var t=en(),e=$e(),n=e[wt];on()?an(!1):nn(t=t.parent);var r=e[Tt];r&&(e[Tt]=r.addNode(t)),Le(n,t)}function Si(t,e,n,r){var o,i,a,s=$e(),u=s[wt],c=Ti(e),l=li(t,3,c,e,n||null);if(n&&(u.firstTemplatePass&&!l.stylingTemplate&&function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1==n||2==n)return!0}return!1}(n)&&(l.stylingTemplate=go(n)),xi(c,n)),Qr(c,l,s),Ii(u,s,r),0===Ee&&Hn(c,s),Ee++,u.firstTemplatePass){var h=qa(l);h&&h.hasOwnProperty("class")&&(l.flags|=8)}l.stylingTemplate&&0==(8&l.flags)&&(bo(o=c,a=s[Pt],(i=l.stylingTemplate)[3],!0),bo(o,a,i[2],!1))}function Ti(t,e){var n=e||$e()[Pt];return Tr(n)?n.createElement(t,gi):null===gi?n.createElement(t):n.createElementNS(gi,t)}function Ii(t,e,n,r){if(void 0===r&&(r=ne),Ge){var o=en();pn()&&function(t,e,n,r,o){var i=o?{"":-1}:null;if(n){ta(r,t.data.length,n.length);for(var a=0;a<n.length;a++)(s=n[a]).providersResolver&&s.providersResolver(s);for(Yi(t,r,n.length),a=0;a<n.length;a++){var s,u=t.data.length;ea(t,e,s=n[a],s.factory),$i(t.data.length-1,s,i),Ve(u,s.onInit,s.doCheck,t)}}i&&function(t,e,n){if(e)for(var r=t.localNames=[],o=0;o<e.length;o+=2){var i=n[e[o+1]];if(null==i)throw new Error("Export of name '"+e[o+1]+"' not found!");r.push(e[o],i)}}(r,o,i)}(t,e,function(t,e,n){var r=t.directiveRegistry,o=null;if(r)for(var i=0;i<r.length;i++){var a=r[i];ro(n,a.selectors,!1)&&(o||(o=[]),xn(Tn(en(),e),e,a.type),se(a)?(1&n.flags&&yr(n),n.flags=1,o.unshift(a)):o.push(a))}return o}(t,e,o),o,n||null),function(t,e,n){var r=n.directiveStart,o=n.directiveEnd;!pn()&&r<o&&Tn(n,e);for(var i=r;i<o;i++){var a=t.data[i];se(a)&&na(e,n,a),Zi(e,Mn(t.data,e,i,n),a,i)}}(t,e,o),function(t,e,n){for(var r=n.directiveStart,o=n.directiveEnd,i=t.expandoInstructions,a=pn(),s=r;s<o;s++){var u=t.data[s],c=e[s];if(u.hostBindings){var l=i.length;Ze(u),u.hostBindings(1,c,n.index-Ft),Ze(null),l===i.length&&a&&i.push(u.hostBindings)}else a&&i.push(null)}}(t,e,o),function(t,e,n){var r=e.localNames;if(r)for(var o=e.index+1,i=0;i<r.length;i+=2){var a=r[i+1],s=-1===a?n(e,t):t[a];t[o++]=s}}(e,o,r)}}function Oi(t,e,n,r,o,i){return t.ngPrivateData||(t.ngPrivateData=Ai(-1,t,e,n,r,o,i))}function Ai(t,e,n,r,o,i,a){var s=Ft+n,u=s+r,c=function(t,e){var n=new Array(e).fill(null,0,t).fill(mr,t);return n[jt]=-1,n[At]=t,n}(s,u);return c[wt]={id:t,blueprint:c,template:e,viewQuery:a,node:null,data:c.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null}}function xi(t,e){for(var n=$e()[Pt],r=Tr(n),o=0;o<e.length;){var i=e[o++];if("number"==typeof i){if(0!==i)break;var a=e[o++],s=e[o++],u=e[o++];r?n.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else u=e[o++],i!==Er&&(ho(i)?r&&n.setProperty(t,i,u):r?n.setAttribute(t,i,u):t.setAttribute(i,u))}}function Di(t,e){var n=t.createRenderer(null,null);return"string"==typeof e?Tr(n)?n.selectRootElement(e):n.querySelector(e):e}function Ni(t,e,n){void 0===n&&(n=!1);var r=$e(),o=en(),i=r[wt],a=i.firstTemplatePass&&(i.cleanup||(i.cleanup=[]));if(3===o.type){var s=ne(o,r),u=r[Pt],c=(m=Ha(r)).length,l=n;if(Tr(u)){var h=u.listen(s,t,e);m.push(e,h),l=c+1}else{var f=function(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}(e);s.addEventListener(t,f,n),m.push(f)}a&&a.push(t,o.index,c,l)}void 0===o.outputs&&(o.outputs=Ui(o,1));var p,d=o.outputs;if(d&&(p=d[t])){var y=p.length;if(y)for(var m=Ha(r),g=0;g<y;g+=2){var v=r[p[g]][p[g+1]].subscribe(e),b=m.length;m.push(e,v),a&&a.push(t,o.index,b,-(b+1))}}}function ki(){var t=en();on()?an(!1):nn(t=t.parent);var e=$e(),n=e[Tt];if(n&&(e[Tt]=n.addNode(t)),Le($e()[wt],t),Ee--,mo(t)){var r=lo(t.index,e);Fi(e,t.inputs.class,ai(r))}}function Pi(t,e,n,r){if(n!==mr){var o=$e(),i=o[Pt],a=ee(t,o);if(null==n)Tr(i)?i.removeAttribute(a,e):a.removeAttribute(e);else{var s=null==r?Xt(n):r(n);Tr(i)?i.setAttribute(a,e,s):a.setAttribute(e,s)}}}function Ri(t,e,n,r,o){Vi(t,e,n,r,o)}function Mi(t,e,n,r,o){Vi(t,e,n,r,o,ji)}function ji(t,e){return e[t.index][Pt]}function Vi(t,e,n,r,o,i){if(n!==mr){var a,s,u=$e(),c=ee(t,u),l=re(t,u);if(!o&&(a=qa(l))&&(s=a[e]))Fi(u,s,n),ae(l)&&function(e,n){var r=oe(t+Ft,e);4&r[Ct]||(r[Ct]|=8)}(u);else if(3===l.type){var h=i?i(l,u):u[Pt];n=null!=r?r(n):n,Tr(h)?h.setProperty(c,e,n):ho(e)||(c.setProperty?c.setProperty(e,n):c[e]=n)}}}function Li(t,e,n,r,o,i){var a=en(),s=on()?a:a&&a.parent,u=s&&t&&s!==t[Ot]?s:null;return{type:e,index:n,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:o,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function Fi(t,e,n){for(var r=0;r<e.length;r+=2)t[e[r]][e[r+1]]=n}function Ui(t,e){var n=$e()[wt],r=null,o=t.directiveStart,i=t.directiveEnd;if(i>o)for(var a=0===e,s=n.data,u=o;u<i;u++){var c=s[u],l=a?c.inputs:c.outputs;for(var h in l)if(l.hasOwnProperty(h)){var f=l[h];(r=r||{}).hasOwnProperty(h)?r[h].push(u,f):r[h]=[u,f]}}return r}function Bi(t,e,n,r){var o=en();o.stylingTemplate||(o.stylingTemplate=co()),function(t,e,n,r,o,i){if(!(32&t[0])){var a=function(t,e,n){var r,o=t[1],i=t[4].length,a=ni(o,e);if(-1===a)r=o.length/4,o.push(e,i,!1,n||null);else{if(o[a+1]>=0)return-1;r=a/4,o[a+1]=i,o[a+3]=n||null}return r}(t,e,o);if(-1!==a){var s=t[4],u=s[1],c=s[0],l=4*c,h=9+l,f=h+4*u,p=f+l,d=s.length;s.push(r?r.length:0,n?n.length:0);var y=0,m=[];if(r&&r.length)for(var g=0;g<r.length;g++){var v=r[g];-1==(w=_o(t,v,9,h))&&(w=h+y,y+=4,m.push(v)),s.push(w)}var b=[];if(n&&n.length)for(var _=0;_<n.length;_++){var w,C=n[_];-1==(w=_o(t,C,h,f))?(w=f+y,y+=4,b.push(C)):w+=4*m.length,s.push(w)}var E=2;if(m.length)for(;E<d;){var S=s[E+0],T=s[E+1];if(T)for(var I=E+2+S,O=I;O<I+T;O++)s[O]+=4*m.length;E+=2+(S+T)}for(var A=b.length+m.length,x=9;x<t.length;x+=4){var D=x>=f,N=x>=(D?p:h),k=Bo(t,x),P=Do(k),R=No(k);Uo(t,x,Ao(k,P,R+=D?N?4*m.length:0:4*A+4*(N?m.length:0)))}for(var M=0;M<4*m.length;M++)t.splice(p,0,null),t.splice(h,0,null),h++,f++,p+=2;for(var j=0;j<4*b.length;j++)t.splice(f,0,null),t.push(null),f++,p++;for(var V=t[3],L=t[2],F=0;F<A;F++){var U=F>=m.length,B=U?F-m.length:F,q=U?b[B]:m[B],z=void 0,H=void 0;U?(z=p+4*(u+B),H=h+4*(u+B)):(z=f+4*(c+B),H=9+4*(c+B));var G=U?V:L,W=ri(G,q);-1===W?(W=G.length+1,G.push(q,!U&&null)):W+=1;var Q=Jo(t,q,U,o||null);Uo(t,H,Ao(Q,W,z)),Po(t,H,q),Ro(t,H,null),Vo(t,H,0,a),Uo(t,z,Ao(Q,W,H)),Po(t,z,q),Ro(t,z,null),Vo(t,z,0,a)}s[1]=u+b.length,s[0]=c+m.length,Uo(t,0,Ao(0,0,f)|(i?16:0))}}}(o.stylingTemplate,r||null,t,e,n,mo(o))}function qi(t,e){var n=en();n.stylingTemplate||(n.stylingTemplate=go(e)),function(t,e,n){var r=t[1];if(-1==ni(r,n)){r.push(n,-1,!1,null);for(var o=null,i=null,a=-1,s=0;s<e.length;s++){var u=e[s];"number"==typeof u?a=u:1==a?vo(o=o||t[3],u,!0):2==a&&vo(i=i||t[2],u,e[++s])}}}(n.stylingTemplate,e,t)}function zi(t,e){var n=$e(),r=0!=(2&n[Ct]);(function(t,n,r,o,i,a,s){var u=0,c=ei(t,e||null);if(function(t){return To(t,0)}(t)&&function(t,e){return t[1][4*c+2]}(t)){for(var l=8&t[0],h=t[5],f=ko(t),p=Ho(t),d=!1,y=9;y<t.length;y+=4)if(To(t,y)){var m=Bo(t,y),g=ti(t,y);if(c!==g){d=!0;continue}var v=zo(t,y),b=qo(t,y),_=4&m?oi(t,g):null,w=Fo(t,y),C=!!(2&m),E=!C||!p,S=b;y<f&&!Zo(S,C)&&(S=qo(t,No(m))),C||Zo(S,C)||!E||(S=xo(t,m)),(!o||S)&&(C?Eo(h,v,!!S,n,null,w):Co(h,v,S,n,_,null,w)),So(t,y,!1)}if(l){var T=Array.isArray(r)?he(r):r,I=po(t),O=I[0];for(y=1;y<O;y+=2){var A=I[y],x=y+1,D=I[x];if(A){var N=A.buildPlayer(D,o);void 0!==N&&(null!=N&&fo(I,T,h,N,x)&&u++,D&&D.destroy())}else D&&D.destroy()}Wo(t,!1)}ii(t,c,!1),Go(t,d)}return u})(lo(t+Ft,n),n[Pt],n,r)>0&&ma(he(n),2)}function Hi(t,e,n,r,o){var i=null;null!==n&&(i=r?Xt(n)+r:n),wo(lo(t+Ft,$e()),e,i,!1,o)}function Gi(t,e,n,r){var o=n instanceof ao?n:!!n;wo(lo(t+Ft,$e()),e,o,!0,r)}function Wi(t,e,n,r){if(null!=r)return function(t,e,n,r){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();var o=$e(),i=re(t,o),a=lo(t+Ft,o);if(mo(i)&&e!==mr){var s=ai(a);Fi(o,i.inputs.class,(s.length?s+" ":"")+e)}else!function(t,e,n,r){n=n||null;var o=ei(t,null),i=t[5],a=e instanceof ao?new $o(e,i,1):null,s=n instanceof ao?new $o(n,i,2):null,u=a?e.value:e,c=s?n.value:n,l=Ho(t)||u===mr||u===t[6],h=c===mr||c===t[7];if(!l||!h){t[6]=u,t[7]=c;var f=st,p=!1,d=!1,y=a?1:0;Mo(t,a,1)&&(jo(t,a,1),d=!0);var m=s?3:0;Mo(t,s,3)&&(jo(t,s,3),d=!0),l||("string"==typeof u?(f=u.split(/\s+/),p=!0):f=u?Object.keys(u):st);for(var g=u||at,v=c?Object.keys(c):st,b=c||at,_=v.length,w=!1,C=ko(t),E=0,S=v.length+f.length;C<t.length&&E<S;){if(!(j=E>=_)&&!h||j&&!l){var T=j?E-_:E,I=j?f[T]:v[T],O=j?!!p||g[I]:b[I],A=j?y:m;if((V=zo(t,C))===I){var x=qo(t,C),D=Bo(t,C);if(Vo(t,C,A,o),Xo(D,x,O)){Ro(t,C,O),d=d||!!A;var N=xo(t,D);(null!=x||Xo(D,N,O))&&(So(t,C,!0),w=!0)}}else{var k=Qo(t,I,C);if(k>0){var P=qo(t,k),R=Bo(t,k);Ko(t,C,k),Xo(R,P,O)&&(N=xo(t,R),Ro(t,C,O),(null!=P||Xo(R,N,O))&&(So(t,C,!0),d=d||!!A,w=!0))}else d=d||!!A,Yo(t,C,j,I,Jo(t,I,j,oi(t,o)),O,o,A),w=!0}}C+=4,E++}for(;C<t.length;)(!(j=2==(2&(D=Bo(t,C))))&&!h||j&&!l)&&Zo(x=qo(t,C),j)&&(So(t,C,!0),Ro(t,C,null),Vo(t,C,A=j?y:m,o),w=!0),C+=4;for(var M=oi(t,o);E<S;){var j;if(!(j=E>=_)&&!h||j&&!l){T=j?E-_:E;var V=j?f[T]:v[T],L=(x=j?!!p||g[V]:b[V],D=1|Jo(t,V,j,M),A=j?y:m,t.length);t.push(D,V,x,0),Vo(t,L,A,o),w=!0}E++}w&&(Go(t,!0),ii(t,o,!0)),d&&Wo(t,!0)}}(a,e,n)}function Qi(t,e){var n=$e(),r=Rr(e,n[Pt]),o=li(t,3,r,null,null);an(!1),Qr(r,o,n)}function Ki(t,e){if(e!==mr){var n=$e(),r=ee(t,n),o=n[Pt];Tr(o)?o.setValue(r,Xt(e)):r.textContent=Xt(e)}}function Yi(t,e,n){var r=-(e.index-Ft),o=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,o,n)}function Zi(t,e,n,r){var o=en();Ji(t,o,e,n),o&&o.attrs&&function(t,e,r,i){var a=o.initialInputs;(void 0===a||t>=a.length)&&(a=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var o=n.attrs,i=0;i<o.length;){var a=o[i];if(3===a)break;if(0!==a){var s=e[a],u=o[i+1];void 0!==s&&(r[t]||(r[t]=[])).push(s,u),i+=2}else i+=4}return r}(t,n.inputs,o));var s=a[t];if(s)for(var u=0;u<s.length;u+=2)e[s[u]]=s[u+1]}(r,e),n.contentQueries&&n.contentQueries(r),se(n)&&(oe(o.index,t)[Dt]=e)}function Ji(t,e,n,r){var o=ne(e,t);Hn(n,t),o&&Hn(o,t),null!=r.attributes&&3==e.type&&xi(o,r.attributes)}function Xi(t){var e=$e()[wt];(e.components||(e.components=[])).push(t.index)}function $i(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function ta(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ea(t,e,n,r){t.data.push(n);var o=new Zt(r,se(n),null);t.blueprint.push(o),e.push(o)}function na(t,e,n){var r=ne(e,t),o=Oi(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),i=da(t,e.index,ci(t,o,null,n.onPush?8:4,t[kt],t[kt].createRenderer(r,n)));i[Ot]=e,i[It]=t[e.index],t[e.index]=i,pn()&&Xi(e)}function ra(t,e,n,r,o){return[o?-1:0,[],n,null,null,t,r,zr(e,n)]}function oa(t,e,n,r,o,i,a,s){var u=$e(),c=u[wt],l=aa(t,o||null,i||null);pn()&&(l.tViews=Ai(-1,e,n,r,c.directiveRegistry,c.pipeRegistry,null)),Ii(c,u,a,s);var h=u[Tt],f=en();Hn(ne(f,u),u),h&&(u[Tt]=h.addNode(f)),Le(c,l),an(!1)}function ia(t){var e=aa(t,null,null);pn()&&(e.tViews=[]),an(!1)}function aa(t,e,n){var r=$e(),o=t+Ft,i=r[Pt].createComment(""),a=li(t,0,i,e,n),s=r[o]=ra(r[o],a,r,i);Qr(i,a,r),da(r,t+Ft,s);var u=r[Tt];return u&&(s[Tt]=u.container()),a}function sa(t){var e=$e(),n=e[wt];nn($t(n.data,t)),an(!0),e[t+Ft][Ut]=0,qe(e,n,ln())}function ua(){var t=en();on()?an(!1):nn(t=t.parent);for(var e=$e()[t.index],n=e[Ut];n<e[Bt].length;)Lr(e,t,n)}function ca(t,e,n){var r=$e(),o=en(),i=2===o.type?o.parent:o,a=r[i.index],s=function(t,e,n,r){for(var o=t[Bt],i=n;i<o.length;i++){var a=o[i][wt].id;if(a===r)return o[i];if(!(a<r))break;Lr(t,e,i)}return null}(a,i,a[Ut],t);return s?(an(!0),vn(s,s[wt].node)):(s=ci(r,function(t,e,n,r){var o=$e()[wt],i=r.tViews;return(t>=i.length||null==i[t])&&(i[t]=Ai(t,null,e,n,o.directiveRegistry,o.pipeRegistry,null)),i[t]}(t,e,n,i),null,4),a[Tt]&&(s[Tt]=a[Tt].createView()),hi(t,s),vn(s,s[wt].node)),a&&(sn(s)&&jr(s,a,r,a[Ut],-1),a[Ut]++),sn(s)?3:2}function la(){var t=$e(),e=t[Ot];sn(t)&&(ui(t),t[Ct]&=-2),ui(t),_n(t[Et]),nn(e),an(!1)}function ha(t,e){var n=_e($e())[Ot];if(!n.projection)for(var r=n.projection=new Array(t?t.length+1:1).fill(null),o=r.slice(),i=n.child;null!==i;){var a=t?oo(i,t,e):0,s=i.next;o[a]?o[a].next=i:(r[a]=i,i.next=null),o[a]=i,i=s}}var fa=[];function pa(t,e,n){void 0===e&&(e=0);var r=$e(),o=li(t,1,null,null,n||null);null===o.projection&&(o.projection=e),an(!1);for(var i=_e(r),a=i[Ot].projection[e],s=i[Et],u=-1;a;){if(1===a.type){var c=_e(s),l=c[Ot].projection[a.projection];if(l){fa[++u]=a,fa[++u]=s,a=l,s=c[Et];continue}}else a.flags|=2,Jr(a,o,r,s);null===a.next&&s!==i[Et]&&(s=fa[u--],a=fa[u--]),a=a.next}}function da(t,e,n){var r=t[wt],o=pn();return t[Mt]?t[Mt][St]=n:o&&(r.childIndex=e),t[Mt]=n,n}function ya(t){for(;t&&!(128&t[Ct]);)t[Ct]|=8,t=t[Et];t[Ct]|=8,ma(t[Dt],1)}function ma(t,e){var n,r=0===t.flags;t.flags|=e,r&&t.clean==si&&(t.clean=new Promise(function(t){return n=t}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,ga(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=si,n(null)}))}function ga(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];yi(pe(n),n)}}function va(t){ba(zn(t),t)}function ba(t,e){var n=t[kt];n.begin&&n.begin(),sn(t)&&wa(t,e),wa(t,e),n.end&&n.end()}function _a(t){ga(t[Dt])}function wa(t,e){var n=t[wt],r=vn(t,t[Ot]),o=n.template,i=n.viewQuery;try{_i(),function(e,n,r){e&&sn(t)&&e(1,r)}(i,0,e),o(mi(t),e),ui(t),function(e,n,r){e&&!sn(t)&&e(2,r)}(i,0,e)}finally{_n(r)}}function Ca(t){ya(zn(t))}function Ea(t){var e=$e();return br(e,e[At]++,t)?t:mr}function Sa(t){if(pn()){var e=$e(),n=e[wt];!function(t,e,n){var r=t.expandoInstructions,o=r.length;o>=2&&r[o-2]===e.hostBindings?r[o-1]=r[o-1]+n:r.push(e.hostBindings,n)}(n,Ye,t),function(t,e,n){for(var r=0;r<n;r++)e.push(mr),t.blueprint.push(mr),t.data.push(null)}(n,e,t)}}function Ta(t){for(var e=!1,n=$e(),r=n[At],o=1;o<t.length;o+=2)br(n,r++,t[o])&&(e=!0);if(n[At]=r,!e)return mr;var i=t[0];for(o=1;o<t.length;o+=2)i+=Xt(t[o])+t[o+1];return i}function Ia(t,e,n){var r=$e(),o=br(r,r[At],e);return r[At]+=1,o?t+Xt(e)+n:mr}function Oa(t,e,n,r,o){var i=$e(),a=_r(i,i[At],e,r);return i[At]+=2,a?t+Xt(e)+n+Xt(r)+o:mr}function Aa(t,e,n,r,o,i,a){var s=$e(),u=wr(s,s[At],e,r,i);return s[At]+=3,u?t+Xt(e)+n+Xt(r)+o+Xt(i)+a:mr}function xa(t,e,n,r,o,i,a,s,u){var c=$e(),l=Cr(c,c[At],e,r,i,s);return c[At]+=4,l?t+Xt(e)+n+Xt(r)+o+Xt(i)+a+Xt(s)+u:mr}function Da(t,e,n,r,o,i,a,s,u,c,l){var h=$e(),f=h[At],p=Cr(h,f,e,r,i,s);return p=br(h,f+4,c)||p,h[At]+=5,p?t+Xt(e)+n+Xt(r)+o+Xt(i)+a+Xt(s)+u+Xt(c)+l:mr}function Na(t,e,n,r,o,i,a,s,u,c,l,h,f){var p=$e(),d=p[At],y=Cr(p,d,e,r,i,s);return y=_r(p,d+4,c,h)||y,p[At]+=6,y?t+Xt(e)+n+Xt(r)+o+Xt(i)+a+Xt(s)+u+Xt(c)+l+Xt(h)+f:mr}function ka(t,e,n,r,o,i,a,s,u,c,l,h,f,p,d){var y=$e(),m=y[At],g=Cr(y,m,e,r,i,s);return g=wr(y,m+4,c,h,p)||g,y[At]+=7,g?t+Xt(e)+n+Xt(r)+o+Xt(i)+a+Xt(s)+u+Xt(c)+l+Xt(h)+f+Xt(p)+d:mr}function Pa(t,e,n,r,o,i,a,s,u,c,l,h,f,p,d,y,m){var g=$e(),v=g[At],b=Cr(g,v,e,r,i,s);return b=Cr(g,v+4,c,h,p,y)||b,g[At]+=8,b?t+Xt(e)+n+Xt(r)+o+Xt(i)+a+Xt(s)+u+Xt(c)+l+Xt(h)+f+Xt(p)+d+Xt(y)+m:mr}function Ra(t,e){var n=$e(),r=n[wt],o=t+Ft;o>=r.data.length&&(r.data[o]=null),n[o]=e}function Ma(t){return $t(un,t)}function ja(t){return $e()[Vt][t]}function Va(t){return $t($e(),t)}function La(t,e){return void 0===e&&(e=xe.Default),t=tt(t),Nn(en(),$e(),t,e)}function Fa(t){return Dn(en(),t)}function Ua(t,e){var n=$e(),r=n[wt],o=(n[Vt]||(n[Vt]=[])).push(t);if(pn()){var i=r.contentQueries||(r.contentQueries=[]);e!==(r.contentQueries.length?r.contentQueries[r.contentQueries.length-2]:-1)&&i.push(e,o-1)}}var Ba=si;function qa(t){return t?(void 0===t.inputs&&(t.inputs=Ui(t,0)),t.inputs):null}function za(){return $e()}function Ha(t){return t[xt]||(t[xt]=[])}function Ga(t){return t[wt].cleanup||(t[wt].cleanup=[])}function Wa(t,e){var n=Bn(t);if(n){var r=n.native,o=n.lView,i=function(t,e){if(!(e=e||Bn(r)))return null;var n=lo(e.nodeIndex,e.lView);return po(n)||yo(n)}(0,n),a=Xn(o);fo(i,a,r,e,0,t),ma(a,2)}}function Qa(t){var e=Bn(t);if(!e)return[];var n=lo(e.nodeIndex,e.lView),r=n?po(n):null;return r?function(t){for(var e=[],n=t[0],r=2;r<n;r+=2){var o=t[r];o&&e.push(o)}for(r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}var Ka="ng",Ya=!1;function Za(){Ya||(Ya=!0,Ja("getComponent",Yn),Ja("getContext",Zn),Ja("getListeners",ar),Ja("getViewComponent",Jn),Ja("getHostElement",rr),Ja("getInjector",tr),Ja("getRootComponents",$n),Ja("getDirectives",er),Ja("getPlayers",Qa),Ja("markDirty",Ca))}function Ja(t,e){if(G){var n=G[Ka];n||(n=G[Ka]={}),n[t]=e}}function Xa(t,e){void 0===e&&(e={});var n=e.rendererFactory||Ir,r=e.sanitizer||null,o=gt(t);o.type!=t&&(o.type=t);var i,a=Di(n,e.host||o.selectors[0][0]),s=o.onPush?136:132,u=es(e.scheduler,e.playerHandler),c=n.createRenderer(a,o),l=ci(null,Ai(-1,null,1,0,null,null,null),u,s,n,c,void 0,e.injector||null),h=vn(l,null);try{n.begin&&n.begin(),i=ts($a(a,o,l,n,c,r),o,l,u,e.hostFeatures||null),ui(l),l[Ct]&=-2,ui(l)}finally{_n(h),n.end&&n.end()}return i}function $a(t,e,n,r,o,i){Qe=!1,We=null,Ee=0,Ge=!0;var a=n[wt],s=ci(n,Oi(e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery),null,e.onPush?8:4,r,o,i),u=li(0,3,t,null,null);return a.firstTemplatePass&&(xn(Tn(u,n),n,e.type),u.flags=1,ta(u,n.length,1),Xi(u)),s[It]=n[Ft],s[Ot]=u,n[Ft]=s}function ts(t,e,n,r,o){var i=n[wt],a=function(t,e,n){var r=en();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Yi(t,r,1),ea(t,e,n,n.factory));var o=Mn(t.data,e,e.length-1,r);return Ji(e,r,o,n),o}(i,n,e);if(r.components.push(a),t[Dt]=a,o&&o.forEach(function(t){return t(a,e)}),i.firstTemplatePass&&e.hostBindings){var s=en();Ze(e),e.hostBindings(1,a,s.index-Ft),Ze(null)}return a}function es(t,e){return{components:[],scheduler:t||ve,clean:Ba,playerHandler:e||null,flags:0}}function ns(t,e){var n=pe(t)[wt],r=n.data.length-1;Ve(r,e.onInit,e.doCheck,n),Le(n,{directiveStart:r,directiveEnd:r+1})}function rs(t){return function(t){return le(t)[Dt]}(t).clean}function os(t){return"function"==typeof t.template}function is(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=function(){var n,o,i=void 0;if(os(t))i=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");i=e.ngDirectiveDef}var a=e.ngBaseDef;if(a||i){var s=t;s.inputs=as(t.inputs),s.declaredInputs=as(t.declaredInputs),s.outputs=as(t.outputs)}if(a&&(f(t.inputs,a.inputs),f(t.declaredInputs,a.declaredInputs),f(t.outputs,a.outputs)),i){var u=t.hostBindings,c=i.hostBindings;if(c&&(t.hostBindings=u?function(t,e,n){c(t,e,n),u(t,e,n)}:c),os(t)&&os(i)){var l=t.viewQuery,h=i.viewQuery;h&&(t.viewQuery=l?function(t,e){h(t,e),l(t,e)}:h)}var p=t.contentQueries,d=i.contentQueries;d&&(t.contentQueries=p?function(t){d(t),p(t)}:d);var y=t.contentQueriesRefresh,m=i.contentQueriesRefresh;m&&(t.contentQueriesRefresh=y?function(t,e){m(t,e),y(t,e)}:m),f(t.inputs,i.inputs),f(t.declaredInputs,i.declaredInputs),f(t.outputs,i.outputs),t.afterContentChecked=t.afterContentChecked||i.afterContentChecked,t.afterContentInit=t.afterContentInit||i.afterContentInit,t.afterViewChecked=t.afterViewChecked||i.afterViewChecked,t.afterViewInit=t.afterViewInit||i.afterViewInit,t.doCheck=t.doCheck||i.doCheck,t.onDestroy=t.onDestroy||i.onDestroy,t.onInit=t.onInit||i.onInit;var g=i.features;if(g)try{for(var v=Object(r.__values)(g),b=v.next();!b.done;b=v.next()){var _=b.value;_&&_.ngInherit&&_(t)}}catch(C){n={error:C}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return"break"}var w=e.prototype;w&&(t.afterContentChecked=t.afterContentChecked||w.afterContentChecked,t.afterContentInit=t.afterContentInit||w.afterContentInit,t.afterViewChecked=t.afterViewChecked||w.afterViewChecked,t.afterViewInit=t.afterViewInit||w.afterViewInit,t.doCheck=t.doCheck||w.doCheck,t.onDestroy=t.onDestroy||w.onDestroy,t.onInit=t.onInit||w.onInit),e=Object.getPrototypeOf(e)};e&&"break"!==n(););}function as(t){return t===at?{}:t===st?[]:t}var ss="__ngOnChanges_";function us(t){var e=t.declaredInputs,n=t.inputs,r=t.type.prototype,o=function(t){if(e.hasOwnProperty(t)){for(var o=n[t],i=e[t],a=ss+o,s=void 0,u=r;!s&&u&&Object.getPrototypeOf(u)!==Object.getPrototypeOf(Object.prototype);)s=Object.getOwnPropertyDescriptor(u,o),u=Object.getPrototypeOf(u);var c=s&&s.set;Object.defineProperty(r,o,{get:s&&s.get||(c?void 0:function(){return this[a]}),set:function(t){var e=this[ss];e||(e={},Object.defineProperty(this,ss,{value:e,writable:!0}));var n=!this.hasOwnProperty(a),r=e[i];r?r.currentValue=t:e[i]=new fr(this[a],t,n),n?Object.defineProperty(this,a,{value:t,writable:!0}):this[a]=t,c&&c.call(this,t)},configurable:!1})}};for(var i in e)o(i);null!=t.onInit&&(t.onInit=cs(t.onInit)),t.doCheck=cs(t.doCheck)}function cs(t){return function(){var e=this[ss];null!=e&&(this.ngOnChanges(e),this[ss]=null),t&&t.apply(this)}}function ls(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}us.ngInherit=!0;var hs="__source",fs=new Object,ps=fs,ds=new T("INJECTOR"),ys=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=fs),e===fs)throw new Error("NullInjectorError: No provider for "+J(t)+"!");return e},t}(),ms=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Os(t,e):new Os(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=fs,t.NULL=new ys,t.ngInjectableDef=w({providedIn:"any",factory:function(){return Re(ds)}}),t.__NG_ELEMENT_ID__=function(){return vs()},t}(),gs=function(){return t=en(),new Ln(t,$e());var t},vs=ls,bs=function(t){return t},_s=[],ws=bs,Cs=function(){return Array.prototype.slice.call(arguments)},Es=h({provide:String,useValue:h}),Ss=ms.NULL,Ts=/\n/gm,Is="\u0275",Os=function(){function t(t,e,n){void 0===e&&(e=Ss),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(ms,{token:ms,fn:bs,deps:_s,value:this,useNew:!1}),r.set(ds,{token:ds,fn:bs,deps:_s,value:this,useNew:!1}),function t(e,n){if(n)if((n=tt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ds("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ds("Unexpected provider",n);var o=tt(n.provide),i=function(t){var e=function(t){var e=_s,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var o=6;if((u=tt(n[r]))instanceof Array)for(var i=0,a=u;i<a.length;i++){var s=a[i];s instanceof Te||s==Te?o|=1:s instanceof Oe||s==Oe?o&=-3:s instanceof Ie||s==Ie?o&=-5:u=s instanceof Se?s.token:tt(s)}e.push({token:u,options:o})}}else if(t.useExisting){var u;e=[{token:u=tt(t.useExisting),options:6}]}else if(!(n||Es in t))throw Ds("'deps' required",t);return e}(t),n=bs,r=_s,o=!1,i=tt(t.provide);if(Es in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=tt(t.useClass);else{if("function"!=typeof i)throw Ds("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=i}return{deps:e,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var a=e.get(o);if(a){if(a.fn!==Cs)throw As(o)}else e.set(o,a={token:n.provide,deps:[],useNew:!1,fn:Cs,value:_s});a.deps.push({token:o=n,options:6})}var s=e.get(o);if(s&&s.fn==Cs)throw As(o);e.set(o,i)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=xe.Default);var o=this._records.get(t);try{return function t(e,n,o,i,a,s){try{return function(e,n,o,i,a,s){var u,c;if(!n||s&xe.SkipSelf)s&xe.Self||(c=i.get(e,a,xe.Default));else{if((c=n.value)==ws)throw Error(Is+"Circular dependency");if(c===_s){n.value=ws;var l=n.useNew,h=n.fn,f=n.deps,p=_s;if(f.length){p=[];for(var d=0;d<f.length;d++){var y=f[d],m=y.options,g=2&m?o.get(y.token):void 0;p.push(t(y.token,g,o,g||4&m?i:Ss,1&m?null:ms.THROW_IF_NOT_FOUND,xe.Default))}}n.value=c=l?new((u=h).bind.apply(u,Object(r.__spread)([void 0],p))):h.apply(void 0,p)}}return c}(e,n,o,i,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==ws&&(n.value=_s),u}}(t,o,this._records,this.parent,e,n)}catch(a){var i=a.ngTempTokenPath;throw t[hs]&&i.unshift(t[hs]),a.message=xs("\n"+a.message,i,this.source),a.ngTokenPath=i,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(J(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function As(t){return Ds("Cannot mix multi providers and regular providers",t)}function xs(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Is?t.substr(2):t;var r=J(e);if(e instanceof Array)r=e.map(J).join(" -> ");else if("object"==typeof e){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];o.push(i+":"+("string"==typeof a?JSON.stringify(a):J(a)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Ts,"\n  ")}function Ds(t,e){return new Error(xs(t,e))}var Ns=new T("The presence of this token marks an injector as being the root injector."),ks={},Ps={},Rs=[],Ms=void 0;function js(){return void 0===Ms&&(Ms=new ys),Ms}function Vs(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||js(),new Ls(t,n,e)}var Ls=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var o=[];qs([t],function(t){return r.processInjectorType(t,[],o)}),e&&qs(e,function(n){return r.processProvider(n,t,e)}),this.records.set(ds,Bs(void 0,this)),this.isRootInjector=this.records.has(Ns),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=ps),void 0===n&&(n=xe.Default),this.assertNotDestroyed();var r,o=Ne(this);try{if(!(n&xe.SkipSelf)){var i=this.records.get(t);if(void 0===i){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof T)&&E(t);a&&this.injectableDefInScope(a)&&(i=Bs(Fs(t),ks),this.records.set(t,i))}if(void 0!==i)return this.hydrate(t,i)}return(n&xe.Self?js():this.parent).get(t,e)}finally{Ne(o)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=tt(t)){var o=S(t),i=null==o&&t.ngModule||void 0,a=void 0===i?t:i,s=-1!==n.indexOf(a),u=void 0!==i&&t.providers||Rs;if(void 0!==i&&(o=S(i)),null!=o){if(this.injectorDefTypes.add(a),this.records.set(a,Bs(o.factory,ks)),null!=o.imports&&!s){n.push(a);try{qs(o.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var c=o.providers;if(null!=c&&!s){var l=t;qs(c,function(t){return r.processProvider(t,l,c)})}var h=t.ngModule;qs(u,function(t){return r.processProvider(t,h,u)})}}},t.prototype.processProvider=function(t,e,n){var r=Hs(t=tt(t))?t:tt(t&&t.provide),o=function(t,e,n){var r=Us(t,e,n);return zs(t)?Bs(void 0,t.useValue):Bs(r,ks)}(t,e,n);if(Hs(t)||!0!==t.multi){var i=this.records.get(r);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+J(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=Bs(void 0,ks,!0)).factory=function(){return je(a.multi)},this.records.set(r,a);r=t,a.multi.push(t)}this.records.set(r,o)},t.prototype.hydrate=function(t,e){if(e.value===Ps)throw new Error("Cannot instantiate cyclic dependency! "+J(t));var n;return e.value===ks&&(e.value=Ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Fs(t){var e=E(t);if(null===e){var n=S(t);if(null!==n)return n.factory;if(t instanceof T)throw new Error("Token "+J(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var o=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+J(t)+": ("+o.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function Us(t,e,n){var o,i=void 0;if(Hs(t))return Fs(tt(t));if(zs(t))i=function(){return tt(t.useValue)};else if((o=t)&&o.useExisting)i=function(){return Re(tt(t.useExisting))};else if(t&&t.useFactory)i=function(){return t.useFactory.apply(t,Object(r.__spread)(je(t.deps||[])))};else{var a=tt(t&&(t.useClass||t.provide));if(!a){var s="";throw e&&n&&(s=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+J(e)+"'"+s)}if(!t.deps)return Fs(a);i=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],je(t.deps))))}}return i}function Bs(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function qs(t,e){t.forEach(function(t){return Array.isArray(t)?qs(t,e):e(t)})}function zs(t){return t&&"object"==typeof t&&Es in t}function Hs(t){return"function"==typeof t}function Gs(t,e,n,r,o){if(t=tt(t),Array.isArray(t))for(var i=0;i<t.length;i++)Gs(t[i],e,n,r,o);else{var a=$e(),s=Hs(t)?t:tt(t.provide),u=Us(t),c=en(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(Hs(t)||!t.multi){var p=new Zt(u,o,La),d=Qs(s,e,o?l:l+f,h);-1==d?(xn(Tn(c,a),a,s),e.push(s),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(p),a.push(p)):(n[d]=p,a[d]=p)}else{var y=Qs(s,e,l+f,h),m=Qs(s,e,l,l+f),g=m>=0&&n[m];o&&!g||!o&&!(y>=0&&n[y])?(xn(Tn(c,a),a,s),p=function(t,e,n,r,o){var i=new Zt(t,n,La);return i.multi=[],i.index=e,i.componentProviders=0,Ws(i,o,r&&!n),i}(o?Ys:Ks,n.length,o,r,u),!o&&g&&(n[m].providerFactory=p),e.push(s),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(p),a.push(p)):Ws(n[o?m:y],u,!o&&r),!o&&r&&g&&n[m].componentProviders++}}}function Ws(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Qs(t,e,n,r){for(var o=n;o<r;o++)if(e[o]===t)return o;return-1}function Ks(t,e,n,r){return Zs(this.multi,[])}function Ys(t,e,n,r){var o,i=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Mn(e,n,this.providerFactory.index,r);Zs(i,o=s.slice(0,a));for(var u=a;u<s.length;u++)o.push(s[u])}else Zs(i,o=[]);return o}function Zs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Js(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n){return function(t,e,n){var r=$e()[wt];if(r.firstTemplatePass){var o=se(t);Gs(n,r.data,r.blueprint,o,!0),Gs(e,r.data,r.blueprint,o,!1)}}(n,t,e)}}}var Xs=function(){return function(){}}(),$s=function(){return function(){}}();function tu(t){var e=Error("No component factory found for "+J(t)+". Did you add it to @NgModule.entryComponents?");return e[ou]=t,e}var eu,nu,ru,ou="ngComponent",iu=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw tu(t)},t}(),au=function(){function t(){}return t.NULL=new iu,t}(),su=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw tu(t);return new uu(e,this._ngModule)},t}(),uu=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}($s),cu=function(){return function(){}}(),lu=function(){return function(){}}(),hu=function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[It]?function t(e,n,r){for(var o=n.child;o;)r.push(ne(o,e)),4===o.type&&t(e,o,r),o=o.next;return r}(this._lView,this._lView[Ot],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Ct])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,Ha(e=this._lView).push(n),e[wt].firstTemplatePass&&Ga(e).push(e[xt].length-1,null)},t.prototype.markForCheck=function(){ya(this._lView)},t.prototype.detach=function(){this._lView[Ct]&=-17},t.prototype.reattach=function(){this._lView[Ct]|=16},t.prototype.detectChanges=function(){ba(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t){hn(!0);try{va(t)}finally{hn(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._lView[Et][this._componentIndex]},t}(),fu=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){_a(this._view)},e.prototype.checkNoChanges=function(){!function(t){hn(!0);try{_a(t)}finally{hn(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(hu);function pu(t,e,n){return eu||(eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t)),new eu(ne(e,n))}function du(t,e,n,o){if(nu||(nu=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s._declarationParentView=e,s.elementRef=n,s._tView=r,s._renderer=o,s._queries=i,s._injectorIndex=a,s}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t,e,n,r,o){var i=function(t,e,n,r,o,i){var a=on(),s=en();an(!0),nn(null);var u=ci(n,t,e,4);return u[Lt]=n,o&&(u[Tt]=o.createView()),hi(-1,u),t.firstTemplatePass&&(t.node.injectorIndex=i),an(a),nn(s),u}(this._tView,t,this._declarationParentView,0,this._queries,this._injectorIndex);e&&jr(i,e,r,o,n.index),pi(i,this._tView,t);var a=new hu(i,t,-1);return a._tViewNode=i[Ot],a},e}(t)),0===n.type){var i=o[n.index];return new nu(o,pu(e,n,o),n.tViews,$e()[Pt],i[Tt],n.injectorIndex)}return null}function yu(t,e,n){if(ae(t)){var r=t.directiveStart,o=oe(t.index,e);return new hu(o,n,r)}if(3===t.type){var i=_e(e);return new hu(i,i[Dt],-1)}return null}var mu=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return vu(t)},t}(),gu=function(t){return pu(t,en(),$e())},vu=ls,bu=function(){return function(t,e,n,r,o,i){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i}}(),_u=function(){return function(){}}(),wu=function(){return function(){}}(),Cu=function(){return function(){}}(),Eu=function(){return function(){}}(),Su=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Tu=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Ou()},t}(),Iu=function(){return function(t){var e=$e()[Pt];if(Tr(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Ou=ls,Au=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),xu=function(){return function(){}}(),Du=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Nu=new Du("7.2.15"),ku=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=gt(t);return new Vu(e,this.ngModule)},e}(au);function Pu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ru=new T("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return es(Re(Mu))}}),Mu=new T("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ve}}),ju={},Vu=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Pu(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Pu(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var o=void 0===n,i=(r=r||this.ngModule)?function(t,e){return{get:function(n,r){var o=t.get(n,ju);return o!==ju||r===ju?o:e.get(n,r)}}}(t,r.injector):t,a=i.get(Eu,Ir),s=i.get(xu,null),u=o?Ti(this.selector,a.createRenderer(null,this.componentDef)):Di(a,n),c=this.componentDef.onPush?136:132,l=o?es():i.get(Ru),h=a.createRenderer(u,this.componentDef);n&&u&&(Tr(h)?h.setAttribute(u,"ng-version",Nu.full):u.setAttribute("ng-version",Nu.full));var f,p,d=ci(null,Ai(-1,null,1,0,null,null,null),l,c,a,h,s,i),y=vn(d,null);try{a.begin&&a.begin();var m=$a(u,this.componentDef,d,a,h);if(p=re(0,d),e)for(var g=0,v=d[wt],b=p.projection=[],_=0;_<e.length;_++){for(var w=e[_],C=null,E=null,S=0;S<w.length;S++){v.firstTemplatePass&&(v.expandoStartIndex++,v.blueprint.splice(++g+Ft,0,null),v.data.splice(g+Ft,0,null),d.splice(g+Ft,0,null));var T=li(g,3,w[S],null,null);E?E.next=T:C=T,E=T}b.push(C)}f=ts(m,this.componentDef,d,l,[ns]),da(d,Ft,m),ui(d)}finally{_n(y),a.end&&a.end()}var I=new Lu(this.componentType,f,pu(mu,p,d),d,p);return o&&(I.hostView._tViewNode.child=p),I},e}($s),Lu=function(t){function e(e,n,r,o,i){var a=t.call(this)||this;return a.location=r,a._rootLView=o,a._tNode=i,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new fu(o),a.hostView._tViewNode=hi(-1,o),a.componentType=e,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ln(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Xs),Fu=!0,Uu=!1;function Bu(){return Uu=!0,Fu}function qu(){if(Uu)throw new Error("Cannot enable prod mode after platform setup.");Fu=!1}var zu=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},t}(),Hu=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Gu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wu(t){return(t=String(t)).match(Hu)||t.match(Gu)?t:(Bu()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Qu(t){return(t=String(t)).split(",").map(function(t){return Wu(t.trim())}).join(", ")}function Ku(t){var e,n,o={};try{for(var i=Object(r.__values)(t.split(",")),a=i.next();!a.done;a=i.next())o[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}function Yu(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={};try{for(var a=Object(r.__values)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(i[c]=!0)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return i}var Zu,Ju=Ku("area,br,col,hr,img,wbr"),Xu=Ku("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$u=Ku("rp,rt"),tc=Yu($u,Xu),ec=Yu(Ju,Yu(Xu,Ku("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yu($u,Ku("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tc),nc=Ku("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rc=Ku("srcset"),oc=Yu(nc,rc,Ku("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ic=Ku("script,style,template"),ac=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!ec.hasOwnProperty(e))return this.sanitizedSomething=!0,!ic.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.name,a=i.toLowerCase();if(oc.hasOwnProperty(a)){var s=o.value;nc[a]&&(s=Wu(s)),rc[a]&&(s=Qu(s)),this.buf.push(" ",i,'="',cc(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();ec.hasOwnProperty(e)&&!Ju.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(cc(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),sc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uc=/([^\#-~ |!])/g;function cc(t){return t.replace(/&/g,"&amp;").replace(sc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(uc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lc(t,e){var n=null;try{Zu=Zu||new zu(t);var r=e?String(e):"";n=Zu.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Zu.getInertBodyElement(r)}while(r!==i);var a=new ac,s=a.sanitizeChildren(hc(n)||n);return Bu()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=hc(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function hc(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fc={marker:"element"},pc={marker:"comment"},dc="\ufffd",yc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,mc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,gc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vc=/\ufffd(\d+):?\d*\ufffd/gi,bc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,_c=/\[(\ufffd.+?\ufffd?)\]/g,wc=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Cc=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g;function Ec(t){if(!t)return[];var e,n=0,r=[],o=[],i=/[{}]/g;for(i.lastIndex=0;e=i.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);yc.test(s)?o.push(Sc(s)):s&&o.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);o.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return""!=c&&o.push(c),o}function Sc(t){for(var e=[],n=[],r=1,o=0,i=Ec(t=t.replace(yc,function(t,e,n){return r="select"===n?0:1,o=parseInt(e.substr(1),10),""})),a=0;a<i.length;){var s=i[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Ec(i[a++]);u.length&&n.push(u)}return c=e.indexOf("other"),l='Missing key "other" in ICU statement.',c<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(l),{type:r,mainBinding:o,cases:e,values:n};var c,l}function Tc(t){for(var e,n,r="",o=0,i=!1;null!==(e=mc.exec(t));)i?e[0]===dc+"/*"+n+dc&&(o=e.index,i=!1):(r+=t.substring(o,e.index+e[0].length),n=e[1],i=!0);return r+t.substr(o)}function Ic(t,e,n,r){void 0===r&&(r=null);for(var o=[null,null],i=t.split(vc),a=0,s=0;s<i.length;s++){var u=i[s];if(1&s){var c=parseInt(u,10);o.push(-1-c),a|=Dc(c)}else""!==u&&o.push(u)}return o.push(e<<2|(n?1:0)),n&&o.push(n,r),o[0]=a,o[1]=o.length-2,o}function Oc(t,e){var n;void 0===e&&(e=0),e|=Dc(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var o=t.values[r],i=0;i<o.length;i++){var a=o[i];if("string"==typeof a)for(;n=vc.exec(a);)e|=Dc(parseInt(n[1],10));else e=Oc(a,e)}return e}var Ac=[],xc=-1;function Dc(t){return 1<<Math.min(t,31)}var Nc=[];function kc(t,e,n){var r=$e()[wt];Ac[++xc]=t,r.firstTemplatePass&&null===r.data[t+Ft]&&function(t,e,n,r){var o=$e(),i=t.blueprint.length-Ft,a=en(),s=on()?en():a&&a.parent,u=s&&s!==o[Ot]?s.index-Ft:e,c=0;Nc[c]=u;var l=[];e>0&&a!==s&&l.push(a.index<<3|0);for(var h=[],f=[],p=function(t,e){if("number"!=typeof e)return Tc(t);var n=t.indexOf(":"+e+dc)+2+e.toString().length,r=t.search(new RegExp(dc+"\\/\\*\\d+:"+e+dc));return Tc(t.substring(n,r))}(n,r).split(gc),d=0;d<p.length;d++){var y=p[d];if(1&d)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var m=parseInt(y.substr(2),10);u=Nc[--c],l.push(m<<3|5)}}else m=parseInt(y.substr(1),10),l.push(m<<3|0,u<<17|1),"#"===y.charAt(0)&&(Nc[++c]=u=m);else for(var g=y.split(bc),v=0;v<g.length;v++)if(y=g[v],1&v){fi(o);var b=t.blueprint.length-1-Ft;l.push(pc,"",u<<17|1);var _=Sc(y.substr(1,y.length-2)),w=Oc(_);Wc(f,_,b,b);var C=f.length-1;h.push(Dc(_.mainBinding),3,-1-_.mainBinding,b<<2|2,C,w,2,b<<2|3,C)}else if(""!==y){var E=y.match(vc);fi(o),l.push(E?"":y,u<<17|1),E&&be(Ic(y,t.blueprint.length-1-Ft),h)}}t.data[e+Ft]={vars:t.blueprint.length-Ft-i,expandoStartIndex:i,create:l,update:h,icus:f.length?f:null}}(r,t,e,n)}function Pc(t,e,n){var r=$e();n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[Ot]&&(t.parent=e),Qr(ne(t,r),t,r);var o=r[t.index];return 0!==t.type&&ue(o)&&Qr(o[qt],t,r),t}function Rc(t,e){var n={},r=t.replace(_c,function(t,e){if(n[e]||(n[e]=e.split("|")),!n[e].length)throw new Error("i18n postprocess: unmatched placeholder - "+e);return n[e].shift()});if(Object.keys(n).some(function(t){return!!n[t].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(n));return Object.keys(e).length?r=(r=r.replace(wc,function(t,n,r,o,i,a){return e.hasOwnProperty(r)?""+n+e[r]+a:t})).replace(Cc,function(t,n){if(e.hasOwnProperty(n)){var r=e[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+t+" with key: "+n);return r.shift()}return t}):r}function Mc(){!function(t){for(var e=$e(),n=Ac[xc--],r=t.data[n+Ft],o=en(),i=jc(n,r.create,r.expandoStartIndex,e),a=n+1;a<=o.index-Ft;a++)-1===i.indexOf(a)&&Vc(a,e)}($e()[wt])}function jc(t,e,n,r){for(var o=$e()[Pt],i=null,a=null,s=[],u=0;u<e.length;u++){var c=e[u];if("string"==typeof c)a=i,i=li(n++,3,Rr(c,o),null,null),an(!1);else if("number"==typeof c)switch(7&c){case 1:var l=c>>>17,h=void 0;a=Pc(i,h=l===t?r[Ot]:re(l,r),a),h.next=null;break;case 0:var f=c>>>3;s.push(f),a=i,(i=re(f,r))&&(nn(i),3===i.type&&an(!0));break;case 5:a=i=re(c>>>3,r),nn(i),an(!1);break;case 4:Pi(c>>>3,e[++u],e[++u]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}else switch(c){case pc:var p=e[++u],d=o.createComment(p);a=i,i=li(n++,5,d,null,null),Hn(d,r),i.activeCaseIndex=null,an(!1);break;case fc:var y=e[++u];a=i,i=li(n++,3,o.createElement(y),y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}}return an(!1),s}function Vc(t,e){var n=re(t,e);Zr(n,ee(t,e)||null,e),n.detached=!0;var r=Va(t);if(ue(r)){var o=r;0!==n.type&&Zr(n,o[qt]||null,e),o[zt]=null}}function Lc(t,e,n){kc(t,e,n),Mc()}function Fc(t,e){var n=$e()[wt];n.firstTemplatePass&&null===n.data[t+Ft]&&function(t,e,n){for(var r=en().index-Ft,o=[],i=0;i<n.length;i+=2)for(var a=n[i],s=n[i+1].split(bc),u=0;u<s.length;u++){var c=s[u];1&u||""!==c&&(c.match(vc)?be(Ic(c,r,a),o):Pi(r,a,c))}t.data[e+Ft]=o}(n,t,e)}var Uc=0,Bc=0;function qc(t){t!==mr&&(Uc|=1<<Bc),Bc++}function zc(t){if(Bc){var e=$e(),n=e[wt].data[t+Ft],r=void 0,o=null;Array.isArray(n)?r=n:(r=n.update,o=n.icus),function t(e,n,r,o,i,a){void 0===a&&(a=!1);for(var s=!1,u=0;u<e.length;u++){var c=e[u],l=e[++u];if(a||c&o)for(var h="",f=u+1;f<=u+l;f++){var p=e[f];if("string"==typeof p)h+=p;else if("number"==typeof p)if(p<0)h+=Xt(i[r-p]);else{var d=p>>>2,y=void 0,m=void 0;switch(3&p){case 1:Pi(d,e[++f],h,e[++f]);break;case 0:Ki(d,h);break;case 2:if(y=n[e[++f]],null!==(m=re(d,i)).activeCaseIndex)for(var g=y.remove[m.activeCaseIndex],v=0;v<g.length;v++){var b=g[v];switch(7&b){case 3:Vc(b>>>3,i);break;case 6:var _=re(g[v+1]>>>3,i).activeCaseIndex;null!==_&&be(n[b>>>3].remove[_],g)}}var w=Gc(y,h);m.activeCaseIndex=-1!==w?w:null,jc(-1,y.create[w],y.expandoStartIndex,i),s=!0;break;case 3:y=n[e[++f]],m=re(d,i),t(y.update[m.activeCaseIndex],n,r,o,i,s)}}}u+=l}}(r,o,e[At]-Bc-1,Uc,e),Uc=0,Bc=0}}var Hc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});function Gc(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,n){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),o=Math.floor(Math.abs(n)),i=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Hc.One:Hc.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Hc.One:Hc.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===o||1===n?Hc.One:Hc.Other;case"ar":return 0===n?Hc.Zero:1===n?Hc.One:2===n?Hc.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Hc.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Hc.Many:Hc.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===o&&0===i?Hc.One:Hc.Other;case"be":return n%10==1&&n%100!=11?Hc.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Hc.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Hc.Many:Hc.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Hc.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Hc.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Hc.Few:0!==n&&n%1e6==0?Hc.Many:Hc.Other;case"bs":case"hr":case"sr":return 0===i&&o%10==1&&o%100!=11||a%10==1&&a%100!=11?Hc.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?Hc.Few:Hc.Other;case"cs":case"sk":return 1===o&&0===i?Hc.One:o===Math.floor(o)&&o>=2&&o<=4&&0===i?Hc.Few:0!==i?Hc.Many:Hc.Other;case"cy":return 0===n?Hc.Zero:1===n?Hc.One:2===n?Hc.Two:3===n?Hc.Few:6===n?Hc.Many:Hc.Other;case"da":return 1===n||0!==s&&(0===o||1===o)?Hc.One:Hc.Other;case"dsb":case"hsb":return 0===i&&o%100==1||a%100==1?Hc.One:0===i&&o%100==2||a%100==2?Hc.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?Hc.Few:Hc.Other;case"ff":case"fr":case"hy":case"kab":return 0===o||1===o?Hc.One:Hc.Other;case"fil":return 0===i&&(1===o||2===o||3===o)||0===i&&o%10!=4&&o%10!=6&&o%10!=9||0!==i&&a%10!=4&&a%10!=6&&a%10!=9?Hc.One:Hc.Other;case"ga":return 1===n?Hc.One:2===n?Hc.Two:n===Math.floor(n)&&n>=3&&n<=6?Hc.Few:n===Math.floor(n)&&n>=7&&n<=10?Hc.Many:Hc.Other;case"gd":return 1===n||11===n?Hc.One:2===n||12===n?Hc.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Hc.Few:Hc.Other;case"gv":return 0===i&&o%10==1?Hc.One:0===i&&o%10==2?Hc.Two:0!==i||o%100!=0&&o%100!=20&&o%100!=40&&o%100!=60&&o%100!=80?0!==i?Hc.Many:Hc.Other:Hc.Few;case"he":return 1===o&&0===i?Hc.One:2===o&&0===i?Hc.Two:0!==i||n>=0&&n<=10||n%10!=0?Hc.Other:Hc.Many;case"is":return 0===s&&o%10==1&&o%100!=11||0!==s?Hc.One:Hc.Other;case"ksh":return 0===n?Hc.Zero:1===n?Hc.One:Hc.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Hc.One:2===n?Hc.Two:Hc.Other;case"lag":return 0===n?Hc.Zero:0!==o&&1!==o||0===n?Hc.Other:Hc.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Hc.Few:0!==a?Hc.Many:Hc.Other:Hc.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?Hc.Zero:n%10==1&&n%100!=11||2===i&&a%10==1&&a%100!=11||2!==i&&a%10==1?Hc.One:Hc.Other;case"mk":return 0===i&&o%10==1||a%10==1?Hc.One:Hc.Other;case"mt":return 1===n?Hc.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Hc.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Hc.Many:Hc.Other;case"pl":return 1===o&&0===i?Hc.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?Hc.Few:0===i&&1!==o&&o%10===Math.floor(o%10)&&o%10>=0&&o%10<=1||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=12&&o%100<=14?Hc.Many:Hc.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Hc.One:Hc.Other;case"ro":return 1===o&&0===i?Hc.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Hc.Few:Hc.Other;case"ru":case"uk":return 0===i&&o%10==1&&o%100!=11?Hc.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?Hc.Few:0===i&&o%10==0||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?Hc.Many:Hc.Other;case"shi":return 0===o||1===n?Hc.One:n===Math.floor(n)&&n>=2&&n<=10?Hc.Few:Hc.Other;case"si":return 0===n||1===n||0===o&&1===a?Hc.One:Hc.Other;case"sl":return 0===i&&o%100==1?Hc.One:0===i&&o%100==2?Hc.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||0!==i?Hc.Few:Hc.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Hc.One:Hc.Other;default:return Hc.Other}}("en-US",e)){case Hc.Zero:return"zero";case Hc.One:return"one";case Hc.Two:return"two";case Hc.Few:return"few";case Hc.Many:return"many";default:return"other"}}();-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}function Wc(t,e,n,o){for(var i=[],a=[],s=[],u=[],c=[],l=0;l<e.values.length;l++){for(var h=e.values[l],f=[],p=0;p<h.length;p++){var d=h[p];if("string"!=typeof d){var y=f.push(d)-1;h[p]="\x3c!--\ufffd"+y+"\ufffd--\x3e"}}var m=Qc(h.join(""),n,f,t,o);i.push(m.create),a.push(m.remove),s.push(m.update),u.push(m.vars),c.push(m.childIcus)}t.push({type:e.type,vars:u,expandoStartIndex:o+1,childIcus:c,cases:e.cases,create:i,remove:a,update:s});var g=$e(),v=Math.max.apply(Math,Object(r.__spread)(u));for(l=0;l<v;l++)fi(g)}function Qc(t,e,n,o,i){var a=new zu(document).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,o,i,a,s){if(e){for(var u=[];e;){var c=e.nextSibling,l=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var h=e,f=h.tagName.toLowerCase();if(ec.hasOwnProperty(f)){n.create.push(fc,f,o<<17|1);for(var p=h.attributes,d=0;d<p.length;d++){var y=p.item(d),m=y.name.toLowerCase();y.value.match(vc)?oc.hasOwnProperty(m)&&be(nc[m]?Ic(y.value,l,y.name,Wu):rc[m]?Ic(y.value,l,y.name,Qu):Ic(y.value,l,y.name),n.update):n.create.push(l<<3|4,y.name,y.value)}t(e.firstChild,n,l,i,a,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var g=e.textContent||"",v=g.match(vc);n.create.push(v?"":g,o<<17|1),n.remove.push(l<<3|3),v&&be(Ic(g,l),n.update);break;case Node.COMMENT_NODE:var b=Kc.exec(e.textContent||"");if(b){var _=parseInt(b[1],10);n.create.push(pc,"",o<<17|1),u.push([w=i[_],l])}else n.vars--;break;default:n.vars--}e=c}for(d=0;d<u.length;d++){var w,C=u[d][1];Wc(a,w=u[d][0],C,s+n.vars);var E=a.length-1;n.vars+=Math.max.apply(Math,Object(r.__spread)(a[E].vars)),n.childIcus.push(E);var S=Oc(w);n.update.push(Dc(w.mainBinding),3,-1-w.mainBinding,C<<2|2,E,S,2,C<<2|3,E),n.remove.push(E<<3|6,C<<3|3)}}}((hc(a)||a).firstChild,s,e,n,o,i),s}var Kc=/\ufffd(\d+)\ufffd/,Yc={provide:au,useClass:ku,deps:[cu]},Zc=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var o=_t(e);return r._bootstrapComponents=o.bootstrap,r._r3Injector=Vs(e,n,[{provide:cu,useValue:r},Yc]),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=ms.THROW_IF_NOT_FOUND),void 0===n&&(n=xe.Default),t===ms||t===cu||t===ds?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(au)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(cu),Jc=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.__extends)(e,t),e.prototype.create=function(t){return new Zc(this.moduleType,t)},e}(lu);function Xc(t,e,n,o){var i,a=t;null!==e&&(void 0!==a.decorators?(i=a.decorators).push.apply(i,Object(r.__spread)(e)):a.decorators=e),null!==n&&(a.ctorParameters=n),null!==o&&(a.propDecorators=void 0!==a.propDecorators?Object(r.__assign)({},a.propDecorators,o):o)}function $c(t,e,n){var r=mn()+t,o=$e();return sn()?gr(o,r,n?e.call(n):e()):vr(o,r)}function tl(t,e,n,r){var o=$e(),i=mn()+t;return br(o,i,n)?gr(o,i+1,r?e.call(r,n):e(n)):vr(o,i+1)}function el(t,e,n,r,o){var i=mn()+t,a=$e();return _r(a,i,n,r)?gr(a,i+2,o?e.call(o,n,r):e(n,r)):vr(a,i+2)}function nl(t,e,n,r,o,i){var a=mn()+t,s=$e();return wr(s,a,n,r,o)?gr(s,a+3,i?e.call(i,n,r,o):e(n,r,o)):vr(s,a+3)}function rl(t,e,n,r,o,i,a){var s=mn()+t,u=$e();return Cr(u,s,n,r,o,i)?gr(u,s+4,a?e.call(a,n,r,o,i):e(n,r,o,i)):vr(u,s+4)}function ol(t,e,n,r,o,i,a,s){var u=mn()+t,c=$e(),l=Cr(c,u,n,r,o,i);return br(c,u+4,a)||l?gr(c,u+5,s?e.call(s,n,r,o,i,a):e(n,r,o,i,a)):vr(c,u+5)}function il(t,e,n,r,o,i,a,s,u){var c=mn()+t,l=$e(),h=Cr(l,c,n,r,o,i);return _r(l,c+4,a,s)||h?gr(l,c+6,u?e.call(u,n,r,o,i,a,s):e(n,r,o,i,a,s)):vr(l,c+6)}function al(t,e,n,r,o,i,a,s,u,c){var l=mn()+t,h=$e(),f=Cr(h,l,n,r,o,i);return wr(h,l+4,a,s,u)||f?gr(h,l+7,c?e.call(c,n,r,o,i,a,s,u):e(n,r,o,i,a,s,u)):vr(h,l+7)}function sl(t,e,n,r,o,i,a,s,u,c,l){var h=mn()+t,f=$e(),p=Cr(f,h,n,r,o,i);return Cr(f,h+4,a,s,u,c)||p?gr(f,h+8,l?e.call(l,n,r,o,i,a,s,u,c):e(n,r,o,i,a,s,u,c)):vr(f,h+8)}function ul(t,e,n,r){for(var o=mn()+t,i=!1,a=$e(),s=0;s<n.length;s++)br(a,o++,n[s])&&(i=!0);return i?gr(a,o,e.apply(r,n)):vr(a,o)}function cl(t,e){var n,r=$e()[wt],o=t+Ft;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(o,n.onDestroy)):n=r.data[o];var i=n.factory(null);return Ra(t,i),i}function ll(t,e,n){var r=Va(t);return ml(yl(t)?tl(e,r.transform,n,r):r.transform(n))}function hl(t,e,n,r){var o=Va(t);return ml(yl(t)?el(e,o.transform,n,r,o):o.transform(n,r))}function fl(t,e,n,r,o){var i=Va(t);return ml(yl(t)?nl(e,i.transform,n,r,o,i):i.transform(n,r,o))}function pl(t,e,n,r,o,i){var a=Va(t);return ml(yl(t)?rl(e,a.transform,n,r,o,i,a):a.transform(n,r,o,i))}function dl(t,e,n){var r=Va(t);return ml(yl(t)?ul(e,r.transform,n,r):r.transform.apply(r,n))}function yl(t){return $e()[wt].data[t+Ft].pure}function ml(t){return hr.isWrapped(t)&&(t=hr.unwrap(t),$e()[mn()]=mr),t}var gl=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,i,a,s);return e instanceof o.a&&e.add(u),u},e}(i.a),vl=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return _l(t,mu)},t}(),bl=function(t,e){return du(t,e,en(),$e())},_l=ls,wl=function(){function t(t,e,n){this.parent=t,this.shallow=e,this.deep=n}return t.prototype.track=function(t,e,n,r){n?this.deep=Pl(this.deep,t,e,null!=r?r:null):this.shallow=Pl(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return new t(this,null,this.deep)},t.prototype.container=function(){var e=Cl(this.shallow),n=Cl(this.deep);return e||n?new t(this,e,n):null},t.prototype.createView=function(){var e=El(this.shallow),n=El(this.deep);return e||n?new t(this,e,n):null},t.prototype.insertView=function(t){Sl(t,this.shallow),Sl(t,this.deep)},t.prototype.addNode=function(t){return Dl(this.deep,t),ie(t)?(Dl(this.shallow,t),t.parent&&ie(t.parent)&&Dl(this.parent.shallow,t),this.parent):(function(t){return null===t.parent||ie(t.parent)}(t)&&Dl(this.shallow,t),this)},t.prototype.removeView=function(){Tl(this.shallow),Tl(this.deep)},t}();function Cl(t){for(var e=null;t;){var n=[];t.values.push(n),e={next:e,list:t.list,predicate:t.predicate,values:n,containerValues:null},t=t.next}return e}function El(t){for(var e=null;t;)e={next:e,list:t.list,predicate:t.predicate,values:[],containerValues:t.values},t=t.next;return e}function Sl(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e=e.next}function Tl(t){for(;t;){var e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function Il(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ol(t,e,n){var r=t[_];if("function"==typeof r)return r();var o=Rn(e,n,t,!1,!1);return null!==o?Mn(n[wt].data,n,o,e):null}function Al(t,e,n,r){var o=t[_]();return r?o?Ol(r,e,n):null:o}function xl(t,e,n,r){return n?Ol(n,t,e):r>-1?Mn(e[wt].data,e,r,t):function(t,e){return 3===t.type||4===t.type?pu(mu,t,e):0===t.type?du(vl,mu,t,e):null}(t,e)}function Dl(t,e){for(var n=$e();t;){var r=t.predicate,o=r.type;if(o){var i=null;o===vl?i=Al(o,e,n,r.read):null!==(u=Rn(e,n,o,!1,!1))&&(i=xl(e,n,r.read,u)),null!==i&&Nl(t,i)}else for(var a=r.selector,s=0;s<a.length;s++){var u;null!==(u=Il(e,a[s]))&&null!==(i=xl(e,n,r.read,u))&&Nl(t,i)}t=t.next}}function Nl(t,e){t.values.push(e),t.list.setDirty()}function kl(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}function Pl(t,e,n,r){return{next:t,list:e,predicate:kl(n,r),values:e._valuesTree,containerValues:null}}var Rl=function(){function t(){this.dirty=!0,this.changes=new gl,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[K()]=function(){return this._values[K()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Ml(t,e,n,r){var o,i,a,s=new Rl;return(o=wl,i=$e(),a=i[Tt],We&&We!==i[Ot]&&!ie(We)&&(a&&(a=i[Tt]=a.clone()),We.flags|=4),a||(i[Tt]=new o(null,null,null))).track(s,e,n,r),function(t,e,n){var r=Ha(t);r.push(e),t[wt].firstTemplatePass&&Ga(t).push(n,r.length-1)}($e(),s,s.destroy),null!=t&&Ra(t,s),s}function jl(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}function Vl(t,e){return du(vl,mu,t,e)}var Ll="__SANITIZER_TRUSTED_BRAND__";function Fl(t,e){return t instanceof String&&t[Ll]===e}function Ul(t){return Gl(t,"Html")}function Bl(t){return Gl(t,"Style")}function ql(t){return Gl(t,"Script")}function zl(t){return Gl(t,"Url")}function Hl(t){return Gl(t,"ResourceUrl")}function Gl(t,e){var n=new String(t);return n[Ll]=e,n}var Wl=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ql=/^url\(([^)]+)\)$/;function Kl(t){if(!(t=String(t).trim()))return"";var e=t.match(Ql);return e&&Wu(e[1])===e[1]||t.match(Wl)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(Bu()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function Yl(t){var e=eh();return e?e.sanitize(Au.HTML,t)||"":Fl(t,"Html")?t.toString():lc(document,Xt(t))}function Zl(t){var e=eh();return e?e.sanitize(Au.STYLE,t)||"":Fl(t,"Style")?t.toString():Kl(Xt(t))}function Jl(t){var e=eh();return e?e.sanitize(Au.URL,t)||"":Fl(t,"Url")?t.toString():Wu(Xt(t))}function Xl(t){var e=eh();if(e)return e.sanitize(Au.RESOURCE_URL,t)||"";if(Fl(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function $l(t){var e=eh();if(e)return e.sanitize(Au.SCRIPT,t)||"";if(Fl(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}var th=function(t,e){return void 0===e?"background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t:Zl(e)};function eh(){var t=$e();return t&&t[Rt]}var nh={"\u0275defineBase":dt,"\u0275defineComponent":ct,"\u0275defineDirective":yt,defineInjectable:w,defineInjector:C,"\u0275defineNgModule":ft,"\u0275definePipe":mt,"\u0275directiveInject":La,"\u0275getFactoryOf":Fn,"\u0275getInheritedFactory":Un,inject:Re,"\u0275injectAttribute":Fa,"\u0275templateRefExtractor":Vl,"\u0275NgOnChangesFeature":us,"\u0275ProvidersFeature":Js,"\u0275InheritDefinitionFeature":is,"\u0275elementAttribute":Pi,"\u0275bind":Ea,"\u0275container":ia,"\u0275nextContext":di,"\u0275containerRefreshStart":sa,"\u0275containerRefreshEnd":ua,"\u0275loadQueryList":ja,"\u0275namespaceHTML":_i,"\u0275namespaceMathML":bi,"\u0275namespaceSVG":vi,"\u0275enableBindings":Je,"\u0275disableBindings":Xe,"\u0275allocHostVars":Sa,"\u0275elementStart":Si,"\u0275elementEnd":ki,"\u0275element":wi,"\u0275elementContainerStart":Ci,"\u0275elementContainerEnd":Ei,"\u0275pureFunction0":$c,"\u0275pureFunction1":tl,"\u0275pureFunction2":el,"\u0275pureFunction3":nl,"\u0275pureFunction4":rl,"\u0275pureFunction5":ol,"\u0275pureFunction6":il,"\u0275pureFunction7":al,"\u0275pureFunction8":sl,"\u0275pureFunctionV":ul,"\u0275getCurrentView":za,"\u0275restoreView":tn,"\u0275interpolation1":Ia,"\u0275interpolation2":Oa,"\u0275interpolation3":Aa,"\u0275interpolation4":xa,"\u0275interpolation5":Da,"\u0275interpolation6":Na,"\u0275interpolation7":ka,"\u0275interpolation8":Pa,"\u0275interpolationV":Ta,"\u0275elementClassProp":Gi,"\u0275listener":Ni,"\u0275load":Va,"\u0275projection":pa,"\u0275elementProperty":Ri,"\u0275componentHostSyntheticProperty":Mi,"\u0275pipeBind1":ll,"\u0275pipeBind2":hl,"\u0275pipeBind3":fl,"\u0275pipeBind4":pl,"\u0275pipeBindV":dl,"\u0275projectionDef":ha,"\u0275pipe":cl,"\u0275query":Ml,"\u0275queryRefresh":jl,"\u0275registerContentQuery":Ua,"\u0275reference":Ma,"\u0275elementStyling":Bi,"\u0275elementHostAttrs":qi,"\u0275elementStylingMap":Wi,"\u0275elementStyleProp":Hi,"\u0275elementStylingApply":zi,"\u0275template":oa,"\u0275text":Qi,"\u0275textBinding":Ki,"\u0275embeddedViewStart":ca,"\u0275embeddedViewEnd":la,"\u0275i18n":Lc,"\u0275i18nAttributes":Fc,"\u0275i18nExp":qc,"\u0275i18nStart":kc,"\u0275i18nEnd":Mc,"\u0275i18nApply":zc,"\u0275i18nPostprocess":Rc,"\u0275sanitizeHtml":Yl,"\u0275sanitizeStyle":Zl,"\u0275defaultStyleSanitizer":th,"\u0275sanitizeResourceUrl":Xl,"\u0275sanitizeScript":$l,"\u0275sanitizeUrl":Jl},rh=function(){return function(){}}(),oh=new Map;function ih(t,e){var n=oh.get(t);ah(t,n&&n.moduleType),oh.set(t,e)}function ah(t,e){if(e)throw new Error("Duplicate module registered for "+t+" - "+J(e)+" vs "+J(e.name))}function sh(t){var e=oh.get(t);if(!e)throw lh(t);return e}function uh(t){var e=oh.get(t);if(!e)throw lh(t);return new Jc(e)}var ch=sh;function lh(t){return new Error("No module with ID "+t+" loaded")}var hh=Function;function fh(t){return"function"==typeof t}var ph=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,dh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,yh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,mh=function(){function t(t){this._reflect=t||G.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(ph.exec(n)||dh.exec(n)&&!yh.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var o="function"==typeof r?r():r,i=o.map(function(t){return t&&t.type}),a=o.map(function(t){return t&&gh(t.decorators)});return this._zipTypesAndAnnotations(i,a)}var s=t.hasOwnProperty(O)&&t[O],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!fh(t))return[];var e=vh(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?gh(t.decorators):t.hasOwnProperty(I)?t[I]:null},t.prototype.annotations=function(t){if(!fh(t))return[];var e=vh(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,o={};return Object.keys(r).forEach(function(t){o[t]=gh(r[t])}),o}return t.hasOwnProperty(A)?t[A]:null},t.prototype.propMetadata=function(t){if(!fh(t))return{};var e=vh(t),n={};if(e!==Object){var o=this.propMetadata(e);Object.keys(o).forEach(function(t){n[t]=o[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(i[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof hh&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+J(t)},t.prototype.resourceUri=function(t){return"./"+J(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function gh(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function vh(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var bh=null;function _h(){return bh=bh||new mh}function wh(t){return Ch(_h().parameters(t))}function Ch(t){var e=we();return t.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(var o=0;o<e.length;o++){var i=e[o];if(void 0!==i)if(i instanceof Te||"Optional"===i.__proto__.ngMetadataName)n.optional=!0;else if(i instanceof Oe||"SkipSelf"===i.__proto__.ngMetadataName)n.skipSelf=!0;else if(i instanceof Ie||"Self"===i.__proto__.ngMetadataName)n.self=!0;else if(i instanceof Ae||"Host"===i.__proto__.ngMetadataName)n.host=!0;else if(i instanceof Se)n.token=i.token;else if(i instanceof R){if(void 0===i.attributeName)throw new Error("Attribute name must be defined.");n.token=i.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(i)}}else r(e);return n}(e,t)})}var Eh=[],Sh=[],Th=!1;function Ih(t){return Array.isArray(t)?t.every(Ih):!!tt(t)}function Oh(t,e){void 0===e&&(e={}),Ah(t,e),function(t,e){Sh.push({moduleType:t,ngModule:e})}(t,e)}function Ah(t,e){var n,r,o=Ph(e.declarations||Eh),i=null;Object.defineProperty(t,v,{configurable:!0,get:function(){return null===i&&(i=we().compileNgModule(nh,"ng://"+t.name+"/ngModuleDef.js",{type:t,bootstrap:Ph(e.bootstrap||Eh,tt),declarations:o.map(tt),imports:Ph(e.imports||Eh,tt).map(Rh),exports:Ph(e.exports||Eh,tt).map(Rh),emitInline:!0})),i}}),e.id&&(r=t,ah(n=e.id,oh.get(n)),oh.set(n,r));var a=null;Object.defineProperty(t,m,{get:function(){if(null===a){var n={name:t.name,type:t,deps:wh(t),providers:e.providers||Eh,imports:[(e.imports||Eh).map(tt),(e.exports||Eh).map(tt)]};a=we().compileInjector(nh,"ng://"+t.name+"/ngInjectorDef.js",n)}return a},configurable:!1})}function xh(){new Map,new Map,Sh.length=0}function Dh(t,e){var n=Ph(e.declarations||Eh),r=kh(t);n.forEach(function(e){e.hasOwnProperty(p)?Nh(gt(e),r):e.hasOwnProperty(d)||e.hasOwnProperty(g)||(e.ngSelectorScope=t)})}function Nh(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return vt(t)||gt(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return bt(t)})}}function kh(t){if(!Mh(t))throw new Error(t.name+" does not have an ngModuleDef");var e=_t(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return e.declarations.forEach(function(t){bt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),e.imports.forEach(function(t){var e=t;if(!Mh(e))throw new Error("Importing "+e.name+" which does not have an ngModuleDef");var r=kh(e);r.exported.directives.forEach(function(t){return n.compilation.directives.add(t)}),r.exported.pipes.forEach(function(t){return n.compilation.pipes.add(t)})}),e.exports.forEach(function(t){var e=t;if(Mh(e)){var r=kh(e);r.exported.directives.forEach(function(t){n.compilation.directives.add(t),n.exported.directives.add(t)}),r.exported.pipes.forEach(function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else bt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function Ph(t,e){var n=[];return t.forEach(function(t){Array.isArray(t)?n.push.apply(n,Object(r.__spread)(Ph(t,e))):n.push(e?e(t):t)}),n}function Rh(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Mh(t){return!!_t(t)}function jh(t,e){var n=null;!function(t){rt(t)&&nt.add(t)}(e),Object.defineProperty(t,p,{get:function(){var o=we();if(null===n){if(rt(e)){var i=["Component '"+Xt(t)+"' is not resolved:"];throw e.templateUrl&&i.push(" - templateUrl: "+Xt(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&i.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var a=Object(r.__assign)({},Fh(t,e),{template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||st,animations:e.animations,viewQueries:Uh(t,_h().propMetadata(t),qh),directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||it.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(n=o.compileComponent(nh,"ng://"+Xt(t)+"/template.html",a),function(){if(!Th){Th=!0;try{for(var t=Sh.length-1;t>=0;t--){var e=Sh[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(Ih)&&(Sh.splice(t,1),Dh(n,r))}}finally{Th=!1}}}(),void 0!==t.ngSelectorScope){var s=kh(t.ngSelectorScope);Nh(n,s)}}return n},configurable:!1})}function Vh(t,e){var n=null;Object.defineProperty(t,d,{get:function(){if(null===n){var r=Fh(t,e);n=we().compileDirective(nh,"ng://"+(t&&t.name)+"/ngDirectiveDef.js",r)}return n},configurable:!1})}function Lh(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Fh(t,e){var n=_h().propMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:wh(t),host:e.host||at,propMetadata:n,inputs:e.inputs||st,outputs:e.outputs||st,queries:Uh(t,n,Bh),lifecycle:{usesOnChanges:void 0!==t.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!Lh(t),exportAs:e.exportAs||null,providers:e.providers||null}}function Uh(t,e,n){var r=[],o=function(o){e.hasOwnProperty(o)&&e[o].forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \""+o+'" of "'+Xt(t)+"\" since the query selector wasn't defined.");r.push(function(t,e){return{propertyName:o,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(function(t){return t.trim()}):tt(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null};var n}(0,e))}})};for(var i in e)o(i);return r}function Bh(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function qh(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function zh(t,e){var n=null;Object.defineProperty(t,g,{get:function(){return null===n&&(n=we().compilePipe(nh,"ng://"+Xt(t)+"/ngPipeDef.js",{type:t,name:t.name,deps:wh(t),pipeName:e.name,pure:void 0===e.pure||e.pure})),n},configurable:!1})}var Hh=x("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){return nf(t,e)}),Gh=x("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:U.Default},t)},Hh,void 0,function(t,e){return ef(t,e)}),Wh=x("Pipe",function(t){return Object(r.__assign)({pure:!0},t)},void 0,void 0,function(t,e){return rf(t,e)}),Qh=function(t){return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=e.constructor;i.hasOwnProperty(b)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(f(r.inputs,n.inputs),f(r.outputs,n.outputs),f(r.declaredInputs,n.declaredInputs))}(e),t(i.ngBaseDef)[n]=r[0]}},Kh=k("Input",function(t){return{bindingPropertyName:t}},void 0,Qh(function(t){return t.inputs||{}})),Yh=k("Output",function(t){return{bindingPropertyName:t}},void 0,Qh(function(t){return t.outputs||{}})),Zh=k("HostBinding",function(t){return{hostPropertyName:t}}),Jh=k("HostListener",function(t,e){return{eventName:t,args:e}}),Xh=jh,$h=Vh,tf=zh,ef=ls,nf=ls,rf=ls,of=h({provide:String,useValue:h}),af=[];function sf(t,e){if(!e){var n=(c=new mh).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],je(n))))}}if(of in e){var o=e;return function(){return o.useValue}}if(e.useExisting){var i=e;return function(){return Re(i.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(je(a.deps||af)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var c=new mh;u=c.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.__spread)([void 0],je(u))))}}var l=e.deps;return l||(c=new mh,l=c.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],je(l))))}}var uf={name:"custom-elements"},cf={name:"no-errors-schema"},lf=x("NgModule",function(t){return t},void 0,void 0,function(t,e){return ff(t,e)}),hf=Oh,ff=function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=C({factory:sf(t,{useClass:t}),providers:e&&e.providers,imports:n})},pf=h({provide:String,useValue:h});function df(t){return void 0!==t.useClass}function yf(t){return pf in t}function mf(t){return void 0!==t.useFactory}function gf(t){return void 0!==t.useExisting}var vf=x("Injectable",void 0,void 0,void 0,function(t,e){return _f(t,e)}),bf=function(t,e){var n=null;t.hasOwnProperty(y)||Object.defineProperty(t,y,{get:function(){if(null===n){var r=e||{providedIn:null},o=df(r)||mf(r)||yf(r)||gf(r),i={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:wh(t),userDeps:void 0};if((df(r)||mf(r))&&void 0!==r.deps&&(i.userDeps=Ch(r.deps)),o)if(df(r))i.useClass=r.useClass;else if(yf(r))i.useValue=r.useValue;else if(mf(r))i.useFactory=r.useFactory;else{if(!gf(r))throw new Error("Unreachable state.");i.useExisting=r.useExisting}else i.useClass=t;n=we().compileInjectable(nh,"ng://"+t.name+"/ngInjectableDef.js",i)}return n}})},_f=function(t,e){e&&void 0!==e.providedIn&&!E(t)&&(t.ngInjectableDef=w({providedIn:e.providedIn,factory:sf(t,e)}))},wf="ngDebugContext",Cf="ngOriginalError",Ef="ngErrorLogger";function Sf(t){return t[wf]}function Tf(t){return t[Cf]}function If(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var Of=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Ef]||If}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Sf(t)?Sf(t):this._findContext(Tf(t)):null},t.prototype._findOriginalError=function(t){for(var e=Tf(t);e&&Tf(e);)e=Tf(e);return e},t}();function Af(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return J(t.token)}).join(" -> ")+")":""}function xf(t,e,n,r){var o=[e],i=n(o),a=r?function(t,e){var n=i+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Cf]=e,r}(0,r):Error(i);return a.addKey=Df,a.keys=o,a.injectors=[t],a.constructResolvingMessage=n,a[Cf]=r,a}function Df(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Nf(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];n.push(i&&0!=i.length?i.map(J).join(" "):"?")}return Error("Cannot resolve all parameters for '"+J(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+J(t)+"' is decorated with Injectable.")}var kf=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=J(this.token)}return t.get=function(t){return Pf.get(tt(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Pf.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Pf=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof kf)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new kf(t,kf.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Rf=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new mh),Mf=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),jf=[],Vf=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),Lf=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function Ff(t){var e,n;if(t.useClass){var r=tt(t.useClass);e=Rf.factory(r),n=qf(r)}else t.useExisting?(e=function(t){return t},n=[Mf.fromKey(kf.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return zf(t,e,n)})}return qf(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=jf);return new Lf(e,n)}function Uf(t){return new Vf(kf.get(t.provide),[Ff(t)],t.multi||!1)}function Bf(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+o+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new Vf(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof hh)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Uf),new Map);return Array.from(e.values())}function qf(t){var e=Rf.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Nf(t,e);return e.map(function(n){return zf(t,n,e)})}function zf(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return Hf(e instanceof Se?e.token:e,o,null);for(var i=null,a=0;a<e.length;++a){var s=e[a];s instanceof hh?r=s:s instanceof Se?r=s.token:s instanceof Te?o=!0:s instanceof Ie||s instanceof Oe?i=s:s instanceof T&&(r=s)}if(null!=(r=tt(r)))return Hf(r,o,i);throw Nf(t,n)}function Hf(t,e,n){return new Mf(kf.get(t),e,n)}var Gf=new Object,Wf=function(){function t(){}return t.resolve=function(t){return Bf(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Qf(t,e)},t}(),Qf=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Gf}return t.prototype.get=function(t,e){return void 0===e&&(e=ps),this._getByKey(kf.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Wf.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Wf.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw xf(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Af(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,o,i,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{o=s.apply(void 0,Object(r.__spread)(n))}catch(u){throw xf(this,t.key,function(t){var e=J(t[0].token);return i.message+": Error during instantiation of "+e+"!"+Af(t)+"."},i=u)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:ps)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof Ie?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Gf&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Gf},t.prototype._throwOrNull=function(t,e){if(e!==ps)return e;throw function(t,e){return xf(t,e,function(t){return"No provider for "+J(t[0].token)+"!"+Af(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Gf?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof Oe?this.parent:this;o instanceof t;){var i=o,a=i._getObjByKeyId(e.id);if(a!==Gf)return a;o=i.parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=kf.get(ms),t}();function Kf(t){return!!t&&"function"==typeof t.then}function Yf(t){return!!t&&"function"==typeof t.subscribe}var Zf=new T("Application Initializer"),Jf=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Kf(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Xf=new T("AppId");function $f(){return""+ep()+ep()+ep()}var tp={provide:Xf,useFactory:$f,deps:[]};function ep(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var np=new T("Platform Initializer"),rp=new T("Platform ID"),op=new T("appBootstrapListener"),ip=new T("Application Packages Root URL"),ap=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),sp=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function up(){throw new Error("Runtime compiler is not loaded")}var cp,lp,hp=function(t){return new Jc(t)},fp=up,pp=function(t){return Promise.resolve(hp(t))},dp=up,yp=function(t){return new sp(hp(t),[])},mp=up,gp=function(t){return Promise.resolve(yp(t))},vp=up,bp=function(){function t(){this.compileModuleSync=fp,this.compileModuleAsync=dp,this.compileModuleAndAllComponentsSync=mp,this.compileModuleAndAllComponentsAsync=vp}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),_p=new T("compilerOptions"),wp=function(){return function(){}}();function Cp(){var t=G.wtf;return!(!t||!(cp=t.trace)||(lp=cp.events,0))}function Ep(t,e){return void 0===e&&(e=null),lp.createScope(t,e)}function Sp(t,e){return cp.leaveScope(t,e),e}function Tp(t,e){return cp.beginTimeRange(t,e)}function Ip(t){cp.endTimeRange(t)}var Op=Cp();function Ap(t,e){return null}var xp=Op?Ep:function(t,e){return Ap},Dp=Op?Sp:function(t,e){return e},Np=Op?Tp:function(t,e){return null},kp=Op?Ip:function(t){return null},Pp=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,a){try{return Vp(e),t.invokeTask(r,o,i,a)}finally{Lp(e)}},onInvoke:function(t,n,r,o,i,a,s){try{return Vp(e),t.invoke(r,o,i,a,s)}finally{Lp(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,jp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,Mp,Rp,Rp);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Rp(){}var Mp={};function jp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Vp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lp(t){t._nesting--,jp(t)}var Fp=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Up=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Pp.assertNotInAngularZone(),Y(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Y(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,o=-1;e&&e>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==o}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Bp=function(){function t(){this._applications=new Map,Hp.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Hp.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function qp(t){Hp=t}var zp,Hp=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}());function Gp(t,e,n){return Promise.resolve(new Jc(n))}var Wp=new T("AllowMultipleToken"),Qp=function(){return function(t,e){this.name=t,this.token=e}}();function Kp(t){if(zp&&!zp.destroyed&&!zp.injector.get(Wp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zp=t.get($p);var e=t.get(np,null);return e&&e.forEach(function(t){return t()}),zp}function Yp(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,o=new T(r);return function(e){void 0===e&&(e=[]);var i=Xp();if(!i||i.injector.get(Wp,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var a=n.concat(e).concat({provide:o,useValue:!0});Kp(ms.create({providers:a,name:r}))}return Zp(o)}}function Zp(t){var e=Xp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Jp(){zp&&!zp.destroyed&&zp.destroy()}function Xp(){return zp&&!zp.destroyed?zp:null}var $p=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,o="noop"===(n=e?e.ngZone:void 0)?new Fp:("zone.js"===n?void 0:n)||new Pp({enableLongStackTrace:Bu()}),i=[{provide:Pp,useValue:o}];return o.run(function(){var e=ms.create({providers:i,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Of,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return nd(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,o){try{var i=((a=n.injector.get(Jf)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Kf(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=td({},e);return function(t,e,n){return t.get(wp).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ed);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+J(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function td(t,e){return Array.isArray(e)?e.reduce(td,t):Object(r.__assign)({},t,e)}var ed=function(){function t(t,e,n,r,o,i){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bu(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var f=new a.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),p=new a.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){Pp.assertNotInAngularZone(),Y(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){Pp.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return Object(s.a)(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:Object(u.a)(n)(Object(c.a)(t,r))}(f,p.pipe(Object(l.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof $s?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof uu?null:this._injector.get(cu),i=n.create(ms.NULL,[],e||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var a=i.injector.get(Up,null);return a&&i.injector.get(Bp).registerApplication(i.location.nativeElement,a),this._loadComponent(i),Bu()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Dp(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;nd(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(op,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),nd(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=xp("ApplicationRef#tick()"),t}();function nd(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var rd=function(){function t(){this.dirty=!0,this._results=[],this.changes=new gl,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[K()]=function(){return this._results[K()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),od=function(){return function(){}}(),id={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ad=function(){function t(t,e){this._compiler=t,this._config=e||id}return t.prototype.load=function(t){return this._compiler instanceof bp?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,o=Object(r.__read)(t.split("#"),2),i=o[0],a=o[1];return void 0===a&&(a="default"),n("crnd")(i).then(function(t){return t[a]}).then(function(t){return sd(t,i,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),o=e[0],i=e[1],a="NgFactory";return void 0===i&&(i="default",a=""),n("crnd")(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(t){return t[i+a]}).then(function(t){return sd(t,o,i)})},t}();function sd(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var ud=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ld(t,mu)},t}(),cd=function(t,e){return function(t,e,n,o){var i;ru||(ru=function(t){function n(e,n,r){var o=t.call(this)||this;return o._lContainer=e,o._hostTNode=n,o._hostView=r,o._viewRefs=[],o}return Object(r.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return pu(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Ln(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=An(this._hostTNode,this._hostView),e=ge(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,o=n.parent;null!=o.parent&&r==o.injectorIndex;)o=o.parent;return o}for(var i=me(t),a=e,s=e[Ot];i>1;)s=(a=a[Lt])[Ot],i--;return s}(t,this._hostView,this._hostTNode);return de(t)&&null!=n?new Ln(n,e):new Ln(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Bt].length;)this.remove(0)},n.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Bt].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),o=t.createEmbeddedView(e||{},this._lContainer,this._hostTNode,this._hostView,r);return o.attachToViewContainerRef(this),this._viewRefs.splice(r,0,o),o},n.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;!o&&null==t.ngModule&&i&&(o=i.get(cu,null));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lView,r=this._adjustIndex(e);return jr(n,this._lContainer,this._hostView,r,this._hostTNode.index),Mr(n,!0,Yr(r,this._lContainer[Bt],this._lContainer[qt])),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},n.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},n.prototype.remove=function(t){var e=this._adjustIndex(t,-1);Lr(this._lContainer,this._hostTNode,e),this._viewRefs.splice(e,1)},n.prototype.detach=function(t){var e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e,!!this._hostTNode.detached);return null!=this._viewRefs.splice(e,1)[0]?new hu(n,n[Dt],n[jt]):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainer[Bt].length+e:t},n}(t));var a=o[n.index];if(ue(a))(i=a)[Ut]=-1;else{var s=o[Pt].createComment("");if(ce(o)){var u=o[Pt],c=ne(n,o);Gr(u,Wr(u,c),s,function(t,e){return Tr(t)?t.nextSibling(e):e.nextSibling}(u,c))}else Qr(s,n,o);o[n.index]=i=ra(a,n,o,s,!0),da(o,n.index,i)}return new ru(i,n,o)}(t,e,en(),$e())},ld=ls,hd=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return pd()},t}(),fd=function(){return yu(en(),$e(),null)},pd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},dd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(hd),yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(dd),md=function(){return function(t,e){this.name=t,this.callback=e}}(),gd=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof vd&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),vd=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,o=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([i+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=o}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof vd&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof vd&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof vd&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(gd);function bd(t){return t.map(function(t){return t.nativeElement})}var _d=function(){function t(t){this.nativeNode=t}return Object.defineProperty(t.prototype,"parent",{get:function(){var t=this.nativeNode.parentNode;return t?new wd(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return tr(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){var t=this.nativeNode;return t&&Yn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return Zn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeners",{get:function(){return ar(this.nativeNode).filter(ir)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return void 0===(t=nr(this.nativeNode)).localRefs&&(t.localRefs=function(e,n){var r=e[wt].data[t.nodeIndex];if(r&&r.localNames){for(var o={},i=0;i<r.localNames.length;i+=2){var a=r.localNames[i+1];o[r.localNames[i]]=-1===a?ne(r,e):e[a]}return o}return null}(t.lView)),t.localRefs||{};var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return function(t){var e=nr(t,!1);if(!e)return[];for(var n,r=e.lView[wt],o=r.data[e.nodeIndex],i=[],a=o.directiveEnd,s=65535&o.providerIndexes;s<a;s++){var u=r.data[s];void 0!==(n=u).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(u=u.type),i.push(u)}return i}(this.nativeNode)},enumerable:!0,configurable:!0}),t}(),wd=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return nr(this.nativeNode),{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t={},e=this.nativeElement;if(e)for(var n=e.attributes,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.value}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){var t={},e=this.nativeElement;if(e){var n=or(e),r=n.lView[n.nodeIndex];if(lo(n.nodeIndex,n.lView)){for(var o=9;o<r.length;o+=4)if(Io(r,o)){var i=zo(r,o),a=qo(r,o);"boolean"==typeof a&&(t[i]=a)}}else{var s=e.classList;for(o=0;o<s.length;o++)t[s[o]]=!0}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t={},e=this.nativeElement;if(e){var n=or(e),r=n.lView[n.nodeIndex];if(lo(n.nodeIndex,n.lView)){for(var o=9;o<r.length;o+=4)if(!Io(r,o)){var i=zo(r,o),a=qo(r,o);null!==a&&(t[i]=a)}}else{var s=e.style;for(o=0;o<s.length;o++){var u=s.item(o);t[u]=s.getPropertyValue(u)}}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){for(var t=this.nativeNode.childNodes,e=[],n=0;n<t.length;n++)e.push(Sd(t[n]));return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,n=[],r=0;r<e.length;r++)n.push(Sd(e[r]));return n},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Cd(this,t,e,!0),e},e.prototype.queryAllNodes=function(t){var e=[];return Cd(this,t,e,!1),e},e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name===t&&n.callback(e)})},e}(_d);function Cd(t,e,n,r){t instanceof wd&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof wd&&(r&&!t.nativeElement||Cd(t,e,n,r))})}var Ed=new Map;function Sd(t){return t instanceof Node?t.nodeType==Node.ELEMENT_NODE?new wd(t):new _d(t):null}var Td=function(t){return Ed.get(t)||null};function Id(t){Ed.set(t.nativeNode,t)}var Od=gd,Ad=vd,xd=function(){function t(){}return t.prototype.supports=function(t){return pr(t)},t.prototype.create=function(t){return new Nd(t)},t}(),Dd=function(t,e){return e},Nd=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Dd}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<Md(n,r,o)?e:n,a=Md(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<o.length?o[l]:o[l]=0,f=h+l;c<=f&&f<u&&(o[l]=h+1)}o[i.previousIndex]=c-u}}a!==s&&t(i,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!pr(t))throw new Error("Error trying to diff '"+J(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)o=this._trackByFn(s,r=t[s]),null!==i&&Z(i.trackById,o)?(a&&(i=this._verifyReinsertion(i,r,o,s)),Z(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,s),a=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[K()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==i&&Z(i.trackById,o)?(a&&(i=e._verifyReinsertion(i,t,o,n)),Z(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),a=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Z(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Z(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new kd(e,n),o,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rd),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),kd=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pd=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Z(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Rd=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Pd,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Md(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var jd=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||dr(t)},t.prototype.create=function(){return new Vd},t}(),Vd=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||dr(t)))throw new Error("Error trying to diff '"+J(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new Ld(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Z(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Ld=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Fd=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Oe,new Te]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=w({providedIn:"root",factory:function(){return new t([new xd])}}),t}(),Ud=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Oe,new Te]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=w({providedIn:"root",factory:function(){return new t([new jd])}}),t}(),Bd=[new jd],qd=new Fd([new xd]),zd=new Ud(Bd),Hd=Yp(null,"core",[{provide:rp,useValue:"unknown"},{provide:$p,deps:[ms]},{provide:Bp,deps:[]},{provide:ap,deps:[]}]),Gd=new T("LocaleId"),Wd=new T("Translations"),Qd=new T("TranslationsFormat"),Kd=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Yd(){return qd}function Zd(){return zd}function Jd(t){return t||"en-US"}var Xd=[{provide:ed,useClass:ed,deps:[Pp,ap,ms,Of,au,Jf]},{provide:Jf,useClass:Jf,deps:[[new Te,Zf]]},{provide:bp,useClass:bp,deps:[]},tp,{provide:Fd,useFactory:Yd,deps:[]},{provide:Ud,useFactory:Zd,deps:[]},{provide:Gd,useFactory:Jd,deps:[[new Se(Gd),new Te,new Oe]]}],$d=function(){return function(t){}}(),ty=!0,ey=!1;function ny(t,e,n){var r=t.state,o=1792&r;return o===e?(t.state=-1793&r|n,t.initIndex=-1,!0):o===n}function ry(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function oy(t,e){return t.nodes[e]}function iy(t,e){return t.nodes[e]}function ay(t,e){return t.nodes[e]}function sy(t,e){return t.nodes[e]}function uy(t,e){return t.nodes[e]}var cy=function(){return function(){}}(),ly={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function hy(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return fy(n,e),n}(o,t)}function fy(t,e){t[wf]=e,t[Ef]=e.logError.bind(e)}function py(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var dy=function(){},yy=new Map;function my(t){var e=yy.get(t);return e||(e=J(t)+"_"+yy.size,yy.set(t,e)),e}function gy(t,e,n,r){if(hr.isWrapped(r)){r=hr.unwrap(r);var o=t.def.nodes[e].bindingIndex+n,i=hr.unwrap(t.oldValues[o]);t.oldValues[o]=new hr(i)}return r}var vy="$$undefined",by="$$empty";function _y(t){return{id:vy,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var wy=0;function Cy(t,e,n,r){return!(!(2&t.state)&&Z(t.oldValues[e.bindingIndex+n],r))}function Ey(t,e,n,r){return!!Cy(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Sy(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!lr(o,r)){var i=e.bindings[n].name;throw hy(ly.createDebugContext(t,e.nodeIndex),i+": "+o,i+": "+r,0!=(1&t.state))}}function Ty(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Iy(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Oy(t,e,n,r){try{return Ty(33554432&t.def.nodes[e].flags?iy(t,e).componentView:t),ly.handleEvent(t,e,n,r)}catch(o){t.root.errorHandler.handleError(o)}}function Ay(t){return t.parent?iy(t.parent,t.parentNodeDef.nodeIndex):null}function xy(t){return t.parent?t.parentNodeDef.parent:null}function Dy(t,e){switch(201347067&e.flags){case 1:return iy(t,e.nodeIndex).renderElement;case 2:return oy(t,e.nodeIndex).renderText}}function Ny(t,e){return t?t+":"+e:e}function ky(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Py(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ry(t){return 1<<t%32}function My(t){var e={},n=0,o={};return t&&t.forEach(function(t){var i=Object(r.__read)(t,2),a=i[0],s=i[1];"number"==typeof a?(e[a]=s,n|=Ry(a)):o[a]=s}),{matchedQueries:e,references:o,matchedQueryIds:n}}function jy(t,e){return t.map(function(t){var n,o,i;return Array.isArray(t)?(i=(n=Object(r.__read)(t,2))[0],o=n[1]):(i=0,o=t),o&&("function"==typeof o||"object"==typeof o)&&e&&Object.defineProperty(o,hs,{value:e,configurable:!0}),{flags:i,token:o,tokenKey:my(o)}})}function Vy(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===it.Native?iy(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Ly=new WeakMap;function Fy(t){var e=Ly.get(t);return e||((e=t(function(){return dy})).factory=t,Ly.set(t,e)),e}function Uy(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(Dy(t,t.def.lastRenderRootNode))),By(t,e,0,t.def.nodes.length-1,n,r,o)}function By(t,e,n,r,o,i,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&zy(t,u,e,o,i,a),s+=u.childCount}}function qy(t,e,n,r,o,i){for(var a=t;a&&!ky(a);)a=a.parent;for(var s=a.parent,u=xy(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&zy(s,h,n,r,o,i),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)Hy(t,f[l],n,r,o,i)}}function zy(t,e,n,r,o,i){if(8&e.flags)qy(t,e.ngContent.index,n,r,o,i);else{var a=Dy(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Hy(t,a,n,r,o,i),32&e.bindingFlags&&Hy(iy(t,e.nodeIndex).componentView,a,n,r,o,i)):Hy(t,a,n,r,o,i),16777216&e.flags)for(var s=iy(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Uy(s[u],n,r,o,i);1&e.flags&&!e.element.name&&By(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function Hy(t,e,n,r,o,i){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,o);break;case 3:a.removeChild(r,e);break;case 0:i.push(e)}}var Gy=/^:([^:]+):(.+)$/;function Wy(t){if(":"===t[0]){var e=t.match(Gy);return[e[1],e[2]]}return["",t]}function Qy(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Ky(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+Zy(e[r+1]);return n+e[2*t]}function Yy(t,e,n,r,o,i,a,s,u,c,l,h,f,p,d,y,m,g,v,b){switch(t){case 1:return e+Zy(n)+r;case 2:return e+Zy(n)+r+Zy(o)+i;case 3:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s;case 4:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c;case 5:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c+Zy(l)+h;case 6:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c+Zy(l)+h+Zy(f)+p;case 7:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c+Zy(l)+h+Zy(f)+p+Zy(d)+y;case 8:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c+Zy(l)+h+Zy(f)+p+Zy(d)+y+Zy(m)+g;case 9:return e+Zy(n)+r+Zy(o)+i+Zy(a)+s+Zy(u)+c+Zy(l)+h+Zy(f)+p+Zy(d)+y+Zy(m)+g+Zy(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Zy(t){return null!=t?t.toString():""}var Jy=[],Xy={};function $y(t,e,n,r,o,i){t|=1;var a=My(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Fy(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||dy},provider:null,text:null,query:null,ngContent:null}}function tm(t,e,n,o,i,a,s,u,c,l,h,f){var p;void 0===s&&(s=[]),l||(l=dy);var d=My(n),y=d.matchedQueries,m=d.references,g=d.matchedQueryIds,v=null,b=null;a&&(v=(p=Object(r.__read)(Wy(a),2))[0],b=p[1]),u=u||[];for(var _=new Array(u.length),w=0;w<u.length;w++){var C=Object(r.__read)(u[w],3),E=C[0],S=C[1],T=C[2],I=Object(r.__read)(Wy(S),2),O=I[0],A=I[1],x=void 0,D=void 0;switch(15&E){case 4:D=T;break;case 1:case 8:x=T}_[w]={flags:E,ns:O,name:A,nonMinifiedName:A,securityContext:x,suffix:D}}c=c||[];var N=new Array(c.length);for(w=0;w<c.length;w++){var k=Object(r.__read)(c[w],2);N[w]={type:0,target:k[0],eventName:k[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],o=e[1],i=Object(r.__read)(Wy(n),2);return[i[0],i[1],o]});return f=function(t){if(t&&t.id===vy){var e=null!=t.encapsulation&&t.encapsulation!==it.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+wy++:by}return t&&t.id===by&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:y,matchedQueryIds:g,references:m,ngContentIndex:o,childCount:i,bindings:_,bindingFlags:Qy(_),outputs:N,element:{ns:v,name:b,attrs:P,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||dy},provider:null,text:null,query:null,ngContent:null}}function em(t,e,n){var o,i=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){o=i.name?s.createElement(i.name,i.ns):s.createComment("");var u=Vy(t,e,n);u&&s.appendChild(u,o)}else o=s.selectRootElement(a,!!i.componentRendererType&&i.componentRendererType.encapsulation===it.ShadowDom);if(i.attrs)for(var c=0;c<i.attrs.length;c++){var l=Object(r.__read)(i.attrs[c],3);s.setAttribute(o,l[1],l[2],l[0])}return o}function nm(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=rm(t,n.nodeIndex,Ny(i.target,i.eventName)),s=i.target,u=t;"component"===i.target&&(s=null,u=e);var c=u.renderer.listen(s||r,i.eventName,a);t.disposables[n.outputIndex+o]=c}}function rm(t,e,n){return function(r){return Oy(t,e,n,r)}}function om(t,e,n,r){if(!Ey(t,e,n,r))return!1;var o=e.bindings[n],i=iy(t,e.nodeIndex),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:!function(t,e,n,r,o,i){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}(t,o,a,o.ns,s,r);break;case 2:!function(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,o){var i=t.root.sanitizer.sanitize(Au.STYLE,o);if(null!=i){i=i.toString();var a=e.suffix;null!=a&&(i+=a)}else i=null;var s=t.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}(t,o,a,s,r);break;case 8:!function(t,e,n,r,o){var i=e.securityContext,a=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&o.flags?i.componentView:t,o,a,s,r)}return!0}var im=new Object,am=my(ms),sm=my(ds),um=my(cu);function cm(t,e,n,r){return n=tt(n),{index:-1,deps:jy(r,J(e)),flags:t,token:e,value:n}}function lm(t){for(var e={},n=[],r=!1,o=0;o<t.length;o++){var i=t[o];i.token===Ns&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,e[my(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function hm(t,e,n){void 0===n&&(n=ms.THROW_IF_NOT_FOUND);var r,o,i=Ne(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case am:case sm:case um:return t}var s,u=t._def.providersByKey[a];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=fm(t,u)),c===im?void 0:c}if((s=E(e.token))&&(r=t,null!=(o=s).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(r)||"root"===o.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:e.token},t._providers[l]=im,t._providers[l]=fm(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ne(i)}}function fm(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var o=n.length;switch(o){case 0:return new e;case 1:return new e(hm(t,n[0]));case 2:return new e(hm(t,n[0]),hm(t,n[1]));case 3:return new e(hm(t,n[0]),hm(t,n[1]),hm(t,n[2]));default:for(var i=new Array(o),a=0;a<o;a++)i[a]=hm(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var o=n.length;switch(o){case 0:return e();case 1:return e(hm(t,n[0]));case 2:return e(hm(t,n[0]),hm(t,n[1]));case 3:return e(hm(t,n[0]),hm(t,n[1]),hm(t,n[2]));default:for(var i=Array(o),a=0;a<o;a++)i[a]=hm(t,n[a]);return e.apply(void 0,Object(r.__spread)(i))}}(t,e.value,e.deps);break;case 2048:n=hm(t,e.deps[0]);break;case 256:n=e.value}return n===im||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?im:n}function pm(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,gm(n,e),ly.dirtyParentQueries(r),ym(r),r}function dm(t,e,n){var r=e?Dy(e,e.def.lastRenderRootNode):t.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);Uy(n,2,o,i,void 0)}function ym(t){Uy(t,3,null,null,void 0)}function mm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gm(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var vm=new Object;function bm(t,e,n,r,o,i){return new wm(t,e,n,r,o,i)}function _m(t){return t.viewDefFactory}var wm=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=Fy(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,a=ly.createRootView(t,e||[],n,o,r,vm),s=ay(a,i).instance;return n&&a.renderer.setAttribute(iy(a,0).renderElement,"ng-version",Nu.full),new Cm(a,new Im(a),s)},e}($s),Cm=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new mu(iy(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Dm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Xs);function Em(t,e,n){return new Sm(t,e,n)}var Sm=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new mu(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Dm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=xy(t),t=t.parent;return t?new Dm(t,e):new Dm(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=pm(this._data,t);ly.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Im(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof uu||(o=i.get(cu));var a=t.create(i,r,void 0,o);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,a=t;return i=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=i.length),(o=a._view).viewContainerParent=this._view,mm(i,r,o),function(t,e){var n=Ay(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,o),ly.dirtyParentQueries(o),dm(n,r>0?i[r-1]:null,o),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,a,s=this._embeddedViews.indexOf(t._view);return o=e,a=(i=(n=this._data).viewContainer._embeddedViews)[r=s],gm(i,r),null==o&&(o=i.length),mm(i,o,a),ly.dirtyParentQueries(a),ym(a),dm(n,o>0?i[o-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=pm(this._data,t);e&&ly.destroyView(e)},t.prototype.detach=function(t){var e=pm(this._data,t);return e?new Im(e):null},t}();function Tm(t){return new Im(t)}var Im=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Uy(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ty(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{ly.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){ly.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ly.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,ym(this._view),ly.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Om(t,e){return new Am(t,e)}var Am=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Im(ly.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new mu(iy(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(vl);function xm(t,e){return new Dm(t,e)}var Dm=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ms.THROW_IF_NOT_FOUND),ly.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:my(t)},e)},t}();function Nm(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=iy(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return oy(t,n.nodeIndex).renderText;if(20240&n.flags)return ay(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function km(t){return new Pm(t.renderer)}var Pm=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(Wy(e),2),o=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var o=Object(r.__read)(Wy(e),2),i=o[0],a=o[1];null!=n?this.delegate.setAttribute(t,a,n,i):this.delegate.removeAttribute(t,a,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Rm(t,e,n,r){return new Mm(t,e,n,r)}var Mm=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=fm(t,o))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=ms.THROW_IF_NOT_FOUND),void 0===n&&(n=xe.Default);var r=0;return n&xe.SkipSelf?r|=1:n&xe.Self&&(r|=4),hm(this,{token:t,tokenKey:my(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(au)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+J(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=t._providers[o];if(i&&i!==im){var a=i.ngOnDestroy;"function"!=typeof a||r.has(i)||(a.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),jm=my(wu),Vm=my(Tu),Lm=my(mu),Fm=my(ud),Um=my(vl),Bm=my(hd),qm=my(ms),zm=my(ds);function Hm(t,e,n,o,i,a,s,u){var c=[];if(s)for(var l in s){var h=Object(r.__read)(s[l],2);c[h[0]]={flags:8,name:l,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return Qm(t,e|=16384,n,o,i,i,a,c,f)}function Gm(t,e,n){return Qm(-1,t|=16,null,0,e,e,n)}function Wm(t,e,n,r,o){return Qm(-1,t,e,0,n,r,o)}function Qm(t,e,n,r,o,i,a,s,u){var c=My(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),i=tt(i);var p=jy(a,J(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Qy(s),outputs:u,element:null,provider:{token:o,value:i,deps:p},text:null,query:null,ngContent:null}}function Km(t,e){return Xm(t,e)}function Ym(t,e){for(var n=t;n.parent&&!ky(n);)n=n.parent;return $m(n.parent,xy(n),!0,e.provider.value,e.provider.deps)}function Zm(t,e){var n=$m(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],i=n[o.propName];if(!Yf(i))throw new Error("@Output "+o.propName+" not initialized in '"+n.constructor.name+"'.");var a=i.subscribe(Jm(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Jm(t,e,n){return function(r){return Oy(t,e,n,r)}}function Xm(t,e){var n=(8192&e.flags)>0,o=e.provider;switch(201347067&e.flags){case 512:return $m(t,e.parent,n,o.value,o.deps);case 1024:return function(t,e,n,o,i){var a=i.length;switch(a){case 0:return o();case 1:return o(eg(t,e,n,i[0]));case 2:return o(eg(t,e,n,i[0]),eg(t,e,n,i[1]));case 3:return o(eg(t,e,n,i[0]),eg(t,e,n,i[1]),eg(t,e,n,i[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=eg(t,e,n,i[u]);return o.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,o.value,o.deps);case 2048:return eg(t,e.parent,n,o.deps[0]);case 256:return o.value}}function $m(t,e,n,o,i){var a=i.length;switch(a){case 0:return new o;case 1:return new o(eg(t,e,n,i[0]));case 2:return new o(eg(t,e,n,i[0]),eg(t,e,n,i[1]));case 3:return new o(eg(t,e,n,i[0]),eg(t,e,n,i[1]),eg(t,e,n,i[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=eg(t,e,n,i[u]);return new(o.bind.apply(o,Object(r.__spread)([void 0],s)))}}var tg={};function eg(t,e,n,r,o){if(void 0===o&&(o=ms.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var a=r.tokenKey;a===Bm&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case jm:return km(ng(s,e,n));case Vm:return ng(s,e,n).renderer;case Lm:return new mu(iy(s,e.nodeIndex).renderElement);case Fm:return iy(s,e.nodeIndex).viewContainer;case Um:if(e.element.template)return iy(s,e.nodeIndex).template;break;case Bm:return Tm(ng(s,e,n));case qm:case zm:return xm(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=ay(s,u.nodeIndex);return c||(c={instance:Xm(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=ky(s),e=xy(s),s=s.parent,4&r.flags&&(s=null)}var l=i.root.injector.get(r.token,tg);return l!==tg||o===tg?l:i.root.ngModule.injector.get(r.token,o)}function ng(t,e,n){var r;if(n)r=iy(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ky(r);)r=r.parent;return r}function rg(t,e,n,r,o,i){if(32768&n.flags){var a=iy(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var s=hr.unwrap(t.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new fr(s,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function og(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],a=i.parent;for(!a&&i.flags&e&&ag(t,o,i.flags&e,r++),0==(i.childFlags&e)&&(o+=i.childCount);a&&1&a.flags&&o===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=ig(t,a,e,r)),a=a.parent}}function ig(t,e,n,r){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var i=t.def.nodes[o];i.flags&n&&ag(t,o,i.flags&n,r++),o+=i.childCount}return r}function ag(t,e,n,r){var o=ay(t,e);if(o){var i=o.instance;i&&(ly.setCurrentNode(t,e),1048576&n&&ry(t,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&ry(t,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function sg(t,e,n){var r=[];for(var o in n)r.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ry(e),bindings:r},ngContent:null}}function ug(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Py(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=t.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&uy(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var i;134217728&(i=t.def.nodes[o]).flags&&536870912&i.flags&&uy(t,o).setDirty(),o+=i.childCount}}function cg(t,e){var n=uy(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=lg(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=ay(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=lg(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function lg(t,e,n,r,o){for(var i=e;i<=n;i++){var a=t.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(hg(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=iy(t,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(lg(t,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=Ay(h);f&&f===u&&lg(h,0,h.def.nodes.length-1,r,o)}var p=u.template._projectedViews;if(p)for(l=0;l<p.length;l++){var d=p[l];lg(d,0,d.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function hg(t,e,n){if(null!=n)switch(n){case 1:return iy(t,e.nodeIndex).renderElement;case 0:return new mu(iy(t,e.nodeIndex).renderElement);case 2:return iy(t,e.nodeIndex).template;case 3:return iy(t,e.nodeIndex).viewContainer;case 4:return ay(t,e.nodeIndex).instance}}function fg(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function pg(t,e,n){var r=Vy(t,e,n);r&&qy(t,n.ngContent.index,1,r,null,void 0)}function dg(t,e){return gg(128,t,new Array(e+1))}function yg(t,e){return gg(32,t,new Array(e))}function mg(t,e){for(var n=Object.keys(e),r=n.length,o=new Array(r),i=0;i<r;i++){var a=n[i];o[e[a]]=a}return gg(64,t,o)}function gg(t,e,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Qy(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function vg(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function bg(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=Vy(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function _g(t,e){return(null!=t?t.toString():"")+e.suffix}function wg(t,e,n,r){for(var o=0,i=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=c,y.bindingIndex=o,y.outputIndex=i,y.renderParent=l,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(Eg(c,y,e.length),o+=y.bindings.length,i+=y.outputs.length,!l&&3&y.flags&&(p=y),20224&y.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(32768&y.flags);0==(8192&y.flags)||g?c.element.publicProviders[my(y.provider.token)]=y:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[my(y.provider.token)]=y),g&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)c=y,Cg(y)||(l=y);else for(;c&&d===c.nodeIndex+c.childCount;){var v=c.parent;v&&(v.childFlags|=c.childFlags,v.childMatchedQueries|=c.childMatchedQueries),l=(c=v)&&Cg(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||dy,updateRenderer:r||dy,handleEvent:function(t,n,r,o){return e[n].element.handleEvent(t,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:p}}function Cg(t){return 0!=(1&t.flags)&&null===t.element.name}function Eg(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Sg(t,e,n,r){var o=Og(t.root,t.renderer,t,e,n);return Ag(o,t.component,r),xg(o),o}function Tg(t,e,n){var r=Og(t,t.renderer,null,null,e);return Ag(r,n,n),xg(r),r}function Ig(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Og(t.root,o,t,e.element.componentProvider,n)}function Og(t,e,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:a,initIndex:-1}}function Ag(t,e,n){t.component=e,t.context=n}function xg(t){var e;ky(t)&&(e=iy(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];ly.setCurrentNode(t,o);var a=void 0;switch(201347067&i.flags){case 1:var s=em(t,e,i),u=void 0;if(33554432&i.flags){var c=Fy(i.element.componentView);u=ly.createComponentView(t,i,c,s)}nm(t,u,i,s),a={renderElement:s,componentView:u,viewContainer:null,template:i.element.template?Om(t,i):void 0},16777216&i.flags&&(a.viewContainer=Em(t,i,a));break;case 2:a=bg(t,e,i);break;case 512:case 1024:case 2048:case 256:(a=r[o])||4096&i.flags||(a={instance:Km(t,i)});break;case 16:a={instance:Ym(t,i)};break;case 16384:(a=r[o])||(a={instance:Zm(t,i)}),32768&i.flags&&Ag(iy(t,i.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new rd;break;case 8:pg(t,e,i),a=void 0}r[o]=a}Lg(t,Vg.CreateViewNodes),qg(t,201326592,268435456,0)}function Dg(t){Pg(t),ly.updateDirectives(t,1),Fg(t,Vg.CheckNoChanges),ly.updateRenderer(t,1),Lg(t,Vg.CheckNoChanges),t.state&=-97}function Ng(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ny(t,0,256),Pg(t),ly.updateDirectives(t,0),Fg(t,Vg.CheckAndUpdate),qg(t,67108864,536870912,0);var e=ny(t,256,512);og(t,2097152|(e?1048576:0)),ly.updateRenderer(t,0),Lg(t,Vg.CheckAndUpdate),qg(t,134217728,536870912,0),og(t,8388608|((e=ny(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ny(t,768,1024)}function kg(t,e,n,o,i,a,s,u,c,l,h,f,p){return 0===n?function(t,e,n,r,o,i,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,o,i,a,s,u,c,l,h){var f=e.bindings.length,p=!1;return f>0&&om(t,e,0,n)&&(p=!0),f>1&&om(t,e,1,r)&&(p=!0),f>2&&om(t,e,2,o)&&(p=!0),f>3&&om(t,e,3,i)&&(p=!0),f>4&&om(t,e,4,a)&&(p=!0),f>5&&om(t,e,5,s)&&(p=!0),f>6&&om(t,e,6,u)&&(p=!0),f>7&&om(t,e,7,c)&&(p=!0),f>8&&om(t,e,8,l)&&(p=!0),f>9&&om(t,e,9,h)&&(p=!0),p}(t,e,n,r,o,i,a,s,u,c,l,h);case 2:return function(t,e,n,r,o,i,a,s,u,c,l,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Ey(t,e,0,n)&&(f=!0),d>1&&Ey(t,e,1,r)&&(f=!0),d>2&&Ey(t,e,2,o)&&(f=!0),d>3&&Ey(t,e,3,i)&&(f=!0),d>4&&Ey(t,e,4,a)&&(f=!0),d>5&&Ey(t,e,5,s)&&(f=!0),d>6&&Ey(t,e,6,u)&&(f=!0),d>7&&Ey(t,e,7,c)&&(f=!0),d>8&&Ey(t,e,8,l)&&(f=!0),d>9&&Ey(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=_g(n,p[0])),d>1&&(y+=_g(r,p[1])),d>2&&(y+=_g(o,p[2])),d>3&&(y+=_g(i,p[3])),d>4&&(y+=_g(a,p[4])),d>5&&(y+=_g(s,p[5])),d>6&&(y+=_g(u,p[6])),d>7&&(y+=_g(c,p[7])),d>8&&(y+=_g(l,p[8])),d>9&&(y+=_g(h,p[9]));var m=oy(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return f}(t,e,n,r,o,i,a,s,u,c,l,h);case 16384:return function(t,e,n,r,o,i,a,s,u,c,l,h){var f=ay(t,e.nodeIndex),p=f.instance,d=!1,y=void 0,m=e.bindings.length;return m>0&&Cy(t,e,0,n)&&(d=!0,y=rg(t,f,e,0,n,y)),m>1&&Cy(t,e,1,r)&&(d=!0,y=rg(t,f,e,1,r,y)),m>2&&Cy(t,e,2,o)&&(d=!0,y=rg(t,f,e,2,o,y)),m>3&&Cy(t,e,3,i)&&(d=!0,y=rg(t,f,e,3,i,y)),m>4&&Cy(t,e,4,a)&&(d=!0,y=rg(t,f,e,4,a,y)),m>5&&Cy(t,e,5,s)&&(d=!0,y=rg(t,f,e,5,s,y)),m>6&&Cy(t,e,6,u)&&(d=!0,y=rg(t,f,e,6,u,y)),m>7&&Cy(t,e,7,c)&&(d=!0,y=rg(t,f,e,7,c,y)),m>8&&Cy(t,e,8,l)&&(d=!0,y=rg(t,f,e,8,l,y)),m>9&&Cy(t,e,9,h)&&(d=!0,y=rg(t,f,e,9,h,y)),y&&p.ngOnChanges(y),65536&e.flags&&ry(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,o,i,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,o,i,a,s,u,c,l,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Ey(t,e,0,n)&&(p=!0),d>1&&Ey(t,e,1,r)&&(p=!0),d>2&&Ey(t,e,2,o)&&(p=!0),d>3&&Ey(t,e,3,i)&&(p=!0),d>4&&Ey(t,e,4,a)&&(p=!0),d>5&&Ey(t,e,5,s)&&(p=!0),d>6&&Ey(t,e,6,u)&&(p=!0),d>7&&Ey(t,e,7,c)&&(p=!0),d>8&&Ey(t,e,8,l)&&(p=!0),d>9&&Ey(t,e,9,h)&&(p=!0),p){var y=sy(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=o),d>3&&(m[3]=i),d>4&&(m[4]=a),d>5&&(m[5]=s),d>6&&(m[6]=u),d>7&&(m[7]=c),d>8&&(m[8]=l),d>9&&(m[9]=h);break;case 64:m={},d>0&&(m[f[0].name]=n),d>1&&(m[f[1].name]=r),d>2&&(m[f[2].name]=o),d>3&&(m[f[3].name]=i),d>4&&(m[f[4].name]=a),d>5&&(m[f[5].name]=s),d>6&&(m[f[6].name]=u),d>7&&(m[f[7].name]=c),d>8&&(m[f[8].name]=l),d>9&&(m[f[9].name]=h);break;case 128:var g=n;switch(d){case 1:m=g.transform(n);break;case 2:m=g.transform(r);break;case 3:m=g.transform(r,o);break;case 4:m=g.transform(r,o,i);break;case 5:m=g.transform(r,o,i,a);break;case 6:m=g.transform(r,o,i,a,s);break;case 7:m=g.transform(r,o,i,a,s,u);break;case 8:m=g.transform(r,o,i,a,s,u,c);break;case 9:m=g.transform(r,o,i,a,s,u,c,l);break;case 10:m=g.transform(r,o,i,a,s,u,c,l,h)}}y.value=m}return p}(t,e,n,r,o,i,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,o,i,a,s,u,c,l,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,o=0;o<n.length;o++)om(t,e,o,n[o])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)Ey(t,e,i,n[i])&&(o=!0);if(o){var a="";for(i=0;i<n.length;i++)a+=_g(n[i],r[i]);a=e.text.prefix+a;var s=oy(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return o}(t,e,n);case 16384:return function(t,e,n){for(var r=ay(t,e.nodeIndex),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)Cy(t,e,s,n[s])&&(i=!0,a=rg(t,r,e,s,n[s],a));return a&&o.ngOnChanges(a),65536&e.flags&&ry(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var o=e.bindings,i=!1,a=0;a<n.length;a++)Ey(t,e,a,n[a])&&(i=!0);if(i){var s=sy(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[o[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.__spread)(l))}s.value=u}return i}(t,e,n);default:throw"unreachable"}}(t,e,o)}function Pg(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=iy(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,Iy(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Rg(t,e,n,r,o,i,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,o,i,a,s,u,c,l,h){var f=e.bindings.length;f>0&&Sy(t,e,0,n),f>1&&Sy(t,e,1,r),f>2&&Sy(t,e,2,o),f>3&&Sy(t,e,3,i),f>4&&Sy(t,e,4,a),f>5&&Sy(t,e,5,s),f>6&&Sy(t,e,6,u),f>7&&Sy(t,e,7,c),f>8&&Sy(t,e,8,l),f>9&&Sy(t,e,9,h)}(t,e,r,o,i,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Sy(t,e,r,n[r])}(t,e,r),!1}function Mg(t,e){if(uy(t,e.nodeIndex).dirty)throw hy(ly.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function jg(t){if(!(128&t.state)){if(Fg(t,Vg.Destroy),Lg(t,Vg.Destroy),og(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ay(t);if(e){var n=e.template._projectedViews;n&&(gm(n,n.indexOf(t)),ly.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(iy(t,n).renderElement):2&r.flags?t.renderer.destroyNode(oy(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&uy(t,n).destroy()}}(t),ky(t)&&t.renderer.destroy(),t.state|=128}}var Vg=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Lg(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?Ug(iy(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function Fg(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=iy(t,r).viewContainer._embeddedViews,a=0;a<i.length;a++)Ug(i[a],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function Ug(t,e){var n=t.state;switch(e){case Vg.CheckNoChanges:0==(128&n)&&(12==(12&n)?Dg(t):64&n&&Bg(t,Vg.CheckNoChangesProjectedViews));break;case Vg.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Dg(t):64&n&&Bg(t,e));break;case Vg.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ng(t):64&n&&Bg(t,Vg.CheckAndUpdateProjectedViews));break;case Vg.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ng(t):64&n&&Bg(t,e));break;case Vg.Destroy:jg(t);break;case Vg.CreateViewNodes:xg(t)}}function Bg(t,e){Fg(t,e),Lg(t,e)}function qg(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var a=t.def.nodes[i];if(a.flags&e&&a.flags&n)switch(ly.setCurrentNode(t,a.nodeIndex),r){case 0:cg(t,a);break;case 1:Mg(t,a)}a.childFlags&e&&a.childFlags&n||(i+=a.childCount)}}var zg=!1;function Hg(){if(!zg){zg=!0;var t=Bu()?{setCurrentNode:pv,createRootView:Wg,createEmbeddedView:Kg,createComponentView:Yg,createNgModuleRef:Zg,overrideProvider:tv,overrideComponentView:ev,clearOverrides:nv,checkAndUpdateView:av,checkNoChangesView:sv,destroyView:uv,createDebugContext:function(t,e){return new wv(t,e)},handleEvent:dv,updateDirectives:yv,updateRenderer:mv}:{setCurrentNode:function(){},createRootView:Gg,createEmbeddedView:Sg,createComponentView:Ig,createNgModuleRef:Rm,overrideProvider:dy,overrideComponentView:dy,clearOverrides:dy,checkAndUpdateView:Ng,checkNoChangesView:Dg,destroyView:jg,createDebugContext:function(t,e){return new wv(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?ov:iv,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?ov:iv,t)}};ly.setCurrentNode=t.setCurrentNode,ly.createRootView=t.createRootView,ly.createEmbeddedView=t.createEmbeddedView,ly.createComponentView=t.createComponentView,ly.createNgModuleRef=t.createNgModuleRef,ly.overrideProvider=t.overrideProvider,ly.overrideComponentView=t.overrideComponentView,ly.clearOverrides=t.clearOverrides,ly.checkAndUpdateView=t.checkAndUpdateView,ly.checkNoChangesView=t.checkNoChangesView,ly.destroyView=t.destroyView,ly.resolveDep=eg,ly.createDebugContext=t.createDebugContext,ly.handleEvent=t.handleEvent,ly.updateDirectives=t.updateDirectives,ly.updateRenderer=t.updateRenderer,ly.dirtyParentQueries=ug}}function Gg(t,e,n,r,o,i){var a=o.injector.get(Eu);return Tg(Qg(t,o,a,e,n),r,i)}function Wg(t,e,n,r,o,i){var a=o.injector.get(Eu),s=Qg(t,o,new Tv(a),e,n),u=rv(r);return Ev(fv.create,Tg,null,[s,u,i])}function Qg(t,e,n,r,o){var i=e.injector.get(xu),a=e.injector.get(Of),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:s,errorHandler:a}}function Kg(t,e,n,r){var o=rv(n);return Ev(fv.create,Sg,null,[t,e,o,r])}function Yg(t,e,n,r){return n=$g.get(e.element.componentProvider.provider.token)||rv(n),Ev(fv.create,Ig,null,[t,e,n,r])}function Zg(t,e,n,r){return Rm(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Jg.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Jg.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Xg.forEach(function(r,o){E(o).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var o=Jg.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=jy(o.deps),r.value=o.value)}if(Xg.size>0){var i=new Set(t.modules);Xg.forEach(function(e,r){if(i.has(E(r).providedIn)){var o={token:r,flags:e.flags|(n?4096:0),deps:jy(e.deps),value:e.value,index:t.providers.length};t.providers.push(o),t.providersByKey[my(r)]=o}})}}(t=t.factory(function(){return dy})),t):t}(r))}var Jg=new Map,Xg=new Map,$g=new Map;function tv(t){var e;Jg.set(t.token,t),"function"==typeof t.token&&(e=E(t.token))&&"function"==typeof e.providedIn&&Xg.set(t.token,t)}function ev(t,e){var n=Fy(_m(e)),r=Fy(n.nodes[0].element.componentView);$g.set(t,r)}function nv(){Jg.clear(),Xg.clear(),$g.clear()}function rv(t){if(0===Jg.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&Jg.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return dy});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=Jg.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=jy(i.deps),o.value=i.value)}}}}function ov(t,e,n,r,o,i,a,s,u,c,l,h,f){var p=t.def.nodes[e];return kg(t,p,n,r,o,i,a,s,u,c,l,h,f),224&p.flags?sy(t,e).value:void 0}function iv(t,e,n,r,o,i,a,s,u,c,l,h,f){var p=t.def.nodes[e];return Rg(t,p,n,r,o,i,a,s,u,c,l,h,f),224&p.flags?sy(t,e).value:void 0}function av(t){return Ev(fv.detectChanges,Ng,null,[t])}function sv(t){return Ev(fv.checkNoChanges,Dg,null,[t])}function uv(t){return Ev(fv.destroy,jg,null,[t])}var cv,lv,hv,fv=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function pv(t,e){lv=t,hv=e}function dv(t,e,n,r){return pv(t,e),Ev(fv.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function yv(t,e){if(128&t.state)throw py(fv[cv]);return pv(t,bv(t,0)),t.def.updateDirectives(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?gv(t,a,r,o):vv(t,a,r,o),16384&a.flags&&pv(t,bv(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function mv(t,e){if(128&t.state)throw py(fv[cv]);return pv(t,_v(t,0)),t.def.updateRenderer(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=t.def.nodes[n];return 0===e?gv(t,a,r,o):vv(t,a,r,o),3&a.flags&&pv(t,_v(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function gv(t,e,n,o){if(kg.apply(void 0,Object(r.__spread)([t,e,n],o))){var i=1===n?o[0]:o;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=i[s];8&u.flags&&(a[(p=u.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(ur,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=cr(c))}var l=e.parent,h=iy(t,l.nodeIndex).renderElement;if(l.element.name)for(var f in a)null!=(c=a[f])?t.renderer.setAttribute(h,f,c):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var p}function vv(t,e,n,o){Rg.apply(void 0,Object(r.__spread)([t,e,n],o))}function bv(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function _v(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var wv=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=xy(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return iy(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return xm(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Cv(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Cv(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ky(t);)t=t.parent;return t.parent?iy(t.parent,xy(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Dy(this.view,this.nodeDef):Dy(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],o)):dy}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(o)))},t}();function Cv(t,e,n){for(var r in e.references)n[r]=hg(t,e,e.references[r])}function Ev(t,e,n,r){var o=cv,i=lv,a=hv;try{cv=t;var s=e.apply(n,r);return lv=i,hv=a,cv=o,s}catch(u){if(Sf(u)||!lv)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),fy(t,e),t}(u,Sv())}}function Sv(){return lv?new wv(lv,hv):null}var Tv=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Iv(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Iv=function(){function t(t){this.delegate=t,this.debugContextFactory=Sv,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Ed.delete(t.nativeNode)}(Td(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var o=new vd(n,null,r);o.name=t,Id(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Id(new gd(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Id(new gd(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Td(t),r=Td(e);n&&r&&n instanceof vd&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Td(t),o=Td(e),i=Td(n);r&&o&&r instanceof vd&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Td(t),r=Td(e);n&&r&&n instanceof vd&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Sv();return r&&Id(new vd(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var o=Td(t);o&&o instanceof vd&&(o.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Td(t);r&&r instanceof vd&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Td(t);n&&n instanceof vd&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Td(t);n&&n instanceof vd&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=Td(t);o&&o instanceof vd&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Td(t);r&&r instanceof vd&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Td(t);r&&r instanceof vd&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Td(t);r&&r.listeners.push(new md(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ov(t){return Hg(),ly.overrideProvider(t)}function Av(t,e){return Hg(),ly.overrideComponentView(t,e)}function xv(){return Hg(),ly.clearOverrides()}function Dv(t,e,n){return new Nv(t,e,n)}var Nv=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Object(r.__extends)(e,t),e.prototype.create=function(t){Hg();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var o in t.providersByKey)r[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Fy(this._ngModuleDefFactory));return ly.createNgModuleRef(this.moduleType,t||ms.NULL,this._bootstrapComponents,e)},e}(lu)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return o});var o=r()},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),o=n("2Bdj"),i=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,o)}return a}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(o.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("6blF"),o=n("+tJ4"),i=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),h=n("En8+"),f=n("xTla"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(Object(c.a)(t))return Object(i.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),o=n("pugT"),i=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new o.a,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(i.a)(t))}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("xTla"),o=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),o=n("6blF"),i=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("L/V9");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(i.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(o.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),o=n("zVF4"),i=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,o=this.normalizeInstanceIdentifier(e.identifier);try{var i=this.getOrInitializeService(o);if(!i){if(n)return null;throw Error("Service "+this.name+" is not available")}return i}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var o=r.__values(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var a=r.__read(i.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=i,e.ComponentContainer=s,e.Provider=a},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),o=n("K9Ia"),i=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(i.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b);function d(){return new o.a}function y(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return y})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("DKTb"),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},Wcq6:function(t,e,n){"use strict";var r,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;o.registerVersion("firebase","7.6.0","app"),t.exports=o},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("psW0"),o=n("mChF");function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(o.a,t)}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},hmAI:function(t,e,n){var r=n("mrSG").__decorate,o=n("CcnG"),i=n("lBHd"),a=function(){return function(){}}();a=r([o.NgModule({imports:[],exports:[i.EasyPieChartComponent],declarations:[i.EasyPieChartComponent]})],a),e.EasyPieChartModule=a},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},lBHd:function(t,e,n){var r=n("mrSG").__decorate,o=n("mrSG").__metadata,i=n("CcnG"),a=function(){function t(t){this.element=t.nativeElement,this.options=Object.assign({barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0}},this.options)}return t.prototype.ngOnInit=function(){this.element.innerHTML="",this.pieChart=new EasyPieChart(this.element,this.options),this.pieChart.update(this.percent)},t.prototype.ngOnChanges=function(t){t.percent.isFirstChange()||this.pieChart.update(this.percent)},t}();r([i.Input(),o("design:type",Object)],a.prototype,"percent",void 0),r([i.Input(),o("design:type",Object)],a.prototype,"options",void 0),a=r([i.Component({selector:"easy-pie-chart",template:"<div>Loading...</div>"})],a),e.EasyPieChartComponent=a},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),o=n("zotm"),i=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(o.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a)},pugT:function(t,e,n){"use strict";var r,o=n("isby"),i=n("McSo"),a=n("2Bdj"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return s.e=t,s}}function c(t){return r=t,u}function l(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}l.prototype=Object.create(Error.prototype);var h=l;n.d(e,"a",function(){return f});var f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,d=r?r.length:0;n;)n.remove(this),n=++f<d&&r[f]||null;if(Object(a.a)(u)&&c(u).call(this)===s&&(e=!0,t=t||(s.e instanceof h?p(s.e.errors):[s.e])),Object(o.a)(l))for(f=-1,d=l.length;++f<d;){var y=l[f];if(Object(i.a)(y)&&c(y.unsubscribe).call(y)===s){e=!0,t=t||[];var m=s.e;m instanceof h?t=t.concat(p(m.errors)):t.push(m)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function p(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return u}),n.d(e,"setLogLevel",function(){return c});var o=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=i.INFO,s=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.ERROR],t))},t}();function c(t){o.forEach(function(e){e.logLevel=t})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("En8+"),o=function(t){return function(e){for(var n=t[r.a]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((o={})[h]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),d=new u.Logger("@firebase/app"),y=function(){function t(t,e,n){var r,o,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return u},"PUBLIC"));try{for(var c=i.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),("object"!=typeof o||null===o)&&(o={name:o});var i=o;void 0===i.name&&(i.name=f);var s=i.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,i,r);return e[s]=u,u},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=p[t])&&void 0!==r?r:t;n&&(o+="-"+n);var i=o.match(/\s|\//),a=e.match(/\s|\//);if(i||a){var c=['Unable to register library "'+o+'" with version "'+e+'":'];return i&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),i&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new s.Component(o+"-version",function(){return{library:o,version:e}},"VERSION"))},apps:null,SDK_VERSION:"7.6.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function o(t){if(!a.contains(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function u(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=i.__values(Object.keys(e)),y=p.next();!y.done;y=p.next())e[y.value]._addComponent(s)}catch(m){u={error:m}}finally{try{y&&!y.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),o.App=t,r}(y);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e;return"VERSION"===(null===(e=t.getComponent())||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.5.0",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return sr}),n.d(e,"EventType",function(){return ur}),n.d(e,"WebChannel",function(){return cr}),n.d(e,"XhrIo",function(){return lr}),n.d(e,"createWebChannelTransport",function(){return ar});var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=i||{},a=o;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.xb=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[y]||(this[y]=++m))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o=s(t)?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var x,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function k(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var R=P.userAgent;if(R){x=R;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<V.length;i++)n=V[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=l;var U,B,q=N(x,"Opera"),z=N(x,"Trident")||N(x,"MSIE"),H=N(x,"Edge"),G=H||z,W=N(x,"Gecko")&&!(N(x.toLowerCase(),"webkit")&&!N(x,"Edge"))&&!(N(x,"Trident")||N(x,"MSIE"))&&!N(x,"Edge"),Q=N(x.toLowerCase(),"webkit")&&!N(x,"Edge");function K(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",Z=(B=x,W?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Q?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Z&&(Y=Z?Z[1]:""),z){var J=K();if(null!=J&&J>parseFloat(Y)){U=String(J);break t}}U=Y}var X,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=D(String(U)).split("."),r=D(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=k(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||k(0==a[2].length,0==s[2].length)||k(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var et=a.document;X=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(X),rt=z&&!tt("9"),ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function at(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{F(e.nodeName);var o=!0;break t}catch(i){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}it.prototype.b=function(){this.Ia=!1},C(at,it);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=o,this.key=++ct,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=S(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.X&&i.listener==e&&i.capture==!!n&&i.da==r)return o}return-1}ft.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var a=dt(t,e,r,o);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,i,!!r,o)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),mt={};function gt(t,e,n,r,o){if(r&&r.once)return function t(e,n,r,o,i){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,o,i);return null}return r=St(r),e&&e[ut]?e.Aa(n,r,d(o)?!!o.capture:!!o,i):vt(e,n,r,!0,o,i)}(t,e,n,r,o);if(f(e)){for(var i=0;i<e.length;i++)gt(t,e[i],n,r,o);return null}return n=St(n),t&&t[ut]?t.za(e,n,d(r)?!!r.capture:!!r,o):vt(t,e,n,!1,r,o)}function vt(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var a=d(o)?!!o.capture:!!o;if(a&&!nt)return null;var s=Ct(t);if(s||(t[yt]=s=new ft(t)),(n=s.add(e,n,r,a,i)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ht(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new at(e,this):e=new at(e||c("window.event"),this))}function Ct(t){return(t=t[yt])instanceof ft?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Tt(){E.call(this),this.c=new ft(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&pt(t.c,a),o=!1!==s.call(u,r)&&o}}return o&&0!=r.Ia}C(Tt,E),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){gt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,o,i){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,o,i);else o=d(o)?!!o.capture:!!o,r=St(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=dt(a=e.a[n],r,o,i))&&(ht(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,o,i)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var o=t;L(t=new it(r,n),o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var a=t.a=e[i];o=It(a,r,!0,t)&&o}if(o=It(a=t.a=n,r,!0,t)&&o,o=It(a,r,!1,t)&&o,e)for(i=0;i<e.length;i++)o=It(a=t.a=e[i],r,!1,t)&&o;return o},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ot=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Dt,Nt=new At(function(){return new Pt},function(t){t.reset()});function kt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Rt(t){a.setTimeout(function(){throw t},0)}function Mt(t,e){Dt||function(){var t=a.Promise.resolve(void 0);Dt=function(){t.then(Lt)}}(),jt||(Dt(),jt=!0),Vt.add(t,e)}xt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Vt=new xt;function Lt(){for(var t;t=kt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Nt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}jt=!1}function Ft(t,e){Tt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.fb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function qt(t,e,n){E.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}C(Ft,Tt),(r=Ft.prototype).ba=!1,r.L=null,r.fb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ft.N.G.call(this),Ut(this),delete this.a},C(qt,E),(r=qt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Ht,E);var Gt=[];function Wt(t,e,n,r){f(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var o=0;o<n.length;o++){var i=gt(e,n[o],r||t.handleEvent,!1,t.b||t);if(!i)break;t.a[i.key]=i}}function Qt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Kt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Qt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Tt;function Zt(t){it.call(this,"serverreachability",t)}function Jt(t){Yt.dispatchEvent(new Zt(Yt,t))}function Xt(t){it.call(this,"statevent",t)}function $t(t){Yt.dispatchEvent(new Xt(Yt,t))}function te(t){it.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}C(Zt,it),C(Xt,it),C(te,it);var ne={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},re={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function oe(){}function ie(){}oe.prototype.a=null;var ae,se={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function ue(){it.call(this,"d")}function ce(){it.call(this,"c")}function le(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new Ft(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ue,it),C(ce,it),C(le,oe),ae=new le;var fe=45e3,pe={},de={};function ye(t,e,n){t.F=1,t.f=Ue(Pe(e)),t.l=n,t.H=!0,ge(t,null)}function me(t,e,n,r){t.F=1,t.f=Ue(Pe(e)),t.l=null,t.H=n,ge(t,r)}function ge(t,e){t.v=w(),_e(t),t.D=Pe(t.f),Fe(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?j(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var o=be(t,n);if(o==de){4==e&&(t.c=4,$t(14),r=!1);break}if(o==pe){t.c=4,$t(15),r=!1;break}Te(t,o)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Se(t),Ee(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function Ce(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Ca()||t.m||t.g.na(t)}function Se(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Qt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Jt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,t)n[r++]=o;o=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function Oe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){De(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];De(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)De(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Pn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=r?3:2),Ce(this);var o=this.a.T();this.o=o;var i=this.a.aa();if(this.b=200==o){if(this.S&&!this.s){e:{if(this.a){var a=Rn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,$t(12),Se(this),Ee(this);break t}this.s=!0,Te(this,s)}this.H?(ve(this,e,i),G&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,i),4==e&&Se(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.c=3,$t(12)):(this.c=0,$t(13)),Se(this),Ee(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Pn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Se(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Jt(3),$t(17)),Se(this),this.c=2,Ee(this)):we(this,this.R-t)},(r=Oe.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return De(this.b,t)?this.b[t]:e},r.set=function(t,e){De(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var Ne=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof ke?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),je(this,t.i),this.a=t.a,Ve(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Ne))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),je(this,n[4]),this.a=Be(n[5]||"",!0),Ve(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(t){return new ke(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ve(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),$e(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Qe)),t.c=new Ye(e,t.h))}function Le(t,e,n){t.c.set(e,n)}function Fe(t,e,n){f(n)||(n=[String(n)]),$e(t.c,e,n)}function Ue(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Ke)),t.join("")},ke.prototype.resolve=function(t){var e=Pe(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)je(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var o=e.a.lastIndexOf("/");-1!=o&&(r=e.a.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(N(o,"./")||N(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],a=0;a<o.length;){var s=o[a++];"."==s?r&&a==o.length&&i.push(""):".."==s?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&a==o.length&&i.push("")):(i.push(s),r=!0)}r=i.join("/")}else r=o}return n?e.a=r:n=""!==t.c.toString(),n?Ve(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,Qe=/[#\?@]/g,Ke=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Oe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Ze(t),e=en(t,e),De(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Xe(t,e){return Ze(t),e=en(t,e),De(t.a.b,e)}function $e(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),O(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Oe(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Wn(t.a,t,!1)):($t(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),$t(4),Fe(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Le(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Oe}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[y]||(t[y]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function cn(t){this.g=t||ln,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().yb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Ze(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ze(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ze(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},r.C=function(t){Ze(this);var e=[];if(s(t))Xe(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Ze(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.C(r);for(var i=0;i<r.length;i++){var a=o;""!==r[i]&&(a+="="+encodeURIComponent(String(r[i]))),t.push(a)}}return this.c=t.join("&")},C(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(o){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?$t(6):"11111"==e?($t(5),this.g=!0,(!z||10<=Number(X))&&(this.c=200,this.b.cancel(),$t(11),Wn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($t(11),Wn(this.a,this,!0)):($t(10),Wn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var ln=10;function hn(t,e){!t.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(yn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function dn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=De(t.a.a.b,e)):t=!1,t}function yn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=De(t.a.a.b,n)),n&&Ae(t.a.a,sn(e)))}function gn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),function(t){e=e.concat(t.j)}),e}return O(t.c)}function vn(){}function bn(){this.a=new vn}function _n(t,e,n){var r=n||"";try{Ie(t,function(t,n){var o=t;d(t)&&(o=Ot(t)),e.push(r+n+"="+encodeURIComponent(o))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function wn(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(i){}}cn.prototype.cancel=function(){var t;this.c=gn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},vn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var Cn=a.JSON.parse;function En(t){Tt.call(this),this.headers=new Oe,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}C(En,Tt);var Sn="",Tn=/^https?$/i,In=["POST","PUT"];function On(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Nn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Dn(t){if(t.b&&void 0!==i&&(!t.s[1]||4!=Pn(t)||2!=t.T()))if(t.l&&4==Pn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var o;if(o=0===n){var s=String(t.A).match(Ne)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}o=!Tn.test(s?s.toLowerCase():"")}e=o}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Pn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.T()+"]",xn(t)}}finally{Nn(t)}}}function Nn(t,e){if(t.a){kn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){}}}function kn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var o=""}else o=t.substring(r+1,n);n=(t=[t.substr(0,r),o,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Le(t,e,n),t}function jn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.zb||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Vn(t){if(Ln(t),3==t.u){var e=t.P++,n=Pe(t.B);Le(n,"SID",t.H),Le(n,"RID",e),Le(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Pe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Zn(t)}function Ln(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Qn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Fn(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Pe(t.B);Le(r,"SID",t.H),Le(r,"RID",n),Le(r,"AID",t.O),qn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),yn(t.b,n),ye(n,r,e)}function qn(t,e){t.c&&Ie({},function(t,n){Le(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Sa,t.c,t):null;t:for(var o=t.f,i=-1;;){var a=["count="+n];-1==i?0<n?a.push("ofs="+(i=o[0].b)):i=0:a.push("ofs="+i);for(var s=!0,u=0;u<n;u++){var c=o[u].b,l=o[u].a;if(0>(c-=i))i=Math.max(0,o[u].b-100),s=!1;else try{_n(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Un(t)}function Qn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.eb,t);n||(n=new ke("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Kt;if(a.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Zn(t),Ln(t)}function Zn(t){t.u=0,t.m=-1,t.c&&(0==gn(t.b).length&&0==t.f.length||(t.b.c.length=0,O(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof ke?Pe(t):new ke(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),je(r,r.i);else{var o=a.location;r=function(t,e,n,r){var o=new ke(null,void 0);return t&&Re(o,t),e&&Me(o,e),n&&je(o,n),r&&(o.a=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.V&&M(t.V,function(t,e){Le(r,e,t)}),n=t.I,(e=t.j)&&n&&Le(r,e,n),Le(r,"VER",t.wa),qn(t,r),r}function Xn(){}function $n(){if(z&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new jn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,o=arguments[n];0==o.lastIndexOf("/",0)?e=o:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?o:"/"+o)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ce.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(i){return void An(this,i)}t=n||"";var o=new Oe(this.headers);r&&Ie(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=On,n=t.length,r=s(t)?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.K()),n=a.FormData&&t instanceof a.FormData,!(0<=S(In,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(i){An(this,i)}},r.Ba=function(){void 0!==i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),En.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Dn(this):this.Za())},r.Za=function(){Dn(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(B){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Xa=function(){return s(this.f)?this.f:String(this.f)},(r=jn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?L(r=j(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var o=e=0;o<this.f.length;o++){var i=this.f[o];if(void 0===(i="__data__"in i.a&&s(i=i.a.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=o;break t}if(4096===e||o===this.f.length-1){e=o+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Le(o=Pe(this.B),"RID",t),Le(o,"CVER",22),this.o&&this.j&&Le(o,"X-HTTP-Session-Id",this.j),qn(this,o),this.g&&r&&Mn(o,this.g,r),yn(this.b,n),this.W?(Le(o,"$req",e),Le(o,"SID","null"),n.S=!0,ye(n,o,null)):ye(n,o,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||fn(this.b)||Bn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Pe(this.pa);Le(t,"RID","rpc"),Le(t,"SID",this.H),Le(t,"CI",this.ia?"0":"1"),Le(t,"AID",this.O),qn(this,t),Le(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||dn(this.b,t)))if(this.m=t.o,!t.s&&dn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(i){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Qn(this),this.a.cancel(),this.a=null}Gn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(i){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Qn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var o=r[3];null!=o&&(this.wa=o),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((o=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,o),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Le(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(o=this.D)&&r.setTimeout(o),r.i&&(Ce(r),_e(r)),this.a=r):Hn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Vn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Qn(this),this.a=null;var n=2}else{if(!dn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.eb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},$n.prototype.a=function(t,e){return new tr(t,e)},C(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Fe(e,"MODE","init"),!t.a.o&&t.a.j&&Fe(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Vn(this.a)},r.Wa=function(t){if(s(t)){var e={};e.__data__=t,Fn(this.a,e)}else this.h?((e={}).__data__=Ot(t),Fn(this.a,e)):Fn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Vn(this.a),delete this.a,tr.N.G.call(this)},C(er,ue),C(nr,ce),C(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var or=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},$n);$n.prototype.createWebChannel=$n.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,En.prototype.listenOnce=En.prototype.Aa,En.prototype.getLastError=En.prototype.Xa,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getResponseJson=En.prototype.Ua,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var ir={createWebChannelTransport:or,ErrorCode:ne,EventType:re,WebChannel:ie,XhrIo:En},ar=ir.createWebChannelTransport,sr=ir.ErrorCode,ur=ir.EventType,cr=ir.WebChannel,lr=ir.XhrIo;e.default=ir},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("+umK");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),o=function(){return function(){}}(),i=function(){return function(){this.title="Ajit Kumar Baral. Personal Website"}}(),a=n("mrSG"),s=function(){return function(){}}(),u=new r.InjectionToken("Location Initialized"),c=function(){return function(){}}(),l=new r.InjectionToken("appBaseHref"),h=function(){function t(t){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(f(o)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,f(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function f(t){return t.replace(/\/index.html$/,"")}var p=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(a.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=h.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+h.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+h.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(c),d=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(a.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return h.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+h.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+h.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+h.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(c),y=void 0,m=["en",[["a","p"],["AM","PM"],y],[["AM","PM"],y,y],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],y,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],y,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",y,"{1} 'at' {0}",y],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],g={},v=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),b=new r.InjectionToken("UseV4Plurals"),_=function(){return function(){}}(),w=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(a.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=g[e];if(n)return n;var r=e.split("-")[0];if(n=g[r])return n;if("en"===r)return m;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case v.Zero:return"zero";case v.One:return"one";case v.Two:return"two";case v.Few:return"few";case v.Many:return"many";default:return"other"}},e}(_),C=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),E=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new C(null,e._ngForOf,-1,-1),o),a=new S(t,i);n.push(a)}else null==o?e._viewContainer.remove(r):(i=e._viewContainer.get(r),e._viewContainer.move(i,o),a=new S(t,i),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),S=function(){return function(t,e){this.record=t,this.view=e}}(),T=function(){function t(t,e){this._viewContainer=t,this._context=new I,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){O("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){O("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),I=function(){return function(){this.$implicit=null,this.ngIf=null}}();function O(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var A=function(){return function(){}}(),x=new r.InjectionToken("DocumentToken"),D="server";function N(t){return t===D}var k=function(){function t(){}return t.ngInjectableDef=Object(r.defineInjectable)({providedIn:"root",factory:function(){return new P(Object(r.inject)(x),window,Object(r.inject)(r.ErrorHandler))}}),t}(),P=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),R=n("nkY7"),M=n("IUTb"),j=n("6blF"),V=new j.a(function(t){return t.complete()});function L(t){return t?function(t){return new j.a(function(e){return t.schedule(function(){return e.complete()})})}(t):V}function F(t){var e=new j.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(R.a)(n)?t.pop():n=void 0,t.length){case 0:return L(n);case 1:return n?Object(M.a)(t,n):F(t[0]);default:return Object(M.a)(t,n)}}var B=n("0/uQ"),q=n("K9Ia"),z=n("8g8A"),H=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return a.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(q.a);function G(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}G.prototype=Object.create(Error.prototype);var W=G,Q=n("isby"),K=n("MGBS"),Y=n("zotm"),Z={},J=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.resultSelector))},t}(),X=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return a.__extends(e,t),e.prototype._next=function(t){this.values.push(Z),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Y.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,a=this.toRespond?i[n]===Z?--this.toRespond:this.toRespond:0;i[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(K.a);function $(t){return new j.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(B.a)(n):L()).subscribe(e)})}var tt=n("67Y/"),et=n("Zn8D");function nt(){return Object(et.a)(1)}var rt=n("FFOo");function ot(t,e){return function(n){return n.lift(new it(t,e))}}var it=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.predicate,this.thisArg))},t}(),at=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return a.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(rt.a);function st(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}st.prototype=Object.create(Error.prototype);var ut=st;function ct(t){return function(e){return 0===t?L():e.lift(new lt(t))}}var lt=function(){function t(t){if(this.total=t,this.total<0)throw new ut}return t.prototype.call=function(t,e){return e.subscribe(new ht(t,this.total))},t}(),ht=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(rt.a),ft=n("+umK"),pt=n("2Bdj");function dt(t,e,n){return function(r){return r.lift(new yt(t,e,n))}}var yt=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new mt(t,this.nextOrObserver,this.error,this.complete))},t}(),mt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=ft.a,i._tapError=ft.a,i._tapComplete=ft.a,i._tapError=r||ft.a,i._tapComplete=o||ft.a,Object(pt.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||ft.a,i._tapError=n.error||ft.a,i._tapComplete=n.complete||ft.a),i}return a.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(rt.a),gt=function(t){return void 0===t&&(t=vt),dt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function vt(){return new W}function bt(t){return void 0===t&&(t=null),function(e){return e.lift(new _t(t))}}var _t=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new wt(t,this.defaultValue))},t}(),wt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return a.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(rt.a),Ct=n("mChF");function Et(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ot(function(e,n){return t(e,n,r)}):Ct.a,ct(1),n?bt(e):gt(function(){return new W}))}}var St=n("rPjj");function Tt(t){return function(e){var n=new It(t),r=e.lift(n);return n.caught=r}}var It=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.selector,this.caught))},t}(),Ot=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return a.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new St.a(this,void 0,void 0);this.add(r),Object(Y.a)(this,n,void 0,void 0,r)}},e}(K.a);function At(t){return function(e){return 0===t?L():e.lift(new xt(t))}}var xt=function(){function t(t){if(this.total=t,this.total<0)throw new ut}return t.prototype.call=function(t,e){return e.subscribe(new Dt(t,this.total))},t}(),Dt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(rt.a);function Nt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ot(function(e,n){return t(e,n,r)}):Ct.a,At(1),n?bt(e):gt(function(){return new W}))}}var kt=n("psW0"),Pt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Rt(t,this.predicate,this.thisArg,this.source))},t}(),Rt=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return a.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(rt.a);function Mt(t,e){return"function"==typeof e?function(n){return n.pipe(Mt(function(n,r){return Object(B.a)(t(n,r)).pipe(Object(tt.a)(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new jt(t))}}var jt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Vt(t,this.project))},t}(),Vt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return a.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new St.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(Y.a)(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(K.a);function Lt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ft(t,e,n))}}var Ft=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ut=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return a.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(rt.a);function Bt(t,e){return Object(kt.a)(t,e,1)}var qt=n("y3By"),zt=n("pugT"),Ht=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Gt(t,this.callback))},t}(),Gt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new zt.a(n)),r}return a.__extends(e,t),e}(rt.a),Wt=null;function Qt(){return Wt}var Kt,Yt={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r["\u0275global"].Node&&(Kt=r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var Xt,$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Wt||(Wt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(a.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Yt},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Kt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n.item(r);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Jt.hasOwnProperty(e)&&(e=Jt[e]))}return Zt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=te||(te=document.querySelector("base"))?te.getAttribute("href"):null;return null==n?null:(e=n,Xt||(Xt=document.createElement("a")),Xt.setAttribute("href",e),"/"===Xt.pathname.charAt(0)?Xt.pathname:"/"+Xt.pathname)},e.prototype.resetBaseElement=function(){te=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(a.__values)(t.split(";")),i=o.next();!i.done;i=o.next()){var s=i.value,u=s.indexOf("="),c=Object(a.__read)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(h){n={error:h}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(a.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),te=null,ee=x;function ne(){return!!window.history.pushState}var re=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(a.__extends)(e,t),e.prototype._init=function(){this.location=Qt().getLocation(),this._history=Qt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Qt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Qt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Qt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){ne()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){ne()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(a.__decorate)([Object(a.__param)(0,Object(r.Inject)(ee)),Object(a.__metadata)("design:paramtypes",[Object])],e)}(s),oe=new r.InjectionToken("TRANSITION_ID"),ie=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then(function(){var n=Qt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[oe,ee,r.Injector],multi:!0}],ae=function(){function t(){}return t.init=function(){Object(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){r["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(t){var e=r["\u0275global"].getAllAngularTestabilities(),n=e.length,o=!1,i=function(e){o=o||e,0==--n&&t(o)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Qt().isShadowRoot(e)?this.findTestabilityInTree(t,Qt().getHost(e),!0):this.findTestabilityInTree(t,Qt().parentElement(e),!0):null},t}();function se(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}var ue={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function ce(t){return Object(r.getDebugNode)(t)}var le=new r.InjectionToken("EventManagerPlugins"),he=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),fe=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Qt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),pe=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),de=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(a.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return Qt().remove(t)})},e}(pe),ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},me=/%COMP%/g,ge="_nghost-%COMP%",ve="_ngcontent-%COMP%";function be(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?be(t,o,n):(o=o.replace(me,t),n.push(o))}return n}function _e(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var we=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ce(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ie(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new Oe(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var o=be(e.id,e.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Ce=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ye[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=ye[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ye[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,o){o&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,o&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Se(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Se(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_e(n)):this.eventManager.addEventListener(t,e,_e(n))},t}(),Ee="@".charCodeAt(0);function Se(t,e){if(t.charCodeAt(0)===Ee)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Te,Ie=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.component=r;var a=be(o+"-"+r.id,r.styles,[]);return n.addStyles(a),i.contentAttr=ve.replace(me,o+"-"+r.id),i.hostAttr=ge.replace(me,o+"-"+r.id),i}return Object(a.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Ce),Oe=function(t){function e(e,n,o,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=o,a.component=i,a.shadowRoot=i.encapsulation===r.ViewEncapsulation.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=be(i.id,i.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(a.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Ce),Ae="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},xe=Ae("addEventListener"),De=Ae("removeEventListener"),Ne={},ke="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Ae("BLACK_LISTED_EVENTS")]&&(Te={});var Pe=function(t){return!!Te&&Te.hasOwnProperty(t)},Re=function(t){var e=Ne[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==t[ke];i++){var a;(a=o[i]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Me=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&N(r)||o.patchEvent(),o}return Object(a.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ke]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var o=this,i=n;if(!t[xe]||r.NgZone.isInAngularZone()&&!Pe(e))t.addEventListener(e,i,!1);else{var a=Ne[e];a||(a=Ne[e]=Ae("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=Pe(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:i});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===i){l=!0;break}l||s.push({zone:c,handler:i})}u||t[xe](e,Re,!1)}return function(){return o.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[De];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var o=Ne[e],i=o&&t[o];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<i.length;s++)if(i[s].handler===n){a=!0,i.splice(s,1);break}a?0===i.length&&r.apply(t,[e,Re,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(fe),je={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ve=new r.InjectionToken("HammerGestureConfig"),Le=new r.InjectionToken("HammerLoader"),Fe=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ue=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._config=n,i.console=r,i.loader=o,i}return Object(a.__extends)(e,t),e.prototype.supports=function(t){return!(!je.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,a=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});i||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(t),a=function(t){o.runGuarded(function(){n(t)})};return i.on(e,a),function(){i.off(e,a),"function"==typeof i.destroy&&i.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(fe),Be=["alt","control","meta","shift"],qe={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},ze=function(t){function e(e){return t.call(this,e)||this}var n;return Object(a.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var o=n.parseEventName(e),i=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Qt().onAndCancel(t,o.domEventName,i)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var o=n._normalizeKey(e.pop()),i="";if(Be.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=o,0!=e.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},e.getEventFullKey=function(t){var e="",n=Qt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Be.forEach(function(r){r!=n&&(0,qe[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(o){n.getEventFullKey(o)===t&&r.runGuarded(function(){return e(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(fe),He=function(){return function(){}}(),Ge=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(a.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof Qe?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof Ke?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r["\u0275_sanitizeStyle"])(e));case r.SecurityContext.SCRIPT:if(e instanceof Ye)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof Je||e instanceof Ze?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r["\u0275_sanitizeUrl"])(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof Je)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof We)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Qe(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Ke(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Ye(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Ze(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Je(t)},e}(He),We=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(We),Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(We),Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(We),Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(We),Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(We),Xe=[{provide:r.PLATFORM_ID,useValue:"browser"},{provide:r.PLATFORM_INITIALIZER,useValue:function(){$t.makeCurrent(),ae.init()},multi:!0},{provide:s,useClass:re,deps:[ee]},{provide:ee,useFactory:function(){return document},deps:[]}],$e=Object(r.createPlatformFactory)(r.platformCore,"browser",Xe);function tn(){return new r.ErrorHandler}var en=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:oe,useExisting:r.APP_ID},ie]}},t}();"undefined"!=typeof window&&window;var nn=function(){return function(t,e){this.id=t,this.url=e}}(),rn=function(t){function e(e,n,r,o){void 0===r&&(r="imperative"),void 0===o&&(o=null);var i=t.call(this,e,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(nn),on=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(nn),an=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.reason=r,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(nn),sn=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.error=r,o}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(nn),un=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(nn),cn=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(nn),ln=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=o,a.shouldActivate=i,a}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(nn),hn=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(nn),fn=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(nn),pn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),dn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),yn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),mn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),gn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),vn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),bn=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),_n=function(){return function(){}}(),wn="primary",Cn=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function En(t){return new Cn(t)}var Sn="ngNavigationCancelingError";function Tn(t){var e=Error("NavigationCancelingError: "+t);return e[Sn]=!0,e}function In(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=t[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}var On=function(){return function(t,e){this.routes=t,this.module=e}}();function An(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];xn(r,Dn(e,r))}}function xn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==wn)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&An(t.children,e)}function Dn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Nn(t){var e=t.children&&t.children.map(Nn),n=e?Object(a.__assign)({},t,{children:e}):Object(a.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==wn&&(n.component=_n),n}function kn(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(t[n=r[i]]!==e[n])return!1;return!0}function Pn(t){return Array.prototype.concat.apply([],t)}function Rn(t){return t.length>0?t[t.length-1]:null}function Mn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jn(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(B.a)(Promise.resolve(t)):U(t)}function Vn(t,e,n){return n?function(t,e){return kn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Bn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!Bn(a=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Bn(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var a=o.slice(0,n.segments.length),s=o.slice(n.segments.length);return!!Bn(n.segments,a)&&!!n.children[wn]&&e(n.children[wn],r,s)}(e,n,n.segments)}(t.root,e.root)}var Ln=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Gn.serialize(this)},t}(),Fn=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Mn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Wn(this)},t}(),Un=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xn(this)},t}();function Bn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function qn(t,e){var n=[];return Mn(t.children,function(t,r){r===wn&&(n=n.concat(e(t,r)))}),Mn(t.children,function(t,r){r!==wn&&(n=n.concat(e(t,r)))}),n}var zn=function(){return function(){}}(),Hn=function(){function t(){}return t.prototype.parse=function(t){var e=new rr(t);return new Ln(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Wn(e);if(n){var r=e.children[wn]?t(e.children[wn],!1):"",o=[];return Mn(e.children,function(e,n){n!==wn&&o.push(n+":"+t(e,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=qn(e,function(n,r){return r===wn?[t(e.children[wn],!1)]:[r+":"+t(n,!1)]});return Wn(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Kn(t)+"="+Kn(e)}).join("&"):Kn(t)+"="+Kn(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Gn=new Hn;function Wn(t){return t.segments.map(function(t){return Xn(t)}).join("/")}function Qn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kn(t){return Qn(t).replace(/%3B/gi,";")}function Yn(t){return Qn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zn(t){return decodeURIComponent(t)}function Jn(t){return Zn(t.replace(/\+/g,"%20"))}function Xn(t){return""+Yn(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Yn(t)+"="+Yn(e[t])}).join(""));var e}var $n=/^[^\/()?;=#]+/;function tr(t){var e=t.match($n);return e?e[0]:""}var er=/^[^=?&#]+/,nr=/^[^?&#]+/,rr=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[wn]=new Fn(t,e)),n},t.prototype.parseSegment=function(){var t=tr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Un(Zn(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=tr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=tr(this.remaining);r&&this.capture(n=r)}t[Zn(e)]=Zn(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(er))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(nr);return e?e[0]:""}(this.remaining);o&&this.capture(r=o)}var i=Jn(n),a=Jn(r);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(t[i]=s=[s]),s.push(a)}else t[i]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=tr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=wn);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[wn]:new Fn([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),or=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=ir(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=ir(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ar(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ar(t,this._root).map(function(t){return t.value})},t}();function ir(t,e){var n,r;if(t===e.value)return e;try{for(var o=Object(a.__values)(e.children),i=o.next();!i.done;i=o.next()){var s=ir(t,i.value);if(s)return s}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function ar(t,e){var n,r;if(t===e.value)return[e];try{for(var o=Object(a.__values)(e.children),i=o.next();!i.done;i=o.next()){var s=ar(t,i.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var sr=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function ur(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var cr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,yr(r,e),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(or);function lr(t,e){var n=function(t,e){var n=new pr([],{},{},"",{},wn,e,null,t.root,-1,{});return new dr("",new sr(n,[]))}(t,e),r=new H([new Un("",{})]),o=new H({}),i=new H({}),a=new H({}),s=new H(""),u=new hr(r,o,a,s,i,wn,e,n.root);return u.snapshot=n.root,new cr(new sr(u,[]),n)}var hr=function(){function t(t,e,n,r,o,i,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(tt.a)(function(t){return En(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(tt.a)(function(t){return En(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function fr(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(a.__assign)({},t.params,e.params),data:Object(a.__assign)({},t.data,e.data),resolve:Object(a.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var pr=function(){function t(t,e,n,r,o,i,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),dr=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,yr(r,n),r}return Object(a.__extends)(e,t),e.prototype.toString=function(){return mr(this._root)},e}(or);function yr(t,e){e.value._routerState=t,e.children.forEach(function(e){return yr(t,e)})}function mr(t){var e=t.children.length>0?" { "+t.children.map(mr).join(", ")+" } ":"";return""+t.value+e}function gr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function vr(t,e){var n,r;return kn(t.params,e.params)&&Bn(n=t.url,r=e.url)&&n.every(function(t,e){return kn(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||vr(t.parent,e.parent))}function br(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _r(t,e,n,r,o){var i={};return r&&Mn(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Ln(n.root===t?e:function t(e,n,r){var o={};return Mn(e.children,function(e,i){o[i]=e===n?r:t(e,n,r)}),new Fn(e.segments,o)}(n.root,t,e),i,o)}var wr=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&br(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Rn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Cr=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Er(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[wn]:""+t}function Sr(t,e,n){if(t||(t=new Fn([],{})),0===t.segments.length&&t.hasChildren())return Tr(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var a=t.segments[o],s=Er(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!xr(s,u,a))return i;r+=2}else{if(!xr(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new Fn(t.segments.slice(0,r.pathIndex),{});return i.children[wn]=new Fn(t.segments.slice(r.pathIndex),t.children),Tr(i,0,o)}return r.match&&0===o.length?new Fn(t.segments,{}):r.match&&!t.hasChildren()?Ir(t,e,n):r.match?Tr(t,0,o):Ir(t,e,n)}function Tr(t,e,n){if(0===n.length)return new Fn(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[wn]=t,e):void 0===t[0].outlets?((n={})[wn]=t,n):t[0].outlets}(n),o={};return Mn(r,function(n,r){null!==n&&(o[r]=Sr(t.children[r],e,n))}),Mn(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new Fn(t.segments,o)}function Ir(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Or(n[o].outlets);return new Fn(r,i)}if(0===o&&br(n[0]))r.push(new Un(t.segments[e].path,n[0])),o++;else{var a=Er(n[o]),s=o<n.length-1?n[o+1]:null;a&&s&&br(s)?(r.push(new Un(a,Ar(s))),o+=2):(r.push(new Un(a,{})),o++)}}return new Fn(r,{})}function Or(t){var e={};return Mn(t,function(t,n){null!==t&&(e[n]=Ir(new Fn([],{}),0,t))}),e}function Ar(t){var e={};return Mn(t,function(t,n){return e[n]=""+t}),e}function xr(t,e,n){return t==n.path&&kn(e,n.parameters)}var Dr=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gr(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=ur(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),Mn(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=ur(t),i=t.value.component?r.children:e;Mn(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=ur(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new vn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new mn(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(gr(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Nr(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;i.attachRef=null,i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,n)},t}();function Nr(t){gr(t.value),t.children.forEach(Nr)}function kr(t){return"function"==typeof t}function Pr(t){return t instanceof Ln}var Rr=function(){return function(t){this.segmentGroup=t||null}}(),Mr=function(){return function(t){this.urlTree=t}}();function jr(t){return new j.a(function(e){return e.error(new Rr(t))})}function Vr(t){return new j.a(function(e){return e.error(new Mr(t))})}function Lr(t){return new j.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Fr=function(){function t(t,e,n,o,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=o,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,wn).pipe(Object(tt.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Tt(function(e){if(e instanceof Mr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Rr)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,wn).pipe(Object(tt.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Tt(function(t){if(t instanceof Rr)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,o=t.segments.length>0?new Fn([],((r={})[wn]=t,r)):t;return new Ln(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(tt.a)(function(t){return new Fn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return U({});var i=[],a=[],s={};return Mn(n,function(n,o){var u,c,l=(u=o,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(tt.a)(function(t){return s[o]=t}));o===wn?i.push(l):a.push(l)}),U.apply(null,i.concat(a)).pipe(nt(),Et(),Object(tt.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,i){var s=this;return U.apply(void 0,Object(a.__spread)(n)).pipe(Object(tt.a)(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,o,i).pipe(Tt(function(t){if(t instanceof Rr)return U(null);throw t}))}),nt(),Nt(function(t){return!!t}),Tt(function(t,n){if(t instanceof W||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,o))return U(new Fn([],{}));throw new Rr(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,a){return zr(r)!==i?jr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):jr(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Vr(i):this.lineralizeSegments(n,i).pipe(Object(kt.a)(function(n){var i=new Fn(n,{});return o.expandSegment(t,i,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var a=this,s=Ur(e,r,o),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return jr(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Vr(h):this.lineralizeSegments(r,h).pipe(Object(kt.a)(function(r){return a.expandSegment(t,e,n,r.concat(o.slice(c)),i,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(tt.a)(function(t){return n._loadedConfig=t,new Fn(r,{})})):U(new Fn(r,{}));var i=Ur(e,n,r),s=i.consumedSegments,u=i.lastChild;if(!i.matched)return jr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(kt.a)(function(t){var n=t.module,r=t.routes,i=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return qr(t,e,n)&&zr(n)!==wn})}(t,n)?{segmentGroup:Br(new Fn(e,function(t,e){var n,r,o={};o[wn]=e;try{for(var i=Object(a.__values)(t),s=i.next();!s.done;s=i.next()){var u=s.value;""===u.path&&zr(u)!==wn&&(o[zr(u)]=new Fn([],{}))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}(r,new Fn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return qr(t,e,n)})}(t,n)?{segmentGroup:Br(new Fn(t.segments,function(t,e,n,r){var o,i,s={};try{for(var u=Object(a.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;qr(t,e,l)&&!r[zr(l)]&&(s[zr(l)]=new Fn([],{}))}}catch(h){o={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return Object(a.__assign)({},r,s)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),u=i.segmentGroup,l=i.slicedSegments;return 0===l.length&&u.hasChildren()?o.expandChildren(n,r,u).pipe(Object(tt.a)(function(t){return new Fn(s,t)})):0===r.length&&0===l.length?U(new Fn(s,{})):o.expandSegment(n,u,r,l,wn,!0).pipe(Object(tt.a)(function(t){return new Fn(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?U(new On(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?U(e._loadedConfig):function(t,e,n){var r,o=e.canLoad;return o&&0!==o.length?Object(B.a)(o).pipe(Object(tt.a)(function(r){var o,i=t.get(r);if(function(t){return t&&kr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!kr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return jn(o)})).pipe(nt(),(r=function(t){return!0===t},function(t){return t.lift(new Pt(r,void 0,t))})):U(!0)}(t.injector,e,n).pipe(Object(kt.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(tt.a)(function(t){return e._loadedConfig=t,t})):function(t){return new j.a(function(e){return e.error(Tn("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):U(new On([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return U(n);if(r.numberOfChildren>1||!r.children[wn])return Lr(t.redirectTo);r=r.children[wn]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new Ln(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Mn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),a={};return Mn(e.children,function(e,i){a[i]=o.createSegmentGroup(t,e,n,r)}),new Fn(i,a)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,o=0;try{for(var i=Object(a.__values)(e),s=i.next();!s.done;s=i.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},t}();function Ur(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||In)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Br(t){if(1===t.numberOfChildren&&t.children[wn]){var e=t.children[wn];return new Fn(t.segments.concat(e.segments),e.children)}return t}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function zr(t){return t.outlet||wn}var Hr=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Gr=function(){return function(t,e){this.component=t,this.route=e}}();function Wr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qr(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=ur(e);return t.children.forEach(function(t){!function(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bn(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!vr(t,e)}}(a,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Hr(r)):(i.data=a.data,i._resolvedData=a._resolvedData),Qr(t,e,i.component?s?s.children:null:n,r,o),u&&o.canDeactivateChecks.push(new Gr(s&&s.outlet&&s.outlet.component||null,a))}else a&&Kr(e,s,o),o.canActivateChecks.push(new Hr(r)),Qr(t,null,i.component?s?s.children:null:n,r,o)}(t,i[t.value.outlet],n,r.concat([t.value]),o),delete i[t.value.outlet]}),Mn(i,function(t,e){return Kr(t,n.getContext(e),o)}),o}function Kr(t,e,n){var r=ur(t),o=t.value;Mn(r,function(t,r){Kr(t,o.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Gr(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}var Yr=Symbol("INITIAL_VALUE");function Zr(){return Mt(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(R.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(Q.a)(t[0])&&(t=t[0]),Object(M.a)(t,r).lift(new J(n))}).apply(void 0,Object(a.__spread)(t.map(function(t){return t.pipe(At(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(R.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(R.a)(t[1])?Object(B.a)(t[0]):nt()(U.apply(void 0,t))}(1!==r||n?r>0?Object(M.a)(t,n):L(n):F(t[0]),e)}}(Yr))}))).pipe(Lt(function(t,e){var n=!1;return e.reduce(function(t,r,o){if(t!==Yr)return t;if(r===Yr&&(n=!0),!n){if(!1===r)return r;if(o===e.length-1||Pr(r))return r}return t},t)},Yr),ot(function(t){return t!==Yr}),Object(tt.a)(function(t){return Pr(t)?t:!0===t}),At(1))})}function Jr(t,e){return null!==t&&e&&e(new gn(t)),U(!0)}function Xr(t,e){return null!==t&&e&&e(new yn(t)),U(!0)}function $r(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?U(r.map(function(r){return $(function(){var o,i=Wr(r,e,n);if(function(t){return t&&kr(t.canActivate)}(i))o=jn(i.canActivate(e,t));else{if(!kr(i))throw new Error("Invalid CanActivate guard");o=jn(i(e,t))}return o.pipe(Nt())})})).pipe(Zr()):U(!0)}function to(t,e,n){var r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return $(function(){return U(e.guards.map(function(o){var i,a=Wr(o,e.node,n);if(function(t){return t&&kr(t.canActivateChild)}(a))i=jn(a.canActivateChild(r,t));else{if(!kr(a))throw new Error("Invalid CanActivateChild guard");i=jn(a(r,t))}return i.pipe(Nt())})).pipe(Zr())})});return U(o).pipe(Zr())}var eo=function(){return function(){}}(),no=function(){function t(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return t.prototype.recognize=function(){try{var t=io(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,wn),n=new pr([],Object.freeze({}),Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sr(n,e),o=new dr(this.url,r);return this.inheritParamsAndData(o._root),U(o)}catch(i){return new j.a(function(t){return t.error(i)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=fr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,o=qn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===wn?-1:e.value.outlet===wn?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,r){var o,i;try{for(var s=Object(a.__values)(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,r)}catch(l){if(!(l instanceof eo))throw l}}}catch(h){o={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new eo},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new eo;if((t.outlet||wn)!==r)throw new eo;var o,i=[],s=[];if("**"===t.path){var u=n.length>0?Rn(n).parameters:{};o=new pr(n,u,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,uo(t),r,t.component,t,ro(e),oo(e)+n.length,co(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new eo;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||In)(n,t,e);if(!r)throw new eo;var o={};Mn(r.posParams,function(t,e){o[e]=t.path});var i=r.consumed.length>0?Object(a.__assign)({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(e,t,n);i=c.consumedSegments,s=n.slice(c.lastChild),o=new pr(i,c.parameters,Object.freeze(Object(a.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,uo(t),r,t.component,t,ro(e),oo(e)+i.length,co(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=io(e,i,s,l,this.relativeLinkResolution),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(l,f);return[new sr(o,d)]}if(0===l.length&&0===p.length)return[new sr(o,[])];var y=this.processSegment(l,f,p,wn);return[new sr(o,y)]},t}();function ro(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function oo(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function io(t,e,n,r,o){if(n.length>0&&function(t,e,n){return r.some(function(n){return ao(t,e,n)&&so(n)!==wn})}(t,n)){var i=new Fn(e,function(t,e,n,r){var o,i,s={};s[wn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(a.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l.path&&so(l)!==wn){var h=new Fn([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[so(l)]=h}}}catch(f){o={error:f}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return s}(t,e,r,new Fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return ao(t,e,n)})}(t,n)){var s=new Fn(t.segments,function(t,e,n,r,o,i){var s,u,c={};try{for(var l=Object(a.__values)(r),h=l.next();!h.done;h=l.next()){var f=h.value;if(ao(t,n,f)&&!o[so(f)]){var p=new Fn([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===i?t.segments.length:e.length,c[so(f)]=p}}}catch(d){s={error:d}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return Object(a.__assign)({},o,c)}(t,e,n,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Fn(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function ao(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function so(t){return t.outlet||wn}function uo(t){return t.data||{}}function co(t){return t.resolve||{}}function lo(t,e,n,r){var o=Wr(t,e,r);return jn(o.resolve?o.resolve(e,n):o(e,n))}function ho(t){return function(e){return e.pipe(Mt(function(e){var n=t(e);return n?Object(B.a)(n).pipe(Object(tt.a)(function(){return e})):Object(B.a)([e])}))}}var fo=function(){return function(){}}(),po=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),yo=new r.InjectionToken("ROUTES"),mo=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(tt.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new On(Pn(o.injector.get(yo)).map(Nn),o)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(B.a)(this.loader.load(t)):jn(t()).pipe(Object(kt.a)(function(t){return t instanceof r.NgModuleFactory?U(t):Object(B.a)(e.compiler.compileModuleAsync(t))}))},t}(),go=function(){return function(){}}(),vo=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function bo(t){throw t}function _o(t,e,n){return e.parse("/")}function wo(t,e){return U(null)}var Co=function(){function t(t,e,n,o,i,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new q.a,this.errorHandler=bo,this.malformedUriErrorHandler=_o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wo,afterPreactivation:wo},this.urlHandlingStrategy=new vo,this.routeReuseStrategy=new po,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(r.NgModuleRef),this.console=i.get(r["\u0275Console"]);var l=i.get(r.NgZone);this.isNgZoneEnabled=l instanceof r.NgZone,this.resetConfig(u),this.currentUrlTree=new Ln(new Fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mo(a,s,function(t){return c.triggerEvent(new pn(t))},function(t){return c.triggerEvent(new dn(t))}),this.routerState=lr(this.currentUrlTree,this.rootComponentType),this.transitions=new H({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(ot(function(t){return 0!==t.id}),Object(tt.a)(function(t){return Object(a.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Mt(function(t){var r,o,i,s,u=!1,c=!1;return U(t).pipe(dt(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(a.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Mt(function(t){var r,o,i,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return U(t).pipe(Mt(function(t){var r=e.transitions.getValue();return n.next(new rn(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?V:[t]}),Mt(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,o=e.configLoader,i=e.urlSerializer,s=e.config,function(t){return t.pipe(Mt(function(t){return function(e,n,r,o,i){return new Fr(e,n,r,t.extractedUrl,i).apply()}(r,o,i,0,s).pipe(Object(tt.a)(function(e){return Object(a.__assign)({},t,{urlAfterRedirects:e})}))}))}),dt(function(t){e.currentNavigation=Object(a.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,o,i){return function(r){return r.pipe(Object(kt.a)(function(r){return function(t,e,n,r,o,i){return void 0===o&&(o="emptyOnly"),void 0===i&&(i="legacy"),new no(t,e,n,r,o,i).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),o,i).pipe(Object(tt.a)(function(t){return Object(a.__assign)({},r,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),dt(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),dt(function(t){var r=new un(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,p=new rn(t.id,e.serializeUrl(c),l,h);n.next(p);var d=lr(c,e.rootComponentType).snapshot;return U(Object(a.__assign)({},t,{targetSnapshot:d,urlAfterRedirects:c,extras:Object(a.__assign)({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),V}),ho(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),dt(function(t){var n=new cn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(tt.a)(function(t){return Object(a.__assign)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,o=e.rootContexts,i=n._root,Qr(i,r?r._root:null,o,[i.value]))});var n,r,o,i}),function(t,e){return function(n){return n.pipe(Object(kt.a)(function(n){var r=n.targetSnapshot,o=n.currentSnapshot,i=n.guards,s=i.canActivateChecks,u=i.canDeactivateChecks;return 0===u.length&&0===s.length?U(Object(a.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(B.a)(t).pipe(Object(kt.a)(function(t){return function(t,e,n,r,o){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?U(i.map(function(i){var a,s=Wr(i,e,o);if(function(t){return t&&kr(t.canDeactivate)}(s))a=jn(s.canDeactivate(t,e,n,r));else{if(!kr(s))throw new Error("Invalid CanDeactivate guard");a=jn(s(t,e,n,r))}return a.pipe(Nt())})).pipe(Zr()):U(!0)}(t.component,t.route,n,e,r)}),Nt(function(t){return!0!==t},!0))}(u,r,o,t).pipe(Object(kt.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(B.a)(e).pipe(Bt(function(e){return Object(B.a)([Xr(e.route.parent,r),Jr(e.route,r),to(t,e.path,n),$r(t,e.route,n)]).pipe(nt(),Nt(function(t){return!0!==t},!0))}),Nt(function(t){return!0!==t},!0))}(r,s,t,e):U(n)}),Object(tt.a)(function(t){return Object(a.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),dt(function(t){if(Pr(t.guardsResult)){var n=Tn('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),dt(function(t){var n=new ln(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),ot(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new an(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),ho(function(t){if(t.guards.canActivateChecks.length)return U(t).pipe(dt(function(t){var n=new hn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(kt.a)(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?Object(B.a)(o).pipe(Bt(function(t){return function(t,n,r,o){return function(t,e,n,r){var o=Object.keys(t);if(0===o.length)return U({});if(1===o.length){var i=o[0];return lo(t[i],e,n,r).pipe(Object(tt.a)(function(t){var e;return(e={})[i]=t,e}))}var a={};return Object(B.a)(o).pipe(Object(kt.a)(function(o){return lo(t[o],e,n,r).pipe(Object(tt.a)(function(t){return a[o]=t,t}))})).pipe(Et(),Object(tt.a)(function(){return a}))}(t._resolve,t,e,o).pipe(Object(tt.a)(function(e){return t._resolvedData=e,t.data=Object(a.__assign)({},t.data,fr(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(qt.a)(Lt(t,void 0),ct(1),bt(void 0))(e)}:function(e){return Object(qt.a)(Lt(function(e,n,r){return t(e)}),ct(1))(e)}}(function(t,e){return t}),Object(tt.a)(function(e){return t})):U(t)}))}),dt(function(t){var n=new fn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),ho(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(tt.a)(function(t){var n,r,o,i=(o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(c=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){var o,i;try{for(var s=Object(a.__values)(r.children),u=s.next();!u.done;u=s.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(l){o={error:l}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,r);return new sr(c,o)}var i=e.retrieve(n.value);if(i){var s=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new hr(new H((u=n.value).url),new H(u.params),new H(u.queryParams),new H(u.fragment),new H(u.data),u.outlet,u.component,u);return o=n.children.map(function(n){return t(e,n)}),new sr(c,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new cr(o,n));return Object(a.__assign)({},t,{targetRouterState:i})}),dt(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,i=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},Object(tt.a)(function(t){return new Dr(i,t.targetRouterState,t.currentRouterState,s).activate(o),t})),dt({next:function(){u=!0},complete:function(){u=!0}}),(r=function(){if(!u&&!c){e.resetUrlToCurrentUrlTree();var r=new an(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Ht(r))}),Tt(function(r){if(c=!0,(s=r)&&s[Sn]){var o=Pr(r.url);o||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var i=new an(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(i),t.resolve(!1),o&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new sn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return V}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(a.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){An(t),this.config=t.map(Nn),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,i=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,h=c?this.currentUrlTree.fragment:i,f=null;if(u)switch(u){case"merge":f=Object(a.__assign)({},this.currentUrlTree.queryParams,o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}else f=s?this.currentUrlTree.queryParams:o||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,o){if(0===n.length)return _r(e.root,e.root,e,r,o);var i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new wr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return Mn(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),Object(a.__spread)(t,[{outlets:i}])}if(r.segmentPath)return Object(a.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(a.__spread)(t,[r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(a.__spread)(t,[r])},[]);return new wr(n,e,r)}(n);if(i.toRoot())return _r(e.root,new Fn([],{}),e,r,o);var s=function(t,n,r){if(t.isAbsolute)return new Cr(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Cr(r.snapshot._urlSegment,!0,0);var o=br(t.commands[0])?0:1;return function(e,n,i){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+o,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Cr(a,!1,s-u)}()}(i,0,t),u=s.processChildren?Tr(s.segmentGroup,s.index,i.commands):Sr(s.segmentGroup,s.index,i.commands);return _r(s.segmentGroup,u,e,r,o)}(l,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Pr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Pr(t))return Vn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Vn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new on(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,a=null,s=new Promise(function(t,e){i=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:i,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var o=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object(a.__assign)({},r,{navigationId:n})):this.location.go(o,"",Object(a.__assign)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Eo=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new So,this.attachRef=null}}(),So=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Eo,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),To=function(){function t(t,e,n,o,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=o||wn,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Io(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Io=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===hr?this.route:t===So?this.childContexts:this.parent.get(t,e)},t}(),Oo=function(){return function(){}}(),Ao=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Tt(function(){return U(null)}))},t}(),xo=function(){function t(){}return t.prototype.preload=function(t,e){return U(null)},t}(),Do=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new mo(e,n,function(e){return t.triggerEvent(new pn(e))},function(e){return t.triggerEvent(new dn(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(ot(function(t){return t instanceof on}),Bt(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,o=[];try{for(var i=Object(a.__values)(e),s=i.next();!s.done;s=i.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return Object(B.a)(o).pipe(Object(et.a)(),Object(tt.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(kt.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),No=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof rn?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof on&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof bn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new bn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),ko=new r.InjectionToken("ROUTER_CONFIGURATION"),Po=new r.InjectionToken("ROUTER_FORROOT_GUARD"),Ro=[h,{provide:zn,useClass:Hn},{provide:Co,useFactory:Bo,deps:[r.ApplicationRef,zn,So,h,r.Injector,r.NgModuleFactoryLoader,r.Compiler,yo,ko,[go,new r.Optional],[fo,new r.Optional]]},So,{provide:hr,useFactory:qo,deps:[Co]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},Do,xo,Ao,{provide:ko,useValue:{enableTracing:!1}}];function Mo(){return new r.NgProbeToken("Router",Co)}var jo=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[Ro,Uo(t),{provide:Po,useFactory:Fo,deps:[[Co,new r.Optional,new r.SkipSelf]]},{provide:ko,useValue:n||{}},{provide:c,useFactory:Lo,deps:[s,[new r.Inject(l),new r.Optional],ko]},{provide:No,useFactory:Vo,deps:[Co,k,ko]},{provide:Oo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xo},{provide:r.NgProbeToken,multi:!0,useFactory:Mo},[zo,{provide:r.APP_INITIALIZER,multi:!0,useFactory:Ho,deps:[zo]},{provide:Wo,useFactory:Go,deps:[zo]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Wo}]]}},t.forChild=function(t){return{ngModule:e,providers:[Uo(t)]}},t}();function Vo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new No(t,e,n)}function Lo(t,e,n){return void 0===n&&(n={}),n.useHash?new p(t,e):new d(t,e)}function Fo(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Uo(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:yo,multi:!0,useValue:t}]}function Bo(t,e,n,r,o,i,a,s,u,c,l){void 0===u&&(u={});var h=new Co(null,e,n,r,o,i,a,Pn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Qt();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function qo(t){return t.routerState.root}var zo=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new q.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(u,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Co),o=t.injector.get(ko);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?U(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(ko),n=this.injector.get(Do),o=this.injector.get(No),i=this.injector.get(Co),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),o.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Ho(t){return t.appInitializer.bind(t)}function Go(t){return t.bootstrapListener.bind(t)}var Wo=new r.InjectionToken("Router Initializer"),Qo=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ko(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,To,[So,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Yo(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ko,Qo)),r["\u0275did"](1,49152,null,0,_n,[],null,null)],null,null)}var Zo=r["\u0275ccf"]("ng-component",_n,Yo,{},{},[]),Jo=n("lBHd"),Xo=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function $o(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Loading..."]))],null,null)}var ti=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var a=n[i],s=Object(Y.a)(r,a,null,i);s&&r.add(s)}return r}return a.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e,o._hasValue||(o._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,o=r.length;t._hasValue?(this.completed++,this.completed===o&&(n===o&&e.next(r),e.complete())):e.complete()},e}(K.a),ei=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ei);function ri(t){return null==t||0===t.length}var oi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ii=function(){function t(){}return t.min=function(t){return function(e){if(ri(e.value)||ri(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(ri(e.value)||ri(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return ri(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return ri(t.value)?null:oi.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(ri(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(ri(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(ai);return 0==e.length?null:function(t){return ui(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(ai);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(Q.a)(n[0])&&(n=n[0]),0===n.length?V:e?t(n).pipe(Object(tt.a)(function(t){return e.apply(void 0,t)})):new j.a(function(t){return new ti(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(si)).pipe(Object(tt.a)(ui))}},t}();function ai(t){return null!=t}function si(t){var e=Object(r["\u0275isPromise"])(t)?Object(B.a)(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ui(t){var e=t.reduce(function(t,e){return null!=e?Object(a.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var ci=new r.InjectionToken("NgValueAccessor"),li=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),hi=new r.InjectionToken("CompositionEventMode"),fi=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Qt()?Qt().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function pi(t){return t.validate?function(e){return t.validate(e)}:t}function di(t){return t.validate?function(e){return t.validate(e)}:t}var yi=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function mi(){throw new Error("unimplemented")}var gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return mi()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return mi()},enumerable:!0,configurable:!0}),e}(ei),vi=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),bi=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(gi),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),_i=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),wi='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Ci='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ei=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+wi)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Ci+'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>')},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+wi)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ci)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}();function Si(t,e){return Object(a.__spread)(e.path,[t])}function Ti(t,e){t||xi(e,"Cannot find control with"),e.valueAccessor||xi(e,"No value accessor for form control with"),t.validator=ii.compose([t.validator,e.validator]),t.asyncValidator=ii.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ii(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ii(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Ii(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oi(t,e){null==t&&xi(e,"Cannot find control with"),t.validator=ii.compose([t.validator,e.validator]),t.asyncValidator=ii.composeAsync([t.asyncValidator,e.asyncValidator])}function Ai(t){return xi(t,"There is no FormControl instance attached to form control element with")}function xi(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Di(t){return null!=t?ii.compose(t.map(pi)):null}function Ni(t){return null!=t?ii.composeAsync(t.map(di)):null}var ki=[li,_i,yi,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(a.__values)(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var i=o.value;if(this._compareWith(this._optionMap.get(i),t))return i}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=e._getOptionValue(a.value);r.push(s)}else for(o=n.options,i=0;i<o.length;i++)(a=o.item(i)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(a.__values)(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var i=o.value;if(this._compareWith(this._optionMap.get(i)._value,t))return i}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),bi],Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Si(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Di(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ni(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(ni),Ri=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Mi=function(t){function e(e){return t.call(this,e)||this}return Object(a.__extends)(e,t),e}(Ri),ji=function(t){function e(e){return t.call(this,e)||this}return Object(a.__extends)(e,t),e}(Ri);function Vi(t){var e=Fi(t)?t.validators:t;return Array.isArray(e)?Di(e):e||null}function Li(t,e){var n=Fi(e)?e.asyncValidators:t;return Array.isArray(n)?Ni(n):n||null}function Fi(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Ui=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Vi(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Li(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(a.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(a.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=si(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof qi?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof zi&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Fi(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),Bi=function(t){function e(e,n,r){void 0===e&&(e=null);var o=t.call(this,Vi(n),Li(r,n))||this;return o._onChange=[],o._applyFormState(e),o._setUpdateStrategy(n),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return Object(a.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Ui),qi=function(t){function e(e,n,r){var o=t.call(this,Vi(n),Li(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(a.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Bi?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,o){n=n||e.contains(o)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(a.__values)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Ui),zi=function(t){function e(e,n,r){var o=t.call(this,Vi(n),Li(r,n))||this;return o.controls=e,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(a.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof Bi?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(a.__values)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Ui),Hi=new r.InjectionToken("NgModelWithFormControlWarning"),Gi=function(t){function e(e,n){var o=t.call(this)||this;return o._validators=e,o._asyncValidators=n,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.EventEmitter,o}return Object(a.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return Ti(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e,n;(n=(e=this.directives).indexOf(t))>-1&&e.splice(n,1)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);Oi(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);Oi(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Ai(e)}),e.valueAccessor.registerOnTouched(function(){return Ai(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&Ti(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=Di(this._validators);this.form.validator=ii.compose([this.form.validator,t]);var e=Ni(this._asyncValidators);this.form.asyncValidator=ii.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Ei.missingFormException()},e}(ni),Wi=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(a.__extends)(e,t),e.prototype._checkParentType=function(){Ki(this._parent)&&Ei.groupParentException()},e}(Pi),Qi=function(t){function e(e,n,r){var o=t.call(this)||this;return o._parent=e,o._validators=n,o._asyncValidators=r,o}return Object(a.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Si(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Di(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ni(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){Ki(this._parent)&&Ei.arrayParentException()},e}(ni);function Ki(t){return!(t instanceof Wi||t instanceof Gi||t instanceof Qi)}var Yi=function(t){function e(e,n,o,i,a){var s=t.call(this)||this;return s._ngModelWarningConfig=a,s._added=!1,s.update=new r.EventEmitter,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=o||[],s.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||xi(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,o=void 0;return e.forEach(function(e){var i;e.constructor===fi?n=e:(i=e,ki.some(function(t){return i.constructor===t})?(r&&xi(t,"More than one built-in value accessor matches form control with"),r=e):(o&&xi(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(xi(t,"No valid value accessor for form control with"),null)}(s,i),s}var n;return Object(a.__extends)(e,t),n=e,Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Ei.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){var e,o;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(e,n.currentValue)}(t,this.viewModel)&&("formControlName",e=n,this,o=this._ngModelWarningConfig,Object(r.isDevMode)()&&"never"!==o&&((null!==o&&"once"!==o||e._ngModelWarningSentOnce)&&("always"!==o||this._ngModelWarningSent)||(Ei.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return Si(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Di(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ni(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Wi)&&this._parent instanceof Pi?Ei.ngModelGroupException():this._parent instanceof Wi||this._parent instanceof Gi||this._parent instanceof Qi||Ei.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,e}(gi),Zi=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null,o=null,i=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new qi(n,{asyncValidators:o,updateOn:i,validators:r})},t.prototype.control=function(t,e,n){return new Bi(t,e,n)},t.prototype.array=function(t,e,n){var r=this,o=t.map(function(t){return r._createControl(t)});return new zi(o,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof Bi||t instanceof qi||t instanceof zi?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Ji=function(){return function(){}}(),Xi=function(){return function(){}}(),$i=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:Hi,useValue:t.warnOnNgModelWithFormControl}]}},t}(),ta=function(){function t(t,e){this.fb=t,this.db=e,this.menuItems=["Home","About","Portfolio","Skills","Personal works","Contact"],this.workPlaces=[{organizationName:"Bajra Technologies Pvt. Ltd.",designation:"Software Engineer",imageName:"bajra_logo"},{organizationName:"United Nations",designation:"Mobile Application Developer",imageName:"un_logo"},{organizationName:"K.K. Engineering & Constructions Pvt. Ltd.",designation:"Associated Web & Software Developer",imageName:"kkec_logo"}],this.skills=[{name:"Java",percent:90},{name:"Python",percent:80},{name:"JavaScript",percent:75},{name:"Swift",percent:68},{name:"Database",percent:80},{name:"HTML",percent:90},{name:"CSS",percent:75}],this.personalWorks=[{title:"Service Prov",type:"Android Application",description:"Service Prov is the application where the users can search and book local service providing professionals. This application is created for Android using Java and the backend is created in Python Django Framework with MySQL database.",logoName:"service_prov_logo.png",imageName:"service_prov_app.png"},{title:"Air Pay",type:"Android Application",description:"Air Pay is the financial application in which the users can pay digitally using the Android device created in Java where as the backend implementation uses the Java Spring Framework with MySQL database.",logoName:"airpay_logo.png",imageName:"airpay_app.png"}],this.messageFormGroup=t.group({firstName:[null,[ii.required]],lastName:[null,[ii.required]],email:[null,[ii.required,ii.email]],message:[null,[ii.required]]})}return t.prototype.ngOnInit=function(){this.setMenu(this.menuItems[0])},t.prototype.setMenu=function(t){var e;switch(this.currentMenu=t,t){case"About":e=this.about;break;case"Portfolio":e=this.portfolio;break;case"Skills":e=this.mySkills;break;case"Personal works":e=this.personalWork;break;case"Contact":e=this.contact;break;default:e=this.home}this.scrollToMenu(e)},t.prototype.scrollToMenu=function(t){t.nativeElement.scrollIntoView({behavior:"smooth"}),this.currentMenu=this.menuItems[0]},t.prototype.onSubmit=function(){var t=this;this.sendClick||(this.sendClick=!0,this.messageFormGroup.valid?(this.db.collection("messages").add({firstName:this.messageFormGroup.get("firstName").value,lastName:this.messageFormGroup.get("lastName").value,email:this.messageFormGroup.get("email").value,message:this.messageFormGroup.get("message").value,submittedDate:new Date}),this.messageSent=!0,this.messageFormGroup.reset(),setTimeout(function(){t.messageSent=!1},5e3),this.sendClick=!1):(this.messageFormGroup.get("firstName").markAsTouched(),this.messageFormGroup.get("lastName").markAsTouched(),this.messageFormGroup.get("email").markAsTouched(),this.messageFormGroup.get("message").markAsTouched()))},t}(),ea=n("S1nX");function na(t){return function(t){return new j.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(ea.a)())}function ra(t){return na(t).pipe(Object(tt.a)(function(t){return{payload:t,type:"query"}}))}function oa(t){return ra(t).pipe(Object(tt.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}function ia(t,e){return ra(t).pipe(Object(tt.a)(function(t){return t.payload.docChanges()}),Lt(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(tt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}var aa=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return a.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return a.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return a.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(zt.a))),sa=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),ua=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e}(function(t){function e(n,r){void 0===r&&(r=sa.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return a.__extends(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(sa)))(aa),ca=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return ua.schedule.apply(ua,t)})},t.prototype.keepUnstableUntilFirst=function(t){return N(this.platformId)?new j.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new j.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),la=function(t){return function(e){return new j.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},ha=function(){return(ha=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function fa(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var pa=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(oa(this.query))).pipe(Object(tt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),ot(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(oa(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Lt(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=fa(t),n=ia(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(t){void 0===t&&(t={});var e=ra(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(tt.a)(function(e){return e.payload.docs.map(function(e){var n;return t.idField?ha({},e.data(),((n={})[t.idField]=e.id,n)):e.data()})}))},t.prototype.get=function(t){return Object(B.a)(this.query.get(t)).pipe(la(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new da(this.ref.doc(t),this.afs)},t}(),da=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=Aa(this.ref.collection(t),e);return new pa(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=na(this.ref).pipe(Object(tt.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(tt.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(B.a)(this.ref.get(t)).pipe(la(this.afs.scheduler.zone))},t}(),ya=function(){function t(t,e){this.query=t,this.afs=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(oa(this.query))).pipe(Object(tt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),ot(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(oa(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Lt(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=fa(t),n=ia(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=ra(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(tt.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(B.a)(this.query.get(t)).pipe(la(this.afs.scheduler.zone))},t}(),ma=n("Wcq6"),ga=n.n(ma),va=new r.InjectionToken("angularfire2.app.options"),ba=new r.InjectionToken("angularfire2.app.nameOrConfig"),_a=function(){return function(){}}();function wa(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",ga.a.apps.filter(function(t){return t&&t.name===r.name})[0]||e.runOutsideAngular(function(){return ga.a.initializeApp(t,r)})}var Ca=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:va,useValue:t},{provide:ba,useValue:n}]}},t}(),Ea=new r.InjectionToken("angularfire2.enableFirestorePersistence"),Sa=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),Ta=new r.InjectionToken("angularfire2.firestore.settings"),Ia=parseInt(ga.a.SDK_VERSION.split(".")[0]),Oa=Ia<5||5==Ia&&parseInt(ga.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Aa(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var xa=function(){function t(t,e,n,r,o,i,a){var s=this;this.scheduler=new ca(i,o),this.firestore=i.runOutsideAngular(function(){var n=wa(t,i,e).firestore();return n.settings(r||Oa),n}),this.persistenceEnabled$=n&&!N(o)?i.runOutsideAngular(function(){try{return Object(B.a)(s.firestore.enablePersistence(a||void 0).then(function(){return!0},function(){return!1}))}catch(t){return U(!1)}}):U(!1)}return t.prototype.collection=function(t,e){var n=Aa("string"==typeof t?this.firestore.collection(t):t,e);return new pa(n.ref,n.query,this)},t.prototype.collectionGroup=function(t,e){if(Ia<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new ya(n(r),this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new da(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),Da=r["\u0275crt"]({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:48px;font-weight:490}header[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 70%,0 0,100% 0,100% 100%);clip-path:polygon(0 70%,0 0,100% 0,100% 100%);width:100%;background-color:#1a1a1a}header[_ngcontent-%COMP%]   nav.bg-dark[_ngcontent-%COMP%]{background-color:#1a1a1a!important}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;height:100%}header[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;color:#fff}header[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]   p.greed[_ngcontent-%COMP%]{font-size:24px}header[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]   p.intro-name[_ngcontent-%COMP%]{font-size:48px}header[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]   p.designation[_ngcontent-%COMP%]{font-size:30px}header[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin:10px 0}#about[_ngcontent-%COMP%]{margin-top:-70px}#about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:35px 0}#portfolio[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:140px}#portfolio[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}#my-skills[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]{text-align:center}#my-skills[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}#my-skills[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}#my-skills[_ngcontent-%COMP%]   .skills-container[_ngcontent-%COMP%]   .skill-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;font-size:28px}#personal-works[_ngcontent-%COMP%]   .per-work-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex}#personal-works[_ngcontent-%COMP%]   .per-work-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:28px}footer[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#fff}@media only screen and (min-width:1200px){header[_ngcontent-%COMP%]{height:605px}}@media only screen and (max-width:1200px){header[_ngcontent-%COMP%]{height:505px}}@media only screen and (max-width:768px){h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}header[_ngcontent-%COMP%]{-webkit-clip-path:none;clip-path:none;height:inherit;padding-bottom:20px}#about[_ngcontent-%COMP%]{margin-top:20px}#portfolio[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:block;margin:50px 0}}"]],data:{}});function Na(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"li",[["class","nav-item"]],[[8,"className",0]],null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"a",[["class","nav-link text-uppercase"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setMenu(t.context.$implicit)&&r),r},null,null)),(t()(),r["\u0275ted"](2,null,["",""]))],null,function(t,e){t(e,0,0,e.component.currentMenu===e.context.$implicit?"active":""),t(e,2,0,e.context.$implicit)})}function ka(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function Pa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,9,"div",[["class","col-sm-12 col-md-6 col-lg-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","image-container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,2,"p",[["class","pt-3 text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](5,null,["",""])),(t()(),r["\u0275eld"](6,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r["\u0275ted"](7,null,["",""])),(t()(),r["\u0275and"](16777216,null,null,1,null,ka)),r["\u0275did"](9,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,9,0,e.context.index!==e.component.workPlaces.length-1)},function(t,e){t(e,2,0,"/assets/"+e.context.$implicit.imageName+".png"),t(e,5,0,e.context.$implicit.organizationName),t(e,7,0,e.context.$implicit.designation)})}function Ra(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"div",[["class","col-4 col-sm-3 col-md-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,5,"div",[["class","skill-item"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](3,null,["","%"])),(t()(),r["\u0275eld"](4,0,null,null,2,"easy-pie-chart",[],null,null,null,$o,Xo)),r["\u0275did"](5,638976,null,0,Jo.EasyPieChartComponent,[r.ElementRef],{percent:[0,"percent"],options:[1,"options"]},null),r["\u0275pod"](6,{barColor:0}),(t()(),r["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](8,null,["",""]))],function(t,e){var n=e.context.$implicit.percent,r=t(e,6,0,"#000");t(e,5,0,n,r)},function(t,e){t(e,3,0,e.context.$implicit.percent),t(e,8,0,e.context.$implicit.name)})}function Ma(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function ja(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,12,"div",[["class","row mt-4 mb-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](2,0,null,null,9,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),r["\u0275eld"](3,0,null,null,6,"div",[["class","per-work-container mt-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](4,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),r["\u0275eld"](5,0,null,null,4,"div",[["class","ml-2"]],null,null,null,null,null)),(t()(),r["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](7,null,["",""])),(t()(),r["\u0275eld"](8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](9,null,["",""])),(t()(),r["\u0275eld"](10,0,null,null,1,"p",[["class","mt-3"]],null,null,null,null,null)),(t()(),r["\u0275ted"](11,null,["",""])),(t()(),r["\u0275eld"](12,0,null,null,1,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](13,0,null,null,0,"img",[["width","100%"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ma)),r["\u0275did"](15,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,15,0,e.context.index!==e.component.personalWorks.length-1)},function(t,e){t(e,4,0,r["\u0275inlineInterpolate"](1,"/assets/",e.context.$implicit.logoName,""),e.context.$implicit.logoName),t(e,7,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.type),t(e,11,0,e.context.$implicit.description),t(e,13,0,r["\u0275inlineInterpolate"](1,"/assets/",e.context.$implicit.imageName,""),e.context.$implicit.imageName)})}function Va(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"div",[["class","alert alert-success"],["role","alert"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Your message has been sent! I will contact you soon. Thank you. "]))],null,null)}function La(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"small",[["class","form-text text-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["This field is required"]))],null,null)}function Fa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"small",[["class","form-text text-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["This field is required"]))],null,null)}function Ua(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"small",[["class","form-text text-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["This field is required"]))],null,null)}function Ba(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"small",[["class","form-text text-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Invalid email format."]))],null,null)}function qa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"small",[["class","form-text text-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["This field is required"]))],null,null)}function za(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{home:0}),r["\u0275qud"](402653184,2,{about:0}),r["\u0275qud"](402653184,3,{portfolio:0}),r["\u0275qud"](402653184,4,{mySkills:0}),r["\u0275qud"](402653184,5,{personalWork:0}),r["\u0275qud"](402653184,6,{contact:0}),(t()(),r["\u0275eld"](6,0,[[1,0],["home",1]],null,28,"header",[],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](8,0,null,null,6,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,1,"button",[["class","navbar-toggler ml-auto"],["data-target","#menuBar"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r["\u0275eld"](11,0,null,null,3,"div",[["class","collapse navbar-collapse"],["id","menuBar"]],null,null,null,null,null)),(t()(),r["\u0275eld"](12,0,null,null,2,"ul",[["class","navbar-nav ml-auto"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Na)),r["\u0275did"](14,278528,null,0,E,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](15,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](16,0,null,null,7,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),r["\u0275eld"](17,0,null,null,6,"div",[["class","introduction"]],null,null,null,null,null)),(t()(),r["\u0275eld"](18,0,null,null,1,"p",[["class","greed"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Hey there !"])),(t()(),r["\u0275eld"](20,0,null,null,1,"p",[["class","intro-name"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["I am Ajit Kumar Baral"])),(t()(),r["\u0275eld"](22,0,null,null,1,"p",[["class","designation"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Software Engineer"])),(t()(),r["\u0275eld"](24,0,null,null,10,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,0,"img",[["alt","ajit-kumar-baral-photo-png"],["src","/assets/photo.png"],["width","100%"]],null,null,null,null,null)),(t()(),r["\u0275eld"](26,0,null,null,8,"div",[["class","media"]],null,null,null,null,null)),(t()(),r["\u0275eld"](27,0,null,null,1,"a",[["href","https://github.com/ajitkbaral"],["target","_blank"]],null,null,null,null,null)),(t()(),r["\u0275eld"](28,0,null,null,0,"img",[["alt","ajit-kumar-baral-github-url"],["src","/assets/github.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](29,0,null,null,1,"a",[["href","https://www.linkedin.com/in/ajitkbaral/"],["target","_blank"]],null,null,null,null,null)),(t()(),r["\u0275eld"](30,0,null,null,0,"img",[["alt","ajit-kumar-baral-linkedin-url"],["src","/assets/linkedin.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](31,0,null,null,1,"a",[["href","https://www.facebook.com/ajitkbaral"],["target","_blank"]],null,null,null,null,null)),(t()(),r["\u0275eld"](32,0,null,null,0,"img",[["alt","ajit-kumar-baral-facebook-url"],["src","/assets/facebook.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](33,0,null,null,1,"a",[["href","https://www.instagram.com/ajitkbaral/"],["target","_blank"]],null,null,null,null,null)),(t()(),r["\u0275eld"](34,0,null,null,0,"img",[["alt","ajit-kumar-baral-instagram-url"],["src","/assets/instagram.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](35,0,[[2,0],["about",1]],null,23,"section",[["id","about"]],null,null,null,null,null)),(t()(),r["\u0275eld"](36,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](37,0,null,null,1,"h2",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["About me"])),(t()(),r["\u0275eld"](39,0,null,null,19,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" I am a "])),(t()(),r["\u0275eld"](41,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["full-stack developer"])),(t()(),r["\u0275ted"](-1,null,[" specialized in "])),(t()(),r["\u0275eld"](44,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["frontend"])),(t()(),r["\u0275ted"](-1,null,[" and "])),(t()(),r["\u0275eld"](47,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["backend"])),(t()(),r["\u0275ted"](-1,null,[" development for complex scalable web application. I also specialized in create "])),(t()(),r["\u0275eld"](50,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["mobile"])),(t()(),r["\u0275ted"](-1,null,[" applications for both "])),(t()(),r["\u0275eld"](53,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Android"])),(t()(),r["\u0275ted"](-1,null,[" and "])),(t()(),r["\u0275eld"](56,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["iOS"])),(t()(),r["\u0275ted"](-1,null,[" devices. "])),(t()(),r["\u0275eld"](59,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](60,0,[[3,0],["portfolio",1]],null,33,"section",[["id","portfolio"]],null,null,null,null,null)),(t()(),r["\u0275eld"](61,0,null,null,32,"div",[["class","container mt-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](62,0,null,null,1,"h2",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Portfolio"])),(t()(),r["\u0275eld"](64,0,null,null,2,"h5",[["class","text-center text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275eld"](65,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Work Place"])),(t()(),r["\u0275eld"](67,0,null,null,3,"div",[["class","text-center p-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](68,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Pa)),r["\u0275did"](70,278528,null,0,E,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](71,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](72,0,null,null,2,"h5",[["class","text-center text-uppercase mt-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](73,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Freelance"])),(t()(),r["\u0275eld"](75,0,null,null,18,"div",[["class","text-center p-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](76,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](77,0,null,null,8,"div",[["class","col-md-4 col-sm-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](78,0,null,null,1,"div",[["class","image-container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](79,0,null,null,0,"img",[["alt","nepal-government-logo"],["src","/assets/nepal_govt_logo.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](80,0,null,null,2,"p",[["class","pt-3 text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](81,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Hamro Geruwa"])),(t()(),r["\u0275eld"](83,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Geruwa Municipality"])),(t()(),r["\u0275eld"](85,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](86,0,null,null,7,"div",[["class","col-md-4 col-sm-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](87,0,null,null,1,"div",[["class","image-container"]],null,null,null,null,null)),(t()(),r["\u0275eld"](88,0,null,null,0,"img",[["alt","kathmandu-valley-development-authority-logo"],["src","/assets/kvda_logo.png"]],null,null,null,null,null)),(t()(),r["\u0275eld"](89,0,null,null,2,"p",[["class","pt-3 text-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](90,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["KVDA"])),(t()(),r["\u0275eld"](92,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Kathmandu Valley Development Authority"])),(t()(),r["\u0275eld"](94,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](95,0,[[4,0],["mySkills",1]],null,7,"section",[["id","my-skills"]],null,null,null,null,null)),(t()(),r["\u0275eld"](96,0,null,null,6,"div",[["class","container mt-5 mb-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](97,0,null,null,1,"h2",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Skills"])),(t()(),r["\u0275eld"](99,0,null,null,3,"div",[["class","skills-container mt-4 mb-4"]],null,null,null,null,null)),(t()(),r["\u0275eld"](100,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,Ra)),r["\u0275did"](102,278528,null,0,E,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](103,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](104,0,[[5,0],["personalWork",1]],null,5,"section",[["id","personal-works"]],null,null,null,null,null)),(t()(),r["\u0275eld"](105,0,null,null,4,"div",[["class","container mt-5 mb-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](106,0,null,null,1,"h2",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Personal Works"])),(t()(),r["\u0275and"](16777216,null,null,1,null,ja)),r["\u0275did"](109,278528,null,0,E,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275eld"](110,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["\u0275eld"](111,0,[[6,0],["contact",1]],null,68,"section",[["id","contact"]],null,null,null,null,null)),(t()(),r["\u0275eld"](112,0,null,null,67,"div",[["class","container mt-5 mb-5"]],null,null,null,null,null)),(t()(),r["\u0275eld"](113,0,null,null,1,"h2",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Contact"])),(t()(),r["\u0275and"](16777216,null,null,1,null,Va)),r["\u0275did"](116,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](117,0,null,null,62,"div",[["class","form-container p-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](118,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["If you want to contact me, send me a message. I will contact you soon."])),(t()(),r["\u0275eld"](120,0,null,null,59,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var o=!0,i=t.component;return"submit"===e&&(o=!1!==r["\u0275nov"](t,122).onSubmit(n)&&o),"reset"===e&&(o=!1!==r["\u0275nov"](t,122).onReset()&&o),"ngSubmit"===e&&(o=!1!==i.onSubmit()&&o),o},null,null)),r["\u0275did"](121,16384,null,0,Ji,[],null,null),r["\u0275did"](122,540672,null,0,Gi,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r["\u0275prd"](2048,null,ni,null,[Gi]),r["\u0275did"](124,16384,null,0,ji,[[4,ni]],null,null),(t()(),r["\u0275eld"](125,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](126,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](127,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](128,0,null,null,5,"input",[["aria-describedby","firstNameHelp"],["class","form-control"],["formControlName","firstName"],["placeholder","First Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0;return"input"===e&&(o=!1!==r["\u0275nov"](t,129)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,129).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,129)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,129)._compositionEnd(n.target.value)&&o),o},null,null)),r["\u0275did"](129,16384,null,0,fi,[r.Renderer2,r.ElementRef,[2,hi]],null,null),r["\u0275prd"](1024,null,ci,function(t){return[t]},[fi]),r["\u0275did"](131,671744,null,0,Yi,[[3,ni],[8,null],[8,null],[6,ci],[2,Hi]],{name:[0,"name"]},null),r["\u0275prd"](2048,null,gi,null,[Yi]),r["\u0275did"](133,16384,null,0,Mi,[[4,gi]],null,null),(t()(),r["\u0275eld"](134,0,null,null,1,"small",[["class","form-text text-muted"],["id","firstNameHelp"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Please enter your first name"])),(t()(),r["\u0275and"](16777216,null,null,1,null,La)),r["\u0275did"](137,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](138,0,null,null,12,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),r["\u0275eld"](139,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](140,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](141,0,null,null,5,"input",[["aria-describedby","lastNameHelp"],["class","form-control"],["formControlName","lastName"],["placeholder","Last Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0;return"input"===e&&(o=!1!==r["\u0275nov"](t,142)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,142).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,142)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,142)._compositionEnd(n.target.value)&&o),o},null,null)),r["\u0275did"](142,16384,null,0,fi,[r.Renderer2,r.ElementRef,[2,hi]],null,null),r["\u0275prd"](1024,null,ci,function(t){return[t]},[fi]),r["\u0275did"](144,671744,null,0,Yi,[[3,ni],[8,null],[8,null],[6,ci],[2,Hi]],{name:[0,"name"]},null),r["\u0275prd"](2048,null,gi,null,[Yi]),r["\u0275did"](146,16384,null,0,Mi,[[4,gi]],null,null),(t()(),r["\u0275eld"](147,0,null,null,1,"small",[["class","form-text text-muted"],["id","lastNameHelp"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Please enter your last name"])),(t()(),r["\u0275and"](16777216,null,null,1,null,Fa)),r["\u0275did"](150,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](151,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](152,0,null,null,13,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](153,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](154,0,null,null,5,"input",[["aria-describedby","emailHelp"],["class","form-control"],["formControlName","email"],["id","exampleInputEmail1"],["placeholder","Enter email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0;return"input"===e&&(o=!1!==r["\u0275nov"](t,155)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,155).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,155)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,155)._compositionEnd(n.target.value)&&o),o},null,null)),r["\u0275did"](155,16384,null,0,fi,[r.Renderer2,r.ElementRef,[2,hi]],null,null),r["\u0275prd"](1024,null,ci,function(t){return[t]},[fi]),r["\u0275did"](157,671744,null,0,Yi,[[3,ni],[8,null],[8,null],[6,ci],[2,Hi]],{name:[0,"name"]},null),r["\u0275prd"](2048,null,gi,null,[Yi]),r["\u0275did"](159,16384,null,0,Mi,[[4,gi]],null,null),(t()(),r["\u0275eld"](160,0,null,null,1,"small",[["class","form-text text-muted"],["id","emailHelp"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Please enter your email address"])),(t()(),r["\u0275and"](16777216,null,null,1,null,Ua)),r["\u0275did"](163,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Ba)),r["\u0275did"](165,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](166,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275eld"](167,0,null,null,9,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),r["\u0275eld"](168,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275eld"](169,0,null,null,5,"textarea",[["class","form-control"],["formControlName","message"],["placeholder","Message"],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var o=!0;return"input"===e&&(o=!1!==r["\u0275nov"](t,170)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r["\u0275nov"](t,170).onTouched()&&o),"compositionstart"===e&&(o=!1!==r["\u0275nov"](t,170)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r["\u0275nov"](t,170)._compositionEnd(n.target.value)&&o),o},null,null)),r["\u0275did"](170,16384,null,0,fi,[r.Renderer2,r.ElementRef,[2,hi]],null,null),r["\u0275prd"](1024,null,ci,function(t){return[t]},[fi]),r["\u0275did"](172,671744,null,0,Yi,[[3,ni],[8,null],[8,null],[6,ci],[2,Hi]],{name:[0,"name"]},null),r["\u0275prd"](2048,null,gi,null,[Yi]),r["\u0275did"](174,16384,null,0,Mi,[[4,gi]],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,qa)),r["\u0275did"](176,16384,null,0,T,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](177,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](178,0,null,null,1,"button",[["class","btn btn-dark pl-5 pr-5 mt-3"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Send"])),(t()(),r["\u0275eld"](180,0,null,null,3,"footer",[["class","p-3"]],null,null,null,null,null)),(t()(),r["\u0275eld"](181,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),r["\u0275eld"](182,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Ajit Kumar Baral \xa9 2019"]))],function(t,e){var n=e.component;t(e,14,0,n.menuItems),t(e,70,0,n.workPlaces),t(e,102,0,n.skills),t(e,109,0,n.personalWorks),t(e,116,0,n.messageSent),t(e,122,0,n.messageFormGroup),t(e,131,0,"firstName"),t(e,137,0,n.messageFormGroup.get("firstName").hasError("required")&&n.messageFormGroup.get("firstName").touched),t(e,144,0,"lastName"),t(e,150,0,n.messageFormGroup.get("lastName").hasError("required")&&n.messageFormGroup.get("lastName").touched),t(e,157,0,"email"),t(e,163,0,n.messageFormGroup.get("email").hasError("required")&&n.messageFormGroup.get("email").touched),t(e,165,0,n.messageFormGroup.get("email").hasError("email")&&n.messageFormGroup.get("email").touched),t(e,172,0,"message"),t(e,176,0,n.messageFormGroup.get("message").hasError("required")&&n.messageFormGroup.get("message").touched)},function(t,e){t(e,120,0,r["\u0275nov"](e,124).ngClassUntouched,r["\u0275nov"](e,124).ngClassTouched,r["\u0275nov"](e,124).ngClassPristine,r["\u0275nov"](e,124).ngClassDirty,r["\u0275nov"](e,124).ngClassValid,r["\u0275nov"](e,124).ngClassInvalid,r["\u0275nov"](e,124).ngClassPending),t(e,128,0,r["\u0275nov"](e,133).ngClassUntouched,r["\u0275nov"](e,133).ngClassTouched,r["\u0275nov"](e,133).ngClassPristine,r["\u0275nov"](e,133).ngClassDirty,r["\u0275nov"](e,133).ngClassValid,r["\u0275nov"](e,133).ngClassInvalid,r["\u0275nov"](e,133).ngClassPending),t(e,141,0,r["\u0275nov"](e,146).ngClassUntouched,r["\u0275nov"](e,146).ngClassTouched,r["\u0275nov"](e,146).ngClassPristine,r["\u0275nov"](e,146).ngClassDirty,r["\u0275nov"](e,146).ngClassValid,r["\u0275nov"](e,146).ngClassInvalid,r["\u0275nov"](e,146).ngClassPending),t(e,154,0,r["\u0275nov"](e,159).ngClassUntouched,r["\u0275nov"](e,159).ngClassTouched,r["\u0275nov"](e,159).ngClassPristine,r["\u0275nov"](e,159).ngClassDirty,r["\u0275nov"](e,159).ngClassValid,r["\u0275nov"](e,159).ngClassInvalid,r["\u0275nov"](e,159).ngClassPending),t(e,169,0,r["\u0275nov"](e,174).ngClassUntouched,r["\u0275nov"](e,174).ngClassTouched,r["\u0275nov"](e,174).ngClassPristine,r["\u0275nov"](e,174).ngClassDirty,r["\u0275nov"](e,174).ngClassValid,r["\u0275nov"](e,174).ngClassInvalid,r["\u0275nov"](e,174).ngClassPending)})}function Ha(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,za,Da)),r["\u0275did"](1,114688,null,0,ta,[Zi,xa],null,null)],function(t,e){t(e,1,0)},null)}var Ga=r["\u0275ccf"]("app-home",ta,Ha,{},{},[]),Wa=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Qa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,To,[So,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Ka(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,Qa,Wa)),r["\u0275did"](1,49152,null,0,i,[],null,null)],null,null)}var Ya=r["\u0275ccf"]("app-root",i,Ka,{},{},[]),Za=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:Ea,useValue:!0},{provide:Sa,useValue:t}]}},t}()),Ja=function(){return function(){}}(),Xa=n("hmAI"),$a=r["\u0275cmf"](o,[i],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Zo,Ga,Ya]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_s"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,_,w,[r.LOCALE_ID,[2,b]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_h"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_q"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_r"],[]),r["\u0275mpd"](4608,He,Ge,[x]),r["\u0275mpd"](6144,r.Sanitizer,null,[He]),r["\u0275mpd"](4608,Ve,Fe,[]),r["\u0275mpd"](5120,le,function(t,e,n,r,o,i,a,s){return[new Me(t,e,n),new ze(r),new Ue(o,i,a,s)]},[x,r.NgZone,r.PLATFORM_ID,x,x,Ve,r["\u0275Console"],[2,Le]]),r["\u0275mpd"](4608,he,he,[le,r.NgZone]),r["\u0275mpd"](135680,de,de,[x]),r["\u0275mpd"](4608,we,we,[he,de,r.APP_ID]),r["\u0275mpd"](6144,r.RendererFactory2,null,[we]),r["\u0275mpd"](6144,pe,null,[de]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](5120,hr,qo,[Co]),r["\u0275mpd"](4608,xo,xo,[]),r["\u0275mpd"](6144,Oo,null,[xo]),r["\u0275mpd"](135680,Do,Do,[Co,r.NgModuleFactoryLoader,r.Compiler,r.Injector,Oo]),r["\u0275mpd"](4608,Ao,Ao,[]),r["\u0275mpd"](5120,No,Vo,[Co,k,ko]),r["\u0275mpd"](5120,Wo,Go,[zo]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Wo]),r["\u0275mpd"](4608,Zi,Zi,[]),r["\u0275mpd"](4608,vi,vi,[]),r["\u0275mpd"](5120,_a,wa,[va,r.NgZone,[2,ba]]),r["\u0275mpd"](4608,xa,xa,[va,[2,ba],[2,Ea],[2,Ta],r.PLATFORM_ID,r.NgZone,[2,Sa]]),r["\u0275mpd"](1073742336,A,A,[]),r["\u0275mpd"](1024,r.ErrorHandler,tn,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[Mo()]},[]),r["\u0275mpd"](512,zo,zo,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[(n=t,se("probe",ce),se("coreTokens",Object(a.__assign)({},ue,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return ce}),Ho(e)];var n},[[2,r.NgProbeToken],zo]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,en,en,[[3,en]]),r["\u0275mpd"](1024,Po,Fo,[[3,Co]]),r["\u0275mpd"](512,zn,Hn,[]),r["\u0275mpd"](512,So,So,[]),r["\u0275mpd"](256,ko,{},[]),r["\u0275mpd"](1024,c,Lo,[s,[2,l],ko]),r["\u0275mpd"](512,h,h,[c]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,yo,function(){return[[{path:"",component:ta}]]},[]),r["\u0275mpd"](1024,Co,Bo,[r.ApplicationRef,zn,So,h,r.Injector,r.NgModuleFactoryLoader,r.Compiler,yo,ko,[2,go],[2,fo]]),r["\u0275mpd"](1073742336,jo,jo,[[2,Po],[2,Co]]),r["\u0275mpd"](1073742336,Ja,Ja,[]),r["\u0275mpd"](1073742336,Xi,Xi,[]),r["\u0275mpd"](1073742336,$i,$i,[]),r["\u0275mpd"](1073742336,Xa.EasyPieChartModule,Xa.EasyPieChartModule,[]),r["\u0275mpd"](1073742336,Ca,Ca,[]),r["\u0275mpd"](1073742336,Za,Za,[]),r["\u0275mpd"](1073742336,o,o,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,va,{apiKey:"AIzaSyC-ZbAr1uc07zjSt9YJvTBPhK6idCIPJDc",authDomain:"my-website-7008f.firebaseapp.com",databaseURL:"https://my-website-7008f.firebaseio.com",projectId:"my-website-7008f",storageBucket:"my-website-7008f.appspot.com",messagingSenderId:"977853593021",appId:"1:977853593021:web:d93360269b3f8fb43fced4",measurementId:"G-VGW54S0V1W"},[]),r["\u0275mpd"](256,ba,void 0,[])])});Object(r.enableProdMode)(),$e().bootstrapModuleFactory($a).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,c=u?t[o+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[i>>2],n[(3&i)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,u=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();r.push(i<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(t){function e(n,r){var o=t.call(this,r)||this;return o.code=n,o.name=p,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return r.__extends(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},o=this.service+"/"+t,i=this.errors[t],a=i?function(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}(i,r):"Error",s=new d(o,this.serviceName+": "+a+" ("+o+")."),u=0,c=Object.keys(r);u<c.length;u++){var l=c[u];"_"!==l.slice(-1)&&(l in s&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),s[l]=r[l])}return s},t}(),m=/\{\$([^}]+)}/g;function g(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=g(c(i[0])||""),n=g(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:o}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var o,i,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^s&(u^c),i=1518500249):(o=s^u^c,i=1859775393):r<60?(o=s&u|c&(s|u),i=2400959708):(o=s^u^c,i=3395469782);var h=(a<<5|a>>>27)+o+l+i+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0===i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},t}(),_=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function w(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=o,e.Deferred=h,e.ErrorFactory=y,e.FirebaseError=d,e.Sha1=b,e.assert=i,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var i=o[r];n(i[0],i[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("rPjj"),o=n("Fxb1");function i(t,e,n,i,a){if(void 0===a&&(a=new r.a(t,n,i)),!a.closed)return Object(o.a)(e)(a)}}},[[0,0]]]);