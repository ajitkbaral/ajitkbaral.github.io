(self.webpackChunkajitkbaral_portfolio_website=self.webpackChunkajitkbaral_portfolio_website||[]).push([[179],{2011:(ft,Ne,O)=>{"use strict";O.d(Ne,{Dh:()=>pe,GT:()=>ve,cc:()=>Ae,hO:()=>Pe,on:()=>q,pX:()=>ge,xv:()=>ye});var c=O(4650),B=O(127),R=O(880);ft=O.hmd(ft);const ne=["ngOnDestroy"],ge=(ce,st,Ye,Fe={})=>new Proxy(ce,{get:(Oe,De)=>Ye.runOutsideAngular(()=>{var We;if(ce[De])return!(null===(We=Fe?.spy)||void 0===We)&&We.get&&Fe.spy.get(De,ce[De]),ce[De];if(ne.indexOf(De)>-1)return()=>{};const te=st.toPromise().then(ue=>{const we=ue&&ue[De];return"function"==typeof we?we.bind(ue):we&&we.then?we.then(J=>Ye.run(()=>J)):Ye.run(()=>we)});return new Proxy(()=>{},{get:(ue,we)=>te[we],apply:(ue,we,J)=>te.then(X=>{var he;const se=X&&X(...J);return!(null===(he=Fe?.spy)||void 0===he)&&he.apply&&Fe.spy.apply(De,J,se),se})})})}),ve=(ce,st)=>{st.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Fe=>{Object.defineProperty(ce.prototype,Fe,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Fe))})})};class le{constructor(st){return st}}const pe=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function q(ce,st,Ye){const Oe="object"==typeof Ye&&Ye||{};Oe.name=Oe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const We=B.Z.apps.filter(te=>te&&te.name===Oe.name)[0]||st.runOutsideAngular(()=>B.Z.initializeApp(ce,Oe));try{JSON.stringify(ce)!==JSON.stringify(We.options)&&G("error",`${We.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(We)}const G=(ce,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ce](...st)},Q={provide:le,useFactory:q,deps:[pe,c.R0b,[new c.FiY,ye]]};let Pe=(()=>{class ce{constructor(Ye){B.Z.registerVersion("angularfire",R.q4.full,"core"),B.Z.registerVersion("angularfire",R.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Ye.toString())}static initializeApp(Ye,Fe){return{ngModule:ce,providers:[{provide:pe,useValue:Ye},{provide:ye,useValue:Fe}]}}}return ce.\u0275fac=function(Ye){return new(Ye||ce)(c.LFG(c.Lbi))},ce.\u0275mod=c.oAB({type:ce}),ce.\u0275inj=c.cJS({providers:[Q]}),ce})();function Ae(ce,st,Ye,Fe,Oe){const[,De,We]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===ce)||[];if(De)return function Se(ce,st){try{return ce.toString()===st.toString()}catch{return ce===st}}(Oe,We)||(Ee("error",`${st} was already initialized on the ${Ye} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Oe,was:We})),De;{const te=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ce,te,Oe]),te}}const Je=!!ft.hot,Ee=(ce,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ce](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ft,Ne,O)=>{"use strict";O.d(Ne,{q4:()=>zs,iC:()=>gi,HU:()=>Ao,vb:()=>ad,JM:()=>Al,nk:()=>jn,u3:()=>$t});var c=O(4650),B=O(5867),R=O(5861),ne=O(9681),ge=O(2090),ve=O(4859),le=O(1877);O(2833);const ye="@firebase/remote-config",q="0.3.12",Ae=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pt{constructor(k,K,fe,Ue){this.client=k,this.storage=K,this.storageCache=fe,this.logger=Ue}isCachedDataFresh(k,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-K,Ue=fe<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Ue}.`),Ue}fetch(k){var K=this;return(0,R.Z)(function*(){const[fe,Ue]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Ue&&K.isCachedDataFresh(k.cacheMaxAgeMillis,fe))return Ue;k.eTag=Ue&&Ue.eTag;const Qe=yield K.client.fetch(k),Et=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&Et.push(K.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(Et),Qe})()}}function Xt(F=navigator){return F.languages&&F.languages[0]||F.language}class Ot{constructor(k,K,fe,Ue,Qe,Et){this.firebaseInstallations=k,this.sdkVersion=K,this.namespace=fe,this.projectId=Ue,this.apiKey=Qe,this.appId=Et}fetch(k){var K=this;return(0,R.Z)(function*(){var fe,Ue,Qe;const[Et,Qt]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Lt={sdk_version:K.sdkVersion,app_instance_id:Et,app_instance_id_token:Qt,app_id:K.appId,language_code:Xt()},On={method:"POST",headers:$n,body:JSON.stringify(Lt)},Ds=fetch(Pt,On),Ts=new Promise((Zs,mi)=>{k.signal.addEventListener(()=>{const Qn=new Error("The operation was aborted.");Qn.name="AbortError",mi(Qn)})});let Cr;try{yield Promise.race([Ds,Ts]),Cr=yield Ds}catch(Zs){let mi="fetch-client-network";throw"AbortError"===(null===(fe=Zs)||void 0===fe?void 0:fe.name)&&(mi="fetch-timeout"),Ae.create(mi,{originalErrorMessage:null===(Ue=Zs)||void 0===Ue?void 0:Ue.message})}let ss=Cr.status;const pa=Cr.headers.get("ETag")||void 0;let ou,Cs;if(200===Cr.status){let Zs;try{Zs=yield Cr.json()}catch(mi){throw Ae.create("fetch-client-parse",{originalErrorMessage:null===(Qe=mi)||void 0===Qe?void 0:Qe.message})}ou=Zs.entries,Cs=Zs.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?ss=500:"NO_CHANGE"===Cs?ss=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(ou={}),304!==ss&&200!==ss)throw Ae.create("fetch-status",{httpStatus:ss});return{status:ss,eTag:pa,config:ou}})()}}class Bn{constructor(k,K){this.client=k,this.storage=K}fetch(k){var K=this;return(0,R.Z)(function*(){const fe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(k,fe)})()}attemptFetch(k,{throttleEndTimeMillis:K,backoffCount:fe}){var Ue=this;return(0,R.Z)(function*(){yield function Ze(F,k){return new Promise((K,fe)=>{const Ue=Math.max(k-Date.now(),0),Qe=setTimeout(K,Ue);F.addEventListener(()=>{clearTimeout(Qe),fe(Ae.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,K);try{const Qe=yield Ue.client.fetch(k);return yield Ue.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function rn(F){if(!(F instanceof ge.ZR&&F.customData))return!1;const k=Number(F.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Qe))throw Qe;const Et={throttleEndTimeMillis:Date.now()+(0,ge.$s)(fe),backoffCount:fe+1};return yield Ue.storage.setThrottleMetadata(Et),Ue.attemptFetch(k,Et)}})()}}class jt{constructor(k,K,fe,Ue,Qe){this.app=k,this._client=K,this._storageCache=fe,this._storage=Ue,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ct(F,k){var K;const fe=F.target.error||void 0;return Ae.create(k,{originalErrorMessage:fe&&(null===(K=fe)||void 0===K?void 0:K.message)})}const hn="app_namespace_store";class Wn{constructor(k,K,fe,Ue=function Rn(){return new Promise((F,k)=>{var K;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Ue=>{k(Ct(Ue,"storage-open"))},fe.onsuccess=Ue=>{F(Ue.target.result)},fe.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(hn,{keyPath:"compositeKey"})}}catch(fe){k(Ae.create("storage-open",{originalErrorMessage:null===(K=fe)||void 0===K?void 0:K.message}))}})}()){this.appId=k,this.appName=K,this.namespace=fe,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var K=this;return(0,R.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((Ue,Qe)=>{var Et;const Te=fe.transaction([hn],"readonly").objectStore(hn),Pt=K.createCompositeKey(k);try{const $n=Te.get(Pt);$n.onerror=Lt=>{Qe(Ct(Lt,"storage-get"))},$n.onsuccess=Lt=>{const On=Lt.target.result;Ue(On?On.value:void 0)}}catch($n){Qe(Ae.create("storage-get",{originalErrorMessage:null===(Et=$n)||void 0===Et?void 0:Et.message}))}})})()}set(k,K){var fe=this;return(0,R.Z)(function*(){const Ue=yield fe.openDbPromise;return new Promise((Qe,Et)=>{var Qt;const Pt=Ue.transaction([hn],"readwrite").objectStore(hn),$n=fe.createCompositeKey(k);try{const Lt=Pt.put({compositeKey:$n,value:K});Lt.onerror=On=>{Et(Ct(On,"storage-set"))},Lt.onsuccess=()=>{Qe()}}catch(Lt){Et(Ae.create("storage-set",{originalErrorMessage:null===(Qt=Lt)||void 0===Qt?void 0:Qt.message}))}})})()}delete(k){var K=this;return(0,R.Z)(function*(){const fe=yield K.openDbPromise;return new Promise((Ue,Qe)=>{var Et;const Te=fe.transaction([hn],"readwrite").objectStore(hn),Pt=K.createCompositeKey(k);try{const $n=Te.delete(Pt);$n.onerror=Lt=>{Qe(Ct(Lt,"storage-delete"))},$n.onsuccess=()=>{Ue()}}catch($n){Qe(Ae.create("storage-delete",{originalErrorMessage:null===(Et=$n)||void 0===Et?void 0:Et.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class Ir{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,R.Z)(function*(){const K=k.storage.getLastFetchStatus(),fe=k.storage.getLastSuccessfulFetchTimestampMillis(),Ue=k.storage.getActiveConfig(),Qe=yield K;Qe&&(k.lastFetchStatus=Qe);const Et=yield fe;Et&&(k.lastSuccessfulFetchTimestampMillis=Et);const Qt=yield Ue;Qt&&(k.activeConfig=Qt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function br(){return et.apply(this,arguments)}function et(){return(et=(0,R.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Hn(){(0,ne._registerComponent)(new ve.wA("remote-config",function F(k,{instanceIdentifier:K}){const fe=k.getProvider("app").getImmediate(),Ue=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");if(!(0,ge.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:Qe,apiKey:Et,appId:Qt}=fe.options;if(!Qe)throw Ae.create("registration-project-id");if(!Et)throw Ae.create("registration-api-key");if(!Qt)throw Ae.create("registration-app-id");const Te=new Wn(Qt,fe.name,K=K||"firebase"),Pt=new Ir(Te),$n=new le.Yd(ye);$n.logLevel=le.in.ERROR;const Lt=new Ot(Ue,ne.SDK_VERSION,K,Qe,Et,Qt),On=new Bn(Lt,Te),Ds=new pt(On,Te,Pt,$n),Ts=new jt(fe,Ds,Pt,Te,$n);return function We(F){const k=(0,ge.m9)(F);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Ts),Ts},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(ye,q),(0,ne.registerVersion)(ye,q,"esm2017")}();var vn=O(8766);const Pn="/firebase-messaging-sw.js",dn="/firebase-cloud-messaging-push-scope",Kn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pn="google.c.a.c_id",In="google.c.a.c_l",on="google.c.a.ts",ct="google.c.a.e";var mt=(()=>{return(F=mt||(mt={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",mt;var F})();function fn(F){const k=new Uint8Array(F);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fr(F){const K=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(K),Ue=new Uint8Array(fe.length);for(let Qe=0;Qe<fe.length;++Qe)Ue[Qe]=fe.charCodeAt(Qe);return Ue}const Yn="fcm_token_details_db",sr="fcm_token_object_Store";function Rt(F){return or.apply(this,arguments)}function or(){return or=(0,R.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(Yn))return null;let k=null;return(yield(0,vn.X3)(Yn,5,{upgrade:(fe=(0,R.Z)(function*(Ue,Qe,Et,Qt){var Te;if(Qe<2||!Ue.objectStoreNames.contains(sr))return;const Pt=Qt.objectStore(sr),$n=yield Pt.index("fcmSenderId").get(F);if(yield Pt.clear(),$n)if(2===Qe){const Lt=$n;if(!Lt.auth||!Lt.p256dh||!Lt.endpoint)return;k={token:Lt.fcmToken,createTime:null!==(Te=Lt.createTime)&&void 0!==Te?Te:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:fn(Lt.vapidKey)}}}else if(3===Qe){const Lt=$n;k={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:fn(Lt.auth),p256dh:fn(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:fn(Lt.vapidKey)}}}else if(4===Qe){const Lt=$n;k={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:fn(Lt.auth),p256dh:fn(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:fn(Lt.vapidKey)}}}}),function(Qe,Et,Qt,Te){return fe.apply(this,arguments)})})).close(),yield(0,vn.Lj)(Yn),yield(0,vn.Lj)("fcm_vapid_details_db"),yield(0,vn.Lj)("undefined"),Gt(k)?k:null;var fe}),or.apply(this,arguments)}function Gt(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:k}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Xe="firebase-messaging-store";let xe=null;function rt(){return xe||(xe=(0,vn.X3)("firebase-messaging-database",1,{upgrade:(F,k)=>{0===k&&F.createObjectStore(Xe)}})),xe}function gt(F){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(F){const k=S(F),fe=yield(yield rt()).transaction(Xe).objectStore(Xe).get(k);if(fe)return fe;{const Ue=yield Rt(F.appConfig.senderId);if(Ue)return yield $(F,Ue),Ue}})).apply(this,arguments)}function $(F,k){return j.apply(this,arguments)}function j(){return(j=(0,R.Z)(function*(F,k){const K=S(F),Ue=(yield rt()).transaction(Xe,"readwrite");return yield Ue.objectStore(Xe).put(k,K),yield Ue.done,k})).apply(this,arguments)}function Y(F){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*(F){const k=S(F),fe=(yield rt()).transaction(Xe,"readwrite");yield fe.objectStore(Xe).delete(k),yield fe.done})).apply(this,arguments)}function S({appConfig:F}){return F.appId}const N=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function z(F,k){return me.apply(this,arguments)}function me(){return(me=(0,R.Z)(function*(F,k){var K;const fe=yield tn(F),Ue=qt(k),Qe={method:"POST",headers:fe,body:JSON.stringify(Ue)};let Et;try{Et=yield(yield fetch(yt(F.appConfig),Qe)).json()}catch(Qt){throw N.create("token-subscribe-failed",{errorInfo:null===(K=Qt)||void 0===K?void 0:K.toString()})}if(Et.error)throw N.create("token-subscribe-failed",{errorInfo:Et.error.message});if(!Et.token)throw N.create("token-subscribe-no-token");return Et.token})).apply(this,arguments)}function ke(F,k){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(F,k){var K;const fe=yield tn(F),Ue=qt(k.subscriptionOptions),Qe={method:"PATCH",headers:fe,body:JSON.stringify(Ue)};let Et;try{Et=yield(yield fetch(`${yt(F.appConfig)}/${k.token}`,Qe)).json()}catch(Qt){throw N.create("token-update-failed",{errorInfo:null===(K=Qt)||void 0===K?void 0:K.toString()})}if(Et.error)throw N.create("token-update-failed",{errorInfo:Et.error.message});if(!Et.token)throw N.create("token-update-no-token");return Et.token})).apply(this,arguments)}function oe(F,k){return je.apply(this,arguments)}function je(){return(je=(0,R.Z)(function*(F,k){var K;const Ue={method:"DELETE",headers:yield tn(F)};try{const Et=yield(yield fetch(`${yt(F.appConfig)}/${k}`,Ue)).json();if(Et.error)throw N.create("token-unsubscribe-failed",{errorInfo:Et.error.message})}catch(Qe){throw N.create("token-unsubscribe-failed",{errorInfo:null===(K=Qe)||void 0===K?void 0:K.toString()})}})).apply(this,arguments)}function yt({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function tn(F){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,R.Z)(function*({appConfig:F,installations:k}){const K=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function qt({p256dh:F,auth:k,endpoint:K,vapidKey:fe}){const Ue={web:{endpoint:K,auth:k,p256dh:F}};return fe!==Kn&&(Ue.web.applicationPubKey=fe),Ue}const zr=6048e5;function Cn(F){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,R.Z)(function*(F){const k=yield Kt(F.swRegistration,F.vapidKey),K={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:k.endpoint,auth:fn(k.getKey("auth")),p256dh:fn(k.getKey("p256dh"))},fe=yield gt(F.firebaseDependencies);if(fe){if(xn(fe.subscriptionOptions,K))return Date.now()>=fe.createTime+zr?ee(F,{token:fe.token,createTime:Date.now(),subscriptionOptions:K}):fe.token;try{yield oe(F.firebaseDependencies,fe.token)}catch(Ue){console.warn(Ue)}return He(F.firebaseDependencies,K)}return He(F.firebaseDependencies,K)})).apply(this,arguments)}function es(F){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(F){const k=yield gt(F.firebaseDependencies);k&&(yield oe(F.firebaseDependencies,k.token),yield Y(F.firebaseDependencies));const K=yield F.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function ee(F,k){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,R.Z)(function*(F,k){try{const K=yield ke(F.firebaseDependencies,k),fe=Object.assign(Object.assign({},k),{token:K,createTime:Date.now()});return yield $(F.firebaseDependencies,fe),K}catch(K){throw yield es(F),K}})).apply(this,arguments)}function He(F,k){return dt.apply(this,arguments)}function dt(){return(dt=(0,R.Z)(function*(F,k){const fe={token:yield z(F,k),createTime:Date.now(),subscriptionOptions:k};return yield $(F,fe),fe.token})).apply(this,arguments)}function Kt(F,k){return un.apply(this,arguments)}function un(){return(un=(0,R.Z)(function*(F,k){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fr(k)})})).apply(this,arguments)}function xn(F,k){return k.vapidKey===F.vapidKey&&k.endpoint===F.endpoint&&k.auth===F.auth&&k.p256dh===F.p256dh}function An(F){const k={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function Mr(F,k){if(!k.notification)return;F.notification={};const K=k.notification.title;K&&(F.notification.title=K);const fe=k.notification.body;fe&&(F.notification.body=fe);const Ue=k.notification.image;Ue&&(F.notification.image=Ue)}(k,F),function xr(F,k){!k.data||(F.data=k.data)}(k,F),function gn(F,k){var K,fe,Ue,Qe,Et;if(!(k.fcmOptions||null!==(K=k.notification)&&void 0!==K&&K.click_action))return;F.fcmOptions={};const Qt=null!==(Ue=null===(fe=k.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ue?Ue:null===(Qe=k.notification)||void 0===Qe?void 0:Qe.click_action;Qt&&(F.fcmOptions.link=Qt);const Te=null===(Et=k.fcmOptions)||void 0===Et?void 0:Et.analytics_label;Te&&(F.fcmOptions.analyticsLabel=Te)}(k,F),k}function rd(F){return"object"==typeof F&&!!F&&pn in F}function Io(F,k){const K=[];for(let fe=0;fe<F.length;fe++)K.push(F.charAt(fe)),fe<k.length&&K.push(k.charAt(fe));return K.join("")}function _s(F){return N.create("missing-app-config-values",{valueName:F})}Io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ts{constructor(k,K,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function bo(F){if(!F||!F.options)throw _s("App Configuration Object");if(!F.name)throw _s("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:K}=F;for(const fe of k)if(!K[fe])throw _s(fe);return{appName:F.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Ue,installations:K,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function ns(F){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,R.Z)(function*(F){var k;try{F.swRegistration=yield navigator.serviceWorker.register(Pn,{scope:dn}),F.swRegistration.update().catch(()=>{})}catch(K){throw N.create("failed-service-worker-registration",{browserErrorMessage:null===(k=K)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function qn(F,k){return eu.apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(F,k){if(!k&&!F.swRegistration&&(yield ns(F)),k||!F.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw N.create("invalid-sw-registration");F.swRegistration=k}})).apply(this,arguments)}function pr(F,k){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(F,k){k?F.vapidKey=k:F.vapidKey||(F.vapidKey=Kn)})).apply(this,arguments)}function Hs(){return(Hs=(0,R.Z)(function*(F,k){if(!navigator)throw N.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N.create("permission-blocked");return yield pr(F,k?.vapidKey),yield qn(F,k?.serviceWorkerRegistration),Cn(F)})).apply(this,arguments)}function Gs(F,k,K){return ti.apply(this,arguments)}function ti(){return(ti=(0,R.Z)(function*(F,k,K){const fe=ua(k);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:K[pn],message_name:K[In],message_time:K[on],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ua(F){switch(F){case mt.NOTIFICATION_CLICKED:return"notification_open";case mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(){return(Do=(0,R.Z)(function*(F,k){const K=k.data;if(!K.isFirebaseMessaging)return;F.onMessageHandler&&K.messageType===mt.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(An(K)):F.onMessageHandler.next(An(K)));const fe=K.data;rd(fe)&&"1"===fe[ct]&&(yield Gs(F,K.messageType,fe))})).apply(this,arguments)}const qs="@firebase/messaging",ni=F=>{const k=new ts(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Bf(F,k){return Do.apply(this,arguments)}(k,K)),k},jf=F=>{const k=F.getProvider("messaging").getImmediate();return{getToken:fe=>function rs(F,k){return Hs.apply(this,arguments)}(k,fe)}};function id(){return la.apply(this,arguments)}function la(){return(la=(0,R.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pi(){(0,ne._registerComponent)(new ve.wA("messaging",ni,"PUBLIC")),(0,ne._registerComponent)(new ve.wA("messaging-internal",jf,"PRIVATE")),(0,ne.registerVersion)(qs,"0.9.17"),(0,ne.registerVersion)(qs,"0.9.17","esm2017")}();var Tl=O(6148),tu=O(4408),Sm=O(7565);const Tr=new class Cl extends Sm.v{}(class da extends tu.o{constructor(k,K){super(k,K),this.scheduler=k,this.work=K}schedule(k,K=0){return K>0?super.schedule(k,K):(this.delay=K,this.state=k,this.scheduler.flush(this),this)}execute(k,K){return K>0||this.closed?super.execute(k,K):this._execute(k,K)}requestAsyncId(k,K,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(k,K,fe):(k.flush(this),0)}});var vs=O(4986),nu=O(9751),ru=O(8505),ha=O(9468),iu=O(5363);const zs=new c.GfV("7.4.1"),fa="__angularfire_symbol__analyticsIsSupportedValue",Oi="__angularfire_symbol__analyticsIsSupported",su="__angularfire_symbol__remoteConfigIsSupportedValue",Rr="__angularfire_symbol__remoteConfigIsSupported",Es="__angularfire_symbol__messagingIsSupportedValue",Zr="__angularfire_symbol__messagingIsSupported";globalThis[Oi]||(globalThis[Oi]=(0,Tl.Gb)().then(F=>globalThis[fa]=F).catch(()=>globalThis[fa]=!1)),globalThis[Zr]||(globalThis[Zr]=id().then(F=>globalThis[Es]=F).catch(()=>globalThis[Es]=!1)),globalThis[Rr]||(globalThis[Rr]=br().then(F=>globalThis[su]=F).catch(()=>globalThis[su]=!1));const jn={async:()=>globalThis[Oi],sync:()=>{const F=globalThis[fa];if(void 0===F)throw new Error((F=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${F} in the constructor, first ensure that ${F} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${F})\`.`)("Analytics"));return F}};function Al(F,k,K){if(k){if(1===k.length)return k[0];const Qe=k.filter(Et=>Et.app===K);if(1===Qe.length)return Qe[0]}return K.container.getProvider(F).getImmediate({optional:!0})}const ad=(F,k)=>{const K=k?[k]:(0,B.C6)(),fe=[];return K.forEach(Ue=>{Ue.container.getProvider(F).instances.forEach(Et=>{fe.includes(Et)||fe.push(Et)})}),fe};function Di(){}class Pr{constructor(k,K=Tr){this.zone=k,this.delegate=K}now(){return this.delegate.now()}schedule(k,K,fe){const Ue=this.zone;return this.delegate.schedule(function(Et){Ue.runGuarded(()=>{k.apply(this,[Et])})},K,fe)}}class Sl{constructor(k){this.zone=k,this.task=null}call(k,K){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)),K.pipe((0,ru.b)({next:fe,complete:fe,error:fe})).subscribe(k).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class F{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Pr(Zone.current)),this.insideAngular=K.run(()=>new Pr(Zone.current,vs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(K){return new(K||F)(c.LFG(c.R0b))},F.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Br(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function mn(F){return Br().ngZone.runOutsideAngular(()=>F())}function Is(F){return Br().ngZone.run(()=>F())}function gi(F){return Br(),function So(F){return function(K){return(K=K.lift(new Sl(F.ngZone))).pipe((0,ha.R)(F.outsideAngular),(0,iu.Q)(F.insideAngular))}}(Br())(F)}const Mo=(F,k)=>function(){const fe=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),Is(()=>F.apply(void 0,fe))},$t=(F,k)=>function(){let K;const fe=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof fe[Qe]&&(k&&(K||(K=Is(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)))),fe[Qe]=Mo(fe[Qe],K));const Ue=mn(()=>F.apply(this,fe));if(!k){if(Ue instanceof nu.y){const Qe=Br();return Ue.pipe((0,ha.R)(Qe.outsideAngular),(0,iu.Q)(Qe.insideAngular))}return Is(()=>Ue)}return Ue instanceof nu.y?Ue.pipe(gi):Ue instanceof Promise?Is(()=>new Promise((Qe,Et)=>Ue.then(Qt=>Is(()=>Qe(Qt)),Qt=>Is(()=>Et(Qt))))):"function"==typeof Ue&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),Ue.apply(this,arguments)}:Is(()=>Ue)}},1704:(ft,Ne,O)=>{"use strict";O.d(Ne,{$:()=>Qe,A:()=>G,B:()=>Ae,G:()=>Ie,H:()=>xn,J:()=>Pi,L:()=>j,M:()=>Cl,N:()=>nu,P:()=>Vt,Q:()=>ru,R:()=>Wm,T:()=>ha,U:()=>vs,V:()=>Oi,W:()=>su,X:()=>Mm,Y:()=>So,Z:()=>$t,_:()=>k,a:()=>Ks,a0:()=>$n,a1:()=>On,a2:()=>Ts,a3:()=>ss,a4:()=>ou,a5:()=>Zs,a6:()=>Qn,a7:()=>os,a8:()=>uu,a9:()=>Ws,aA:()=>ba,aB:()=>wa,aC:()=>Gl,aD:()=>op,aE:()=>_t,aI:()=>ma,aL:()=>zs,aa:()=>A0,ab:()=>ud,ac:()=>cd,af:()=>Rm,ag:()=>Pm,ah:()=>Wf,ak:()=>Di,al:()=>Vm,an:()=>Um,ao:()=>_d,ap:()=>yt,aq:()=>we,ar:()=>je,as:()=>ke,at:()=>Ye,au:()=>ro,av:()=>to,aw:()=>Fe,ax:()=>te,ay:()=>X,az:()=>Y,b:()=>Ro,c:()=>Ym,d:()=>Jm,e:()=>Qm,f:()=>ap,g:()=>up,h:()=>Du,i:()=>Ul,j:()=>zl,k:()=>Fd,l:()=>Km,m:()=>ls,o:()=>pe,r:()=>xs,s:()=>Wr,u:()=>Vo,v:()=>cu});var c=O(5861),B=O(2090),R=O(9681),ne=O(1877),ge=O(655),ve=O(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new ne.Yd("@firebase/auth");function st(v,...g){ce.logLevel<=ne.in.ERROR&&ce.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function Ye(v,...g){throw We(v,...g)}function Fe(v,...g){return We(v,...g)}function Oe(v,g,m){const I=Object.assign(Object.assign({},Se()),{[g]:m});return new B.LL("auth","Firebase",I).create(g,{appName:v.name})}function De(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ye(v,"argument-error"),Oe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...g){if("string"!=typeof v){const m=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return Je.create(v,...g)}function te(v,g,...m){if(!v)throw We(g,...m)}function ue(v){const g="INTERNAL ASSERTION FAILED: "+v;throw st(g),new Error(g)}function we(v,g){v||ue(g)}const J=new Map;function X(v){we(v instanceof Function,"Expected a class definition");let g=J.get(v);return g?(we(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,J.set(v,g),g)}function $e(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ve(){return"http:"===pt()||"https:"===pt()}function pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ze{constructor(g,m){this.shortDelay=g,this.longDelay=m,we(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(v,g){we(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Bn{static initialize(g,m,I){this.fetchImpl=g,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new Ze(3e4,6e4);function jt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Ct(v,g,m,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(v,g,m,I,A={}){return pi(v,A,(0,c.Z)(function*(){let P={},re={};I&&("GET"===g?re=I:P={body:JSON.stringify(I)});const Re=(0,B.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),ot=yield v._getAdditionalHeaders();return ot["Content-Type"]="application/json",v.languageCode&&(ot["X-Firebase-Locale"]=v.languageCode),Bn.fetch()(Ir(v,v.config.apiHost,m,Re),Object.assign({method:g,headers:ot,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function pi(v,g,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(v,g,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},cn),g);try{const A=new Hn(v),P=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const re=yield P.json();if("needConfirmation"in re)throw Ln(v,"account-exists-with-different-credential",re);if(P.ok&&!("errorMessage"in re))return re;{const Re=P.ok?re.errorMessage:re.error.message,[ot,xt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw Ln(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===ot)throw Ln(v,"email-already-in-use",re);if("USER_DISABLED"===ot)throw Ln(v,"user-disabled",re);const nn=I[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Oe(v,nn,xt);Ye(v,nn)}}catch(A){if(A instanceof B.ZR)throw A;Ye(v,"network-request-failed")}})).apply(this,arguments)}function Rn(v,g,m,I){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(v,g,m,I,A={}){const P=yield Ct(v,g,m,I,A);return"mfaPendingCredential"in P&&Ye(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ir(v,g,m,I){const A=`${g}${m}?${I}`;return v.config.emulator?rn(v.config,A):`${v.config.apiScheme}://${A}`}class Hn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Fe(this.auth,"network-request-failed")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(v,g,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const A=Fe(v,g,I);return A.customData._tokenResponse=m,A}function br(){return(br=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function et(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pn(v,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Kn(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function In(){return(In=(0,c.Z)(function*(v,g=!1){const m=(0,B.m9)(v),I=yield m.getIdToken(g),A=ct(I);te(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,re=P?.sign_in_provider;return{claims:A,token:I,authTime:Kn(on(A.auth_time)),issuedAtTime:Kn(on(A.iat)),expirationTime:Kn(on(A.exp)),signInProvider:re||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function on(v){return 1e3*Number(v)}function ct(v){var g;const[m,I,A]=v.split(".");if(void 0===m||void 0===I||void 0===A)return st("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,B.tV)(I);return P?JSON.parse(P):(st("Failed to decode base64 JWT payload"),null)}catch(P){return st("Caught error parsing JWT payload as JSON",null===(g=P)||void 0===g?void 0:g.toString()),null}}function mt(v,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(I){throw I instanceof B.ZR&&fr(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}function fr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Yn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),I)}iteration(){var g=this;return(0,c.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(m=I)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class At{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(v){var g;const m=v.auth,I=yield v.getIdToken(),A=yield mt(v,Pn(m,{idToken:I}));te(A?.users.length,m,"internal-error");const P=A.users[0];v._notifyReloadListener(P);const re=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?Tn(P.providerUserInfo):[],Re=Gn(v.providerData,re),nn=!!v.isAnonymous&&!(v.email&&P.passwordHash||Re?.length),kn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Re,metadata:new At(P.createdAt,P.lastLoginAt),isAnonymous:nn};Object.assign(v,kn)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(v){const g=(0,B.m9)(v);yield sr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Gn(v,g){return[...v.filter(I=>!g.some(A=>A.providerId===I.providerId)),...g]}function Tn(v){return v.map(g=>{var{providerId:m}=g,I=(0,ge._T)(g,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function xe(){return(xe=(0,c.Z)(function*(v,g){const m=yield pi(v,{},(0,c.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:P}=v.config,re=Ir(v,A,"/v1/token",`key=${P}`),Re=yield v._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Bn.fetch()(re,{method:"POST",headers:Re,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(typeof g.idToken<"u","internal-error"),te(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ut(v){const g=ct(v);return te(g,"internal-error"),te(typeof g.exp<"u","internal-error"),te(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var I=this;return(0,c.Z)(function*(){return te(!I.accessToken||I.refreshToken,g,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var I=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:re}=yield function Xe(v,g){return xe.apply(this,arguments)}(g,m);I.updateTokensAndExpiration(A,P,Number(re))})()}updateTokensAndExpiration(g,m,I){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,m){const{refreshToken:I,accessToken:A,expirationTime:P}=m,re=new rt;return I&&(te("string"==typeof I,"internal-error",{appName:g}),re.refreshToken=I),A&&(te("string"==typeof A,"internal-error",{appName:g}),re.accessToken=A),P&&(te("number"==typeof P,"internal-error",{appName:g}),re.expirationTime=P),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return ue("not implemented")}}function gt(v,g){te("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class bt{constructor(g){var{uid:m,auth:I,stsTokenManager:A}=g,P=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new At(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const I=yield mt(m,m.stsTokenManager.getToken(m.auth,g));return te(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(g){return function pn(v){return In.apply(this,arguments)}(this,g)}reload(){return function or(v){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new bt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var I=this;return(0,c.Z)(function*(){let A=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),A=!0),m&&(yield sr(I)),yield I.auth._persistUserIfCurrent(I),A&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield mt(g,function hr(v,g){return br.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var I,A,P,re,Re,ot,xt,nn;const kn=null!==(I=m.displayName)&&void 0!==I?I:void 0,Bi=null!==(A=m.email)&&void 0!==A?A:void 0,Ps=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Vd=null!==(re=m.photoURL)&&void 0!==re?re:void 0,Xl=null!==(Re=m.tenantId)&&void 0!==Re?Re:void 0,Mu=null!==(ot=m._redirectEventId)&&void 0!==ot?ot:void 0,yp=null!==(xt=m.createdAt)&&void 0!==xt?xt:void 0,ry=null!==(nn=m.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Ud,emailVerified:Zo,isAnonymous:Wo,providerData:xu,stsTokenManager:Nu}=m;te(Ud&&Nu,g,"internal-error");const Ru=rt.fromJSON(this.name,Nu);te("string"==typeof Ud,g,"internal-error"),gt(kn,g.name),gt(Bi,g.name),te("boolean"==typeof Zo,g,"internal-error"),te("boolean"==typeof Wo,g,"internal-error"),gt(Ps,g.name),gt(Vd,g.name),gt(Xl,g.name),gt(Mu,g.name),gt(yp,g.name),gt(ry,g.name);const Jn=new bt({uid:Ud,auth:g,email:Bi,emailVerified:Zo,displayName:kn,isAnonymous:Wo,photoURL:Vd,phoneNumber:Ps,tenantId:Xl,stsTokenManager:Ru,createdAt:yp,lastLoginAt:ry});return xu&&Array.isArray(xu)&&(Jn.providerData=xu.map(_p=>Object.assign({},_p))),Mu&&(Jn._redirectEventId=Mu),Jn}static _fromIdTokenResponse(g,m,I=!1){return(0,c.Z)(function*(){const A=new rt;A.updateFromServerResponse(m);const P=new bt({uid:m.localId,auth:g,stsTokenManager:A,isAnonymous:I});return yield sr(P),P})()}}const j=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,I){var A=this;return(0,c.Z)(function*(){A.storage[m]=I})()}_get(m){var I=this;return(0,c.Z)(function*(){const A=I.storage[m];return void 0===A?null:A})()}_remove(m){var I=this;return(0,c.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function Y(v,g,m){return`firebase:${v}:${g}:${m}`}class U{constructor(g,m,I){this.persistence=g,this.auth=m,this.userKey=I;const{config:A,name:P}=this.auth;this.fullUserKey=Y(this.userKey,A.apiKey,P),this.fullPersistenceKey=Y("persistence",A.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?bt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,I="authUser"){return(0,c.Z)(function*(){if(!m.length)return new U(X(j),g,I);const A=(yield Promise.all(m.map(function(){var xt=(0,c.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let P=A[0]||X(j);const re=Y(I,g.config.apiKey,g.name);let Re=null;for(const xt of m)try{const nn=yield xt._get(re);if(nn){const kn=bt._fromJSON(g,nn);xt!==P&&(Re=kn),P=xt;break}}catch{}const ot=A.filter(xt=>xt._shouldAllowMigration);return P._shouldAllowMigration&&ot.length?(P=ot[0],Re&&(yield P._set(re,Re.toJSON())),yield Promise.all(m.map(function(){var xt=(0,c.Z)(function*(nn){if(nn!==P)try{yield nn._remove(re)}catch{}});return function(nn){return xt.apply(this,arguments)}}())),new U(P,g,I)):new U(P,g,I)})()}}function S(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(me(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(x(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(qe(g))return"Blackberry";if(oe(g))return"Webos";if(N(g))return"Safari";if((g.includes("chrome/")||z(g))&&!g.includes("edge/"))return"Chrome";if(ke(g))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function x(v=(0,B.z$)()){return/firefox\//i.test(v)}function N(v=(0,B.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function z(v=(0,B.z$)()){return/crios\//i.test(v)}function me(v=(0,B.z$)()){return/iemobile/i.test(v)}function ke(v=(0,B.z$)()){return/android/i.test(v)}function qe(v=(0,B.z$)()){return/blackberry/i.test(v)}function oe(v=(0,B.z$)()){return/webos/i.test(v)}function je(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function yt(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function qt(v=(0,B.z$)()){return je(v)||ke(v)||oe(v)||qe(v)||/windows phone/i.test(v)||me(v)}function Cn(v,g=[]){let m;switch(v){case"Browser":m=S((0,B.z$)());break;case"Worker":m=`${S((0,B.z$)())}-${v}`;break;default:m=v}const I=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${I}`}class Ni{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const I=P=>new Promise((re,Re)=>{try{re(g(P))}catch(ot){Re(ot)}});I.onAbort=m,this.queue.push(I);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,c.Z)(function*(){var I;if(m.auth.currentUser===g)return;const A=[];try{for(const P of m.queue)yield P(g),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const re of A)try{re()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=P)||void 0===I?void 0:I.message})}})()}}class es{constructor(g,m,I){this.app=g,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ee(this),this.idTokenSubscription=new ee(this),this.beforeStateQueue=new Ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,m){var I=this;return m&&(this._popupRedirectResolver=X(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,P;if(!I._deleted&&(I.persistenceManager=yield U.create(I,g),!I._deleted)){if(null!==(A=I._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(P=I.currentUser)||void 0===P?void 0:P.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var I;const A=yield m.assertedPersistence.getCurrentUser();let P=A,re=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Re=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,ot=P?._redirectEventId,xt=yield m.tryRedirectSignIn(g);(!Re||Re===ot)&&xt?.user&&(P=xt.user,re=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(P)}catch(Re){P=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Re))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){var I;try{yield sr(g)}catch(A){if("auth/network-request-failed"!==(null===(I=A)||void 0===I?void 0:I.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const I=g?(0,B.m9)(g):null;return I&&te(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(g,m=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return g&&te(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(X(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,m,I){return this.registerStateListener(this.authStateSubscription,g,m,I)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,I){return this.registerStateListener(this.idTokenSubscription,g,m,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var I=this;return(0,c.Z)(function*(){const A=yield I.getOrInitRedirectPersistenceManager(m);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const I=g&&X(g)||m._popupRedirectResolver;te(I,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[X(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var I,A;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===g?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,I,A){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,I,A):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(I["X-Firebase-Client"]=A),I})()}}function _t(v){return(0,B.m9)(v)}class ee{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ie(v,g,m){const I=_t(v);te(I._canInitEmulator,I,"emulator-config-failed"),te(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const A=!!m?.disableWarnings,P=He(g),{host:re,port:Re}=function dt(v){const g=He(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(I);if(A){const P=A[1];return{host:P,port:Kt(I.substr(P.length+1))}}{const[P,re]=I.split(":");return{host:P,port:Kt(re)}}}(g);I.config.emulator={url:`${P}//${re}${null===Re?"":`:${Re}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:Re,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function un(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function He(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Kt(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class xn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(g){return ue("not implemented")}_linkToIdToken(g,m){return ue("not implemented")}_getReauthenticationResolver(g){return ue("not implemented")}}function An(v,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:resetPassword",jt(v,g))})).apply(this,arguments)}function xr(v,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rd(v,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",jt(v,g))})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPassword",jt(v,g))})).apply(this,arguments)}function ts(v,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:sendOobCode",jt(v,g))})).apply(this,arguments)}function Ri(v,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(v,g){return ts(v,g)})).apply(this,arguments)}function eu(v,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(v,g){return ts(v,g)})).apply(this,arguments)}function Nr(v,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(v,g){return ts(v,g)})).apply(this,arguments)}function Hs(v,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v,g){return ts(v,g)})).apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithEmailLink",jt(v,g))})).apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithEmailLink",jt(v,g))})).apply(this,arguments)}class qs extends xn{constructor(g,m,I,A=null){super("password",I),this._email=g,this._password=m,this._tenantId=A}static _fromEmailAndPassword(g,m){return new qs(g,m,"password")}static _fromEmailAndCode(g,m,I=null){return new qs(g,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function bo(v,g){return _s.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ti(v,g){return ua.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,m){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return xr(g,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Bf(v,g){return Do.apply(this,arguments)}(g,{idToken:m,email:I._email,oobCode:I._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function is(v,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithIdp",jt(v,g))})).apply(this,arguments)}class Pi extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Pi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:A}=m,P=(0,ge._T)(m,["providerId","signInMethod"]);if(!I||!A)return null;const re=new Pi(I,A);return re.idToken=P.idToken||void 0,re.accessToken=P.accessToken||void 0,re.secret=P.secret,re.nonce=P.nonce,re.pendingToken=P.pendingToken||null,re}_getIdTokenResponse(g){return is(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,is(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,is(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,B.xO)(m)}return g}}function id(v,g){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:sendVerificationCode",jt(v,g))})).apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,g))})).apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(v,g){const m=yield Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,g));if(m.temporaryProof)throw Ln(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Am={USER_NOT_FOUND:"user-not-found"};function od(){return(od=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithPhoneNumber",jt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Am)})).apply(this,arguments)}class To extends xn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new To({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new To({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function $f(v,g){return ca.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Hf(v,g){return sd.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Dl(v,g){return od.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:I,verificationCode:A}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:I,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:I,phoneNumber:A,temporaryProof:P}=g;return I||m||A||P?new To({verificationId:m,verificationCode:I,phoneNumber:A,temporaryProof:P}):null}}class da{constructor(g){var m,I,A,P,re,Re;const ot=(0,B.zd)((0,B.pd)(g)),xt=null!==(m=ot.apiKey)&&void 0!==m?m:null,nn=null!==(I=ot.oobCode)&&void 0!==I?I:null,kn=function Tl(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ot.mode)&&void 0!==A?A:null);te(xt&&nn&&kn,"argument-error"),this.apiKey=xt,this.operation=kn,this.code=nn,this.continueUrl=null!==(P=ot.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(re=ot.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Re=ot.tenantId)&&void 0!==Re?Re:null}static parseLink(g){const m=function tu(v){const g=(0,B.zd)((0,B.pd)(v)).link,m=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||m||g||v}(g);try{return new da(m)}catch{return null}}}let Cl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return qs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const A=da.parseLink(I);return te(A,"argument-error"),qs._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Tr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Co extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class vs extends Co{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return te("providerId"in m&&"signInMethod"in m,"argument-error"),Pi._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),Pi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return vs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return vs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:A,pendingToken:P,nonce:re,providerId:Re}=g;if(!I&&!A&&!m&&!P||!Re)return null;try{return new vs(Re)._credential({idToken:m,accessToken:I,nonce:re,pendingToken:P})}catch{return null}}}let nu=(()=>{class v extends Co{constructor(){super("facebook.com")}static credential(m){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ru=(()=>{class v extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:A}=m;if(!I&&!A)return null;try{return v.credential(I,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ha=(()=>{class v extends Co{constructor(){super("github.com")}static credential(m){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class zs extends xn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return is(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,is(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,is(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:A,pendingToken:P}=m;return I&&A&&P&&I===A?new zs(I,P):null}static _create(g,m){return new zs(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oi extends Tr{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Oi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Oi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=zs.fromJSON(g);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:I}=g;if(!m||!I)return null;try{return zs._create(I,m)}catch{return null}}}let su=(()=>{class v extends Co{constructor(){super("twitter.com")}static credential(m,I){return Pi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:A}=m;if(!I||!A)return null;try{return v.credential(I,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Rr(v,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signUp",jt(v,g))})).apply(this,arguments)}class Zr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,I,A=!1){return(0,c.Z)(function*(){const P=yield bt._fromIdTokenResponse(g,I,A),re=ws(I);return new Zr({user:P,providerId:re,_tokenResponse:I,operationType:m})})()}static _forOperation(g,m,I){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const A=ws(I);return new Zr({user:g,providerId:A,_tokenResponse:I,operationType:m})})()}}function ws(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Mm(v){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.Z)(function*(v){var g;const m=_t(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Rr(m,{returnSecureToken:!0}),A=yield Zr._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class jn extends B.ZR{constructor(g,m,I,A){var P;super(m.code,m.message),this.operationType=I,this.user=A,Object.setPrototypeOf(this,jn.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,m,I,A){return new jn(g,m,I,A)}}function Al(v,g,m,I){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?jn._fromErrorAndOperation(v,P,g,I):P})}function ad(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Di(v,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v,g){const m=(0,B.m9)(v);yield Br(!0,m,g);const{providerUserInfo:I}=yield et(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),A=ad(I||[]);return m.providerData=m.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sl(v,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(v,g,m=!1){const I=yield mt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Zr._forOperation(v,"link",I)})).apply(this,arguments)}function Br(v,g,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(v,g,m){yield sr(g);const A=!1===v?"provider-already-linked":"no-such-provider";te(ad(g.providerData).has(m)===v,g.auth,A)})).apply(this,arguments)}function Is(v,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(v,g,m=!1){var I;const{auth:A}=v,P="reauthenticate";try{const re=yield mt(v,Al(A,P,g,v),m);te(re.idToken,A,"internal-error");const Re=ct(re.idToken);te(Re,A,"internal-error");const{sub:ot}=Re;return te(v.uid===ot,A,"user-mismatch"),Zr._forOperation(v,P,re)}catch(re){throw"auth/user-not-found"===(null===(I=re)||void 0===I?void 0:I.code)&&Ye(A,"user-mismatch"),re}})).apply(this,arguments)}function qf(v,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(v,g,m=!1){const I="signIn",A=yield Al(v,I,g),P=yield Zr._fromIdTokenResponse(v,I,A);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function So(v,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(v,g){return qf(_t(v),g)})).apply(this,arguments)}function $t(v,g){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(v,g){const m=(0,B.m9)(v);return yield Br(!1,m,g.providerId),Sl(m,g)})).apply(this,arguments)}function k(v,g){return K.apply(this,arguments)}function K(){return(K=(0,c.Z)(function*(v,g){return Is((0,B.m9)(v),g)})).apply(this,arguments)}function fe(v,g){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(v,g){return Rn(v,"POST","/v1/accounts:signInWithCustomToken",jt(v,g))})).apply(this,arguments)}function Qe(v,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(v,g){const m=_t(v),I=yield fe(m,{token:g,returnSecureToken:!0}),A=yield Zr._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Qt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Te._fromServerResponse(g,m):Ye(g,"internal-error")}}class Te extends Qt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Te(m)}}function Pt(v,g,m){var I;te((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),te(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function $n(v,g,m){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v),A={requestType:"PASSWORD_RESET",email:g};m&&Pt(I,A,m),yield eu(I,A)})).apply(this,arguments)}function On(v,g,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(v,g,m){yield An((0,B.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Ts(v,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(v,g){yield rd((0,B.m9)(v),{oobCode:g})})).apply(this,arguments)}function ss(v,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,g){const m=(0,B.m9)(v),I=yield An(m,{oobCode:g}),A=I.requestType;switch(te(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(I.mfaInfo,m,"internal-error");default:te(I.email,m,"internal-error")}let P=null;return I.mfaInfo&&(P=Qt._fromServerResponse(_t(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function ou(v,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(v,g){const{data:m}=yield ss((0,B.m9)(v),g);return m.email})).apply(this,arguments)}function Zs(v,g,m){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(v,g,m){const I=_t(v),A=yield Rr(I,{returnSecureToken:!0,email:g,password:m}),P=yield Zr._fromIdTokenResponse(I,"signIn",A);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Qn(v,g,m){return So((0,B.m9)(v),Cl.credential(g,m))}function os(v,g,m){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};te(m.handleCodeInApp,I,"argument-error"),m&&Pt(I,A,m),yield Nr(I,A)})).apply(this,arguments)}function uu(v,g){return"EMAIL_SIGNIN"===da.parseLink(g)?.operation}function Ws(v,g,m){return zf.apply(this,arguments)}function zf(){return(zf=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v),A=Cl.credentialWithLink(g,m||$e());return te(A._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),So(I,A)})).apply(this,arguments)}function xm(v,g){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:createAuthUri",jt(v,g))})).apply(this,arguments)}function A0(v,g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(v,g){const I={identifier:g,continueUri:Ve()?$e():"http://localhost"},{signinMethods:A}=yield xm((0,B.m9)(v),I);return A||[]})).apply(this,arguments)}function ud(v,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(v,g){const m=(0,B.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Pt(m.auth,A,g);const{email:P}=yield Ri(m.auth,A);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function cd(v,g,m){return dd.apply(this,arguments)}function dd(){return(dd=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Pt(I.auth,P,m);const{email:re}=yield Hs(I.auth,P);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nm(v,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(v,g){return Ct(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rm(v,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const I=(0,B.m9)(v),P={idToken:yield I.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},re=yield mt(I,Nm(I.auth,P));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const Re=I.providerData.find(({providerId:ot})=>"password"===ot);Re&&(Re.displayName=I.displayName,Re.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)})).apply(this,arguments)}function Pm(v,g){return ga((0,B.m9)(v),g,null)}function Wf(v,g){return ga((0,B.m9)(v),null,g)}function ga(v,g,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(v,g,m){const{auth:I}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const re=yield mt(v,xr(I,P));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class zn{constructor(g,m,I={}){this.isNewUser=g,this.providerId=m,this.profile=I}}class As extends zn{constructor(g,m,I,A){super(g,m,I),this.username=A}}class Zn extends zn{constructor(g,m){super(g,"facebook.com",m)}}class km extends As{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Fm extends zn{constructor(g,m){super(g,"google.com",m)}}class Lm extends As{constructor(g,m,I){super(g,"twitter.com",m,I)}}function Vm(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Om(v){var g,m;if(!v)return null;const{providerId:I}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const re=null===(m=null===(g=ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new zn(P,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new Zn(P,A);case"github.com":return new km(P,A);case"google.com":return new Fm(P,A);case"twitter.com":return new Lm(P,A,v.screenName||null);case"custom":case"anonymous":return new zn(P,null);default:return new zn(P,I,A)}}(m)}function cu(v,g,m,I){return(0,B.m9)(v).onAuthStateChanged(g,m,I)}class Ti{constructor(g,m,I){this.type=g,this.credential=m,this.auth=I}static _fromIdtoken(g,m){return new Ti("enroll",g,m)}static _fromMfaPendingCredential(g){return new Ti("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,I;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ti._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return Ti._fromIdtoken(g.multiFactorSession.idToken)}return null}}class md{constructor(g,m,I){this.session=g,this.hints=m,this.signInResolver=I}static _fromError(g,m){const I=_t(g),A=m.customData._serverResponse,P=(A.mfaInfo||[]).map(Re=>Qt._fromServerResponse(I,Re));te(A.mfaPendingCredential,I,"internal-error");const re=Ti._fromMfaPendingCredential(A.mfaPendingCredential);return new md(re,P,function(){var Re=(0,c.Z)(function*(ot){const xt=yield ot._process(I,re);delete A.mfaInfo,delete A.mfaPendingCredential;const nn=Object.assign(Object.assign({},A),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(m.operationType){case"signIn":const kn=yield Zr._fromIdTokenResponse(I,m.operationType,nn);return yield I._updateCurrentUser(kn.user),kn;case"reauthenticate":return te(m.user,I,"internal-error"),Zr._forOperation(m.user,m.operationType,nn);default:Ye(I,"internal-error")}});return function(ot){return Re.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function Um(v,g){var m;const I=(0,B.m9)(v),A=g;return te(g.customData.operationType,I,"argument-error"),te(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),md._fromError(I,A)}function du(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:start",jt(v,g))}class Pl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>Qt._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new Pl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Ti._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var I=this;return(0,c.Z)(function*(){const A=g,P=yield I.getSession(),re=yield mt(I.user,A._process(I.user.auth,P,m));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){var I;const A="string"==typeof g?g:g.uid,P=yield m.user.getIdToken(),re=yield mt(m.user,function Rl(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(v,g))}(m.user.auth,{idToken:P,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Re})=>Re!==A),yield m.user._updateTokensIfNecessary(re);try{yield m.user.reload()}catch(Re){if("auth/user-token-expired"!==(null===(I=Re)||void 0===I?void 0:I.code))throw Re}})()}}const Bm=new WeakMap;function _d(v){const g=(0,B.m9)(v);return Bm.has(g)||Bm.set(g,Pl._fromUser(g)),Bm.get(g)}const Ss="__sak";class vd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ss,"1"),this.storage.removeItem(Ss),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ro=(()=>{class v extends vd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ed(){const v=(0,B.z$)();return N(v)||je(v)}()&&function zr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const A=this.storage.getItem(I),P=this.localCache[I];A!==P&&m(I,P,A)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((Re,ot,xt)=>{this.notifyListeners(Re,xt)});const A=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(A);if(m.newValue!==Re)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!I)return}const P=()=>{const Re=this.storage.getItem(A);!I&&this.localCache[A]===Re||this.notifyListeners(A,Re)},re=this.storage.getItem(A);!function Mt(){return(0,B.w1)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,I){this.localCache[m]=I;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var A=()=>super._set,P=this;return(0,c.Z)(function*(){yield A().call(P,m,I),P.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,A=this;return(0,c.Z)(function*(){const P=yield I().call(A,m);return A.localCache[m]=JSON.stringify(P),P})()}_remove(m){var I=()=>super._remove,A=this;return(0,c.Z)(function*(){yield I().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Ks=(()=>{class v extends vd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let Ol=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(P=>P.isListeningto(m));if(I)return I;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,c.Z)(function*(){const A=m,{eventId:P,eventType:re,data:Re}=A.data,ot=I.handlersMap[re];if(!ot?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:re});const xt=Array.from(ot).map(function(){var kn=(0,c.Z)(function*(Bi){return Bi(A.origin,Re)});return function(Bi){return kn.apply(this,arguments)}}()),nn=yield function wd(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return g.apply(this,arguments)}}()))}(xt);A.ports[0].postMessage({status:"done",eventId:P,eventType:re,response:nn})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ma(v="",g=10){let m="";for(let I=0;I<g;I++)m+=Math.floor(10*Math.random());return v+m}class Hm{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,I=50){var A=this;return(0,c.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let re,Re;return new Promise((ot,xt)=>{const nn=ma("",20);P.port1.start();const kn=setTimeout(()=>{xt(new Error("unsupported_event"))},I);Re={messageChannel:P,onMessage(Bi){const Ps=Bi;if(Ps.data.eventId===nn)switch(Ps.data.status){case"ack":clearTimeout(kn),re=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),ot(Ps.data.response);break;default:clearTimeout(kn),clearTimeout(re),xt(new Error("invalid_response"))}}},A.handlers.add(Re),P.port1.addEventListener("message",Re.onMessage),A.target.postMessage({eventType:g,eventId:nn,data:m},[P.port2])}).finally(()=>{Re&&A.removeMessageHandler(Re)})})()}}function gr(){return window}function Fi(){return typeof gr().WorkerGlobalScope<"u"&&"function"==typeof gr().importScripts}function Po(){return(Po=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fu="firebaseLocalStorageDb",gu="firebaseLocalStorage",Fl="fbase_key";class Oo{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ll(v,g){return v.transaction([gu],g?"readwrite":"readonly").objectStore(gu)}function Xf(){const v=indexedDB.open(fu,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(gu,{keyPath:Fl})}catch(A){m(A)}}),v.addEventListener("success",(0,c.Z)(function*(){const I=v.result;I.objectStoreNames.contains(gu)?g(I):(I.close(),yield function Jf(){const v=indexedDB.deleteDatabase(fu);return new Oo(v).toPromise()}(),g(yield Xf()))}))})}function mu(v,g,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(v,g,m){const I=Ll(v,!0).put({[Fl]:g,value:m});return new Oo(I).toPromise()})).apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(v,g){const m=Ll(v,!1).get(g),I=yield new Oo(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ep(v,g){const m=Ll(v,!0).delete(g);return new Oo(m).toPromise()}const Ul=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Xf()),m.db})()}_withRetries(m){var I=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const P=yield I._openDb();return yield m(P)}catch(P){if(A++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Fi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Ol._getInstance(function kl(){return Fi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(A,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(A,P){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var I,A;if(m.activeServiceWorker=yield function Gm(){return Po.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Hm(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Id(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xf();return yield mu(m,Ss,"1"),yield ep(m,Ss),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(P=>mu(P,m,I)),A.localCache[m]=I,A.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,c.Z)(function*(){const A=yield I._withRetries(P=>function qm(v,g){return Vl.apply(this,arguments)}(P,m));return I.localCache[m]=A,A})()}_remove(m){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(A=>ep(A,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const I=yield m._withRetries(re=>{const Re=Ll(re,!1).getAll();return new Oo(Re).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:re,value:Re}of I)P.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(Re)&&(m.notifyListeners(re,Re),A.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!P.has(re)&&(m.notifyListeners(re,null),A.push(re));return A})()}notifyListeners(m,I){this.localCache[m]=I;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function zm(v,g){return Ct(v,"POST","/v2/accounts/mfaSignIn:start",jt(v,g))}function ko(){return(ko=(0,c.Z)(function*(v){return(yield Ct(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ya(v){return new Promise((g,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=g,I.onerror=A=>{const P=Fe("internal-error");P.customData=A,m(P)},I.type="text/javascript",I.charset="UTF-8",function _u(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(I)})}function bd(v){return`__${v}${Math.floor(1e6*Math.random())}`}const rp=1e12;class S0{constructor(g){this.auth=g,this.counter=rp,this._widgets=new Map}render(g,m){const I=this.counter;return this._widgets.set(I,new Fn(g,this.auth.name,m||{})),this.counter++,I}reset(g){var m;const I=g||rp;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(g){var m;return(null===(m=this._widgets.get(g||rp))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var I;return null===(I=m._widgets.get(g||rp))||void 0===I||I.execute(),""})()}}class Fn{constructor(g,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;te(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function M0(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zm=bd("rcb"),cD=new Ze(3e4,6e4);class hD{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=gr().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return te(function fD(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(gr().grecaptcha):new Promise((I,A)=>{const P=gr().setTimeout(()=>{A(Fe(g,"network-request-failed"))},cD.get());gr()[Zm]=()=>{gr().clearTimeout(P),delete gr()[Zm];const Re=gr().grecaptcha;if(!Re)return void A(Fe(g,"internal-error"));const ot=Re.render;Re.render=(xt,nn)=>{const kn=ot(xt,nn);return this.counter++,kn},this.hostLanguage=m,I(Re)},ya(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Zm,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),A(Fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=gr().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pD{load(g){return(0,c.Z)(function*(){return new S0(g)})()}clearedOneInstance(){}}const Fo="recaptcha",x0={theme:"light",type:"image"};class Wm{constructor(g,m=Object.assign({},x0),I){this.parameters=m,this.type=Fo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_t(I),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;te(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pD:new hD,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(m)||new Promise(P=>{const re=Re=>{!Re||(g.tokenChangeListeners.delete(re),P(Re))};g.tokenChangeListeners.add(re),g.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof g)g(m);else if("string"==typeof g){const I=gr()[g];"function"==typeof I&&I(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){te(Ve()&&!Fi(),g.auth,"internal-error"),yield function Ar(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function jl(v){return ko.apply(this,arguments)}(g.auth);te(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sn{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=To._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Wr(v,g,m){return ip.apply(this,arguments)}function ip(){return(ip=(0,c.Z)(function*(v,g,m){const I=_t(v),A=yield Lo(I,g,(0,B.m9)(m));return new Sn(A,P=>So(I,P))})).apply(this,arguments)}function Km(v,g,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v);yield Br(!1,I,"phone");const A=yield Lo(I.auth,g,(0,B.m9)(m));return new Sn(A,P=>$t(I,P))})).apply(this,arguments)}function xs(v,g,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v),A=yield Lo(I.auth,g,(0,B.m9)(m));return new Sn(A,P=>k(I,P))})).apply(this,arguments)}function Lo(v,g,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(v,g,m){var I;const A=yield m.verify();try{let P;if(te("string"==typeof A,v,"argument-error"),te(m.type===Fo,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const re=P.session;if("phoneNumber"in P)return te("enroll"===re.type,v,"internal-error"),(yield du(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,v,"internal-error");const Re=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return te(Re,v,"missing-multi-factor-info"),(yield zm(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield id(v,{phoneNumber:P.phoneNumber,recaptchaToken:A});return re}}finally{m._reset()}})).apply(this,arguments)}function Vo(v,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(v,g){yield Sl((0,B.m9)(v),g)})).apply(this,arguments)}let Vt=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=_t(m)}verifyPhoneNumber(m,I){return Lo(this.auth,m,(0,B.m9)(I))}static credential(m,I){return To._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:A}=m;return I&&A?To._fromTokenResponse(I,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function _a(v,g){return g?X(g):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class sp extends xn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return is(g,this._buildIdpRequest())}_linkToIdToken(g,m){return is(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return is(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Dd(v){return qf(v.auth,new sp(v),v.bypassAuthState)}function ri(v){const{auth:g,user:m}=v;return te(m,g,"internal-error"),Is(m,new sp(v),v.bypassAuthState)}function Td(v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(v){const{auth:g,user:m}=v;return te(m,g,"internal-error"),Sl(m,new sp(v),v.bypassAuthState)})).apply(this,arguments)}class Uo{constructor(g,m,I,A,P=!1){this.auth=g,this.resolver=I,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(I,A){g.pendingPromise={resolve:I,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(I,A){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:A,postBody:P,tenantId:re,error:Re,type:ot}=g;if(Re)return void m.reject(Re);const xt={auth:m.auth,requestUri:I,sessionId:A,tenantId:re||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ot)(xt))}catch(nn){m.reject(nn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Dd;case"linkViaPopup":case"linkViaRedirect":return Td;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:Ye(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vi=new Ze(2e3,1e4);function Ym(v,g,m){return $l.apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(v,g,m){const I=_t(v);De(v,g,Tr);const A=_a(I,m);return new wu(I,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Qm(v,g,m){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Tr);const A=_a(I.auth,m);return new wu(I.auth,"reauthViaPopup",g,A,I).executeNotNull()})).apply(this,arguments)}function Jm(v,g,m){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Tr);const A=_a(I.auth,m);return new wu(I.auth,"linkViaPopup",g,A,I).executeNotNull()})).apply(this,arguments)}let wu=(()=>{class v extends Uo{constructor(m,I,A,P,re){super(m,I,P,re),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const I=yield m.execute();return te(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,c.Z)(function*(){we(1===m.filter.length,"Popup operations only handle one event");const I=ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,A;this.pollId=null!==(A=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Vi.get())};m()}}return v.currentPopupAction=null,v})();const Iu=new Map;class ur extends Uo{constructor(g,m,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let I=Iu.get(m.auth._key());if(!I){try{const P=(yield function as(v,g){return Ea.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;I=()=>Promise.resolve(P)}catch(A){I=()=>Promise.reject(A)}Iu.set(m.auth._key(),I)}return m.bypassAuthState||Iu.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(I,g);if("unknown"!==g.type){if(g.eventId){const A=yield I.auth._redirectUserForId(g.eventId);if(A)return I.user=A,m().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ea(){return(Ea=(0,c.Z)(function*(v,g){const m=Qs(g),I=jo(v);if(!(yield I._isAvailable()))return!1;const A="true"===(yield I._get(m));return yield I._remove(m),A})).apply(this,arguments)}function Bo(v,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(v,g){return jo(v)._set(Qs(g),"true")})).apply(this,arguments)}function op(){Iu.clear()}function Gl(v,g){Iu.set(v._key(),g)}function jo(v){return X(v._redirectPersistence)}function Qs(v){return Y("pendingRedirect",v.config.apiKey,v.name)}function ap(v,g,m){return function tr(v,g,m){return bu.apply(this,arguments)}(v,g,m)}function bu(){return(bu=(0,c.Z)(function*(v,g,m){const I=_t(v);De(v,g,Tr);const A=_a(I,m);return yield Bo(A,I),A._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function Du(v,g,m){return function ql(v,g,m){return Js.apply(this,arguments)}(v,g,m)}function Js(){return(Js=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Tr);const A=_a(I.auth,m);yield Bo(A,I.auth);const P=yield Zl(I);return A._openRedirect(I.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function up(v,g,m){return function lp(v,g,m){return Ad.apply(this,arguments)}(v,g,m)}function Ad(){return(Ad=(0,c.Z)(function*(v,g,m){const I=(0,B.m9)(v);De(I.auth,g,Tr);const A=_a(I.auth,m);yield Br(!1,I,g.providerId),yield Bo(A,I.auth);const P=yield Zl(I);return A._openRedirect(I.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function zl(v,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(v,g){return yield _t(v)._initializationPromise,wa(v,g,!1)})).apply(this,arguments)}function wa(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(v,g,m=!1){const I=_t(v),A=_a(I,g),re=yield new ur(I,A,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,g)),re})).apply(this,arguments)}function Zl(v){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(v){const g=ma(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class ba{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(m=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function cp(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Au(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var I;if(g.error&&!Au(g)){const A=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,A))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const I=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(g))}saveEventToCache(g){this.cachedEventUids.add(Cu(g)),this.lastProcessedEventTime=Date.now()}}function Cu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Au({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function to(v){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(v,g={}){return Ct(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$o=/^https?/;function dp(){return(dp=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield to(v);for(const m of g)try{if(gD(m))return}catch{}Ye(v,"unauthorized-domain")})).apply(this,arguments)}function gD(v){const g=$e(),{protocol:m,hostname:I}=new URL(g);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===I}if(!$o.test(m))return!1;if(Yr.test(v))return I===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(I)}const hp=new Ze(3e4,6e4);function Md(){const v=gr().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let us=null;function fp(v){return us=us||function xd(v){return new Promise((g,m)=>{var I,A,P;function re(){Md(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Md(),m(Fe(v,"network-request-failed"))},timeout:hp.get()})}if(null!==(A=null===(I=gr().gapi)||void 0===I?void 0:I.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(P=gr().gapi)||void 0===P||!P.load){const Re=bd("iframefcb");return gr()[Re]=()=>{gapi.load?re():m(Fe(v,"network-request-failed"))},ya(`https://apis.google.com/js/api.js?onload=${Re}`).catch(ot=>m(ot))}re()}}).catch(g=>{throw us=null,g})}(v),us}const Nd=new Ze(5e3,15e3),Xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gp(v){const g=v.config;te(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?rn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},A=yD.get(v.config.apiHost);A&&(I.eid=A);const P=v._getFrameworks();return P.length&&(I.fw=P.join(",")),`${m}?${(0,B.xO)(I).slice(1)}`}function Rd(){return Rd=(0,c.Z)(function*(v){const g=yield fp(v),m=gr().gapi;return te(m,v,"internal-error"),g.open({where:document.body,url:gp(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xm,dontclear:!0},I=>new Promise(function(){var A=(0,c.Z)(function*(P,re){yield I.restyle({setHideOnLeave:!1});const Re=Fe(v,"network-request-failed"),ot=gr().setTimeout(()=>{re(Re)},Nd.get());function xt(){gr().clearTimeout(ot),P(I)}I.ping(xt).then(xt,()=>{re(Re)})});return function(P,re){return A.apply(this,arguments)}}()))}),Rd.apply(this,arguments)}const Pd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ny{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ro(v,g,m,I,A,P){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:R.SDK_VERSION,eventId:A};if(g instanceof Tr){g.setDefaultLanguage(v.languageCode),re.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ot,xt]of Object.entries(P||{}))re[ot]=xt}if(g instanceof Co){const ot=g.getScopes().filter(xt=>""!==xt);ot.length>0&&(re.scopes=ot.join(","))}v.tenantId&&(re.tid=v.tenantId);const Re=re;for(const ot of Object.keys(Re))void 0===Re[ot]&&delete Re[ot];return`${function Rs({config:v}){return v.emulator?rn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(Re).slice(1)}`}const Wl="webStorageSupport",Fd=class kd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=wa,this._overrideRedirectResult=Gl}_openPopup(g,m,I,A){var P=this;return(0,c.Z)(function*(){var re;we(null===(re=P.eventManagers[g._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Re=ro(g,m,I,$e(),A);return function Da(v,g,m,I=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let Re="";const ot=Object.assign(Object.assign({},Pd),{width:I.toString(),height:A.toString(),top:P,left:re}),xt=(0,B.z$)().toLowerCase();m&&(Re=z(xt)?"_blank":m),x(xt)&&(g=g||"http://localhost",ot.scrollbars="yes");const nn=Object.entries(ot).reduce((Bi,[Ps,Vd])=>`${Bi}${Ps}=${Vd},`,"");if(function tn(v=(0,B.z$)()){var g;return je(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(xt)&&"_self"!==Re)return function Go(v,g){const m=document.createElement("a");m.href=v,m.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(g||"",Re),new ny(null);const kn=window.open(g||"",Re,nn);te(kn,v,"popup-blocked");try{kn.focus()}catch{}return new ny(kn)}(g,Re,ma())})()}_openRedirect(g,m,I,A){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(g),function Qf(v){gr().location.href=v}(ro(g,m,I,$e(),A)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:A,promise:P}=this.eventManagers[m];return A?Promise.resolve(A):(we(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(g);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const I=yield function N0(v){return Rd.apply(this,arguments)}(g),A=new ba(g);return I.register("authEvent",P=>(te(P?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:A},m.iframes[g._key()]=I,A})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Wl,{type:Wl},A=>{var P;const re=null===(P=A?.[0])||void 0===P?void 0:P[Wl];void 0!==re&&m(!!re),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sd(v){return dp.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return qt()||N()||je()}};class Yl extends class Kl{constructor(g){this.factorId=g}_process(g,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,I);case"signin":return this._finalizeSignIn(g,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Yl(g)}_finalizeEnroll(g,m,I){return function yd(v,g){return Ct(v,"POST","/v2/accounts/mfaEnrollment:finalize",jt(v,g))}(g,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Bl(v,g){return Ct(v,"POST","/v2/accounts/mfaSignIn:finalize",jt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ls=(()=>{class v{constructor(){}static assertion(m){return Yl._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var cs="@firebase/auth";class R0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(I=>{var A;g((null===(A=I)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function mp(v){(0,R._registerComponent)(new ve.wA("auth",(g,{options:m})=>{const I=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:P,authDomain:re}=I.options;return((Re,ot)=>{te(P&&!P.includes(":"),"invalid-api-key",{appName:Re.name}),te(!re?.includes(":"),"argument-error",{appName:Re.name});const xt={apiKey:P,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cn(v)},nn=new es(Re,ot,xt);return function se(v,g){const m=g?.persistence||[],I=(Array.isArray(m)?m:[m]).map(X);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(I,g?.popupRedirectResolver)}(nn,m),nn})(I,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,I)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ve.wA("auth-internal",g=>{const m=_t(g.getProvider("auth").getImmediate());return new R0(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(cs,"0.20.8",function P0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(cs,"0.20.8","esm2017")}("Browser")},2090:(ft,Ne,O)=>{"use strict";O.d(Ne,{$s:()=>xe,BH:()=>Xt,G6:()=>De,L:()=>pe,LL:()=>Bn,Pz:()=>pt,Sg:()=>Ot,UG:()=>Se,US:()=>ve,ZB:()=>G,ZR:()=>rn,aH:()=>Ve,b$:()=>ce,eu:()=>te,hl:()=>We,jU:()=>Je,m9:()=>bt,ne:()=>pn,pd:()=>Kn,r3:()=>Ir,ru:()=>Ee,tV:()=>ye,uI:()=>Ae,vZ:()=>br,w1:()=>Ye,xO:()=>Pn,xb:()=>Ln,z$:()=>Pe,zI:()=>ue,zd:()=>dn});const ne=function($){const j=[];let Y=0;for(let U=0;U<$.length;U++){let S=$.charCodeAt(U);S<128?j[Y++]=S:S<2048?(j[Y++]=S>>6|192,j[Y++]=63&S|128):55296==(64512&S)&&U+1<$.length&&56320==(64512&$.charCodeAt(U+1))?(S=65536+((1023&S)<<10)+(1023&$.charCodeAt(++U)),j[Y++]=S>>18|240,j[Y++]=S>>12&63|128,j[Y++]=S>>6&63|128,j[Y++]=63&S|128):(j[Y++]=S>>12|224,j[Y++]=S>>6&63|128,j[Y++]=63&S|128)}return j},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let S=0;S<$.length;S+=3){const x=$[S],N=S+1<$.length,z=N?$[S+1]:0,me=S+2<$.length,ke=me?$[S+2]:0;let je=(15&z)<<2|ke>>6,yt=63&ke;me||(yt=64,N||(je=64)),U.push(Y[x>>2],Y[(3&x)<<4|z>>4],Y[je],Y[yt])}return U.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ne($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let Y=0,U=0;for(;Y<$.length;){const S=$[Y++];if(S<128)j[U++]=String.fromCharCode(S);else if(S>191&&S<224){const x=$[Y++];j[U++]=String.fromCharCode((31&S)<<6|63&x)}else if(S>239&&S<365){const me=((7&S)<<18|(63&$[Y++])<<12|(63&$[Y++])<<6|63&$[Y++])-65536;j[U++]=String.fromCharCode(55296+(me>>10)),j[U++]=String.fromCharCode(56320+(1023&me))}else{const x=$[Y++],N=$[Y++];j[U++]=String.fromCharCode((15&S)<<12|(63&x)<<6|63&N)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let S=0;S<$.length;){const x=Y[$.charAt(S++)],z=S<$.length?Y[$.charAt(S)]:0;++S;const ke=S<$.length?Y[$.charAt(S)]:64;++S;const oe=S<$.length?Y[$.charAt(S)]:64;if(++S,null==x||null==z||null==ke||null==oe)throw Error();U.push(x<<2|z>>4),64!==ke&&(U.push(z<<4&240|ke>>2),64!==oe&&U.push(ke<<6&192|oe))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},pe=function($){return function($){const j=ne($);return ve.encodeByteArray(j,!0)}($).replace(/\./g,"")},ye=function($){try{return ve.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const Y in j)!j.hasOwnProperty(Y)||!Q(Y)||($[Y]=G($[Y],j[Y]));return $}function Q($){return"__proto__"!==$}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Je(){return"object"==typeof self&&self.self===self}function Ee(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const $=Pe();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function De(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"object"==typeof indexedDB}function te(){return new Promise(($,j)=>{try{let Y=!0;const U="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(U);S.onsuccess=()=>{S.result.close(),Y||self.indexedDB.deleteDatabase(U),$(!0)},S.onupgradeneeded=()=>{Y=!1},S.onerror=()=>{var x;j((null===(x=S.error)||void 0===x?void 0:x.message)||"")}}catch(Y){j(Y)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const $=process.env.__FIREBASE_DEFAULTS__,j=process.env.__FIREBASE_DEFAULTS_PATH__;if($)return j&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse($);if(j)try{return O(9163)(j)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${j}`)}})()||(()=>{if(typeof document>"u")return;const $=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),j=$&&ye($[1]);return j&&JSON.parse(j)})(),Ve=()=>{var $;return null===($=se())||void 0===$?void 0:$.config},pt=$=>{var j;return null===(j=se())||void 0===j?void 0:j[`_${$}`]};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,U)=>{Y?this.reject(Y):this.resolve(U),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,U))}}}function Ot($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=j||"demo-project",S=$.iat||0,x=$.sub||$.user_id;if(!x)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const N=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:S,exp:S+3600,auth_time:S,sub:x,user_id:x,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(N)),""].join(".")}class rn extends Error{constructor(j,Y,U){super(Y),this.code=j,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}}class Bn{constructor(j,Y,U){this.service=j,this.serviceName=Y,this.errors=U}create(j,...Y){const U=Y[0]||{},S=`${this.service}/${j}`,x=this.errors[j],N=x?function cn($,j){return $.replace(en,(Y,U)=>{const S=j[U];return null!=S?String(S):`<${U}?>`})}(x,U):"Error";return new rn(S,`${this.serviceName}: ${N} (${S}).`,U)}}const en=/\{\$([^}]+)}/g;function Ir($,j){return Object.prototype.hasOwnProperty.call($,j)}function Ln($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function br($,j){if($===j)return!0;const Y=Object.keys($),U=Object.keys(j);for(const S of Y){if(!U.includes(S))return!1;const x=$[S],N=j[S];if(et(x)&&et(N)){if(!br(x,N))return!1}else if(x!==N)return!1}for(const S of U)if(!Y.includes(S))return!1;return!0}function et($){return null!==$&&"object"==typeof $}function Pn($){const j=[];for(const[Y,U]of Object.entries($))Array.isArray(U)?U.forEach(S=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(S))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(U));return j.length?"&"+j.join("&"):""}function dn($){const j={};return $.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[S,x]=U.split("=");j[decodeURIComponent(S)]=decodeURIComponent(x)}}),j}function Kn($){const j=$.indexOf("?");if(!j)return"";const Y=$.indexOf("#",j);return $.substring(j,Y>0?Y:void 0)}function pn($,j){const Y=new In($,j);return Y.subscribe.bind(Y)}class In{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(U=>{this.error(U)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,U){let S;if(void 0===j&&void 0===Y&&void 0===U)throw new Error("Missing Observer.");S=function ct($,j){if("object"!=typeof $||null===$)return!1;for(const Y of j)if(Y in $&&"function"==typeof $[Y])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Y,complete:U},void 0===S.next&&(S.next=ut),void 0===S.error&&(S.error=ut),void 0===S.complete&&(S.complete=ut);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch{}}),this.observers.push(S),x}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ut(){}function xe($,j=1e3,Y=2){const U=j*Math.pow(Y,$),S=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+S)}function bt($){return $&&$._delegate?$._delegate:$}},3617:(ft,Ne,O)=>{"use strict";var c=O(4650);let B=null;function R(){return B}const le=new c.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ye(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const q=new c.OlP("Location Initialized");let G=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new G((0,c.LFG)(le))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(st)},providedIn:"root"}),n})();const ce=new c.OlP("appBaseHref");let st=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+Je(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+Je(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ye=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Se(We(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Ae,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Oe(){return new Fe((0,c.LFG)(Ee))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class eu{constructor(){this.$implicit=null,this.ngIf=null}}function pr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ws(n){return"server"===n}let Al=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ad((0,c.LFG)(le),window)}),n})();class ad{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Pr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Di(this.window.history)||Di(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Di(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ga extends class Wf extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){B||(B=n)}(new ga)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Om(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}();return null==t?null:function As(n){zn=zn||document.createElement("a"),zn.setAttribute("href",n);const e=zn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let zn,xo=null;const Zn=new c.OlP("TRANSITION_ID"),Fm=[{provide:c.ip1,useFactory:function km(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Zn,le,c.zs3],multi:!0}];let Vm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fd=new c.OlP("EventManagerPlugins");let Nl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fd),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class lu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let cu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),No=(()=>{class n extends cu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pd))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function pd(n){R().remove(n)}const gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kf=/%COMP%/g;function Rl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Rl(n,i,t):(i=i.replace(Kf,n),t.push(i))}return t}function Pl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _d=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ss(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Yf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new jm(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Rl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nl),c.LFG(No),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ss{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gd[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(hu(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hu(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gd[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gd[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pl(r)):this.eventManager.addEventListener(e,t,Pl(r))}}function hu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yf extends Ss{constructor(e,t,r,i){super(e),this.component=r;const u=Rl(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function du(n){return"_ngcontent-%COMP%".replace(Kf,n)}(i+"-"+r.id),this.hostAttr=function yd(n){return"_nghost-%COMP%".replace(Kf,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class jm extends Ss{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Rl(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ro=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $m=["alt","control","meta","shift"],Ks={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ol=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),$m.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=Ks[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$m.forEach(d=>{d!==i&&(0,wd[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Gm(){ga.makeCurrent()},multi:!0},{provide:le,useFactory:function Id(){return(0,c.RDi)(document),document},deps:[]}]),pu=new c.OlP(""),gu=[{provide:c.rWj,useClass:class Lm{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const f=function(y){d=d||y,u--,0==u&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Fl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Po(){return new c.qLn},deps:[]},{provide:fd,useClass:Ro,multi:!0,deps:[le,c.R0b,c.Lbi]},{provide:fd,useClass:Ol,multi:!0,deps:[le]},{provide:_d,useClass:_d,deps:[Nl,No,c.AFp]},{provide:c.FYo,useExisting:_d},{provide:cu,useExisting:No},{provide:No,useClass:No,deps:[le]},{provide:Nl,useClass:Nl,deps:[fd,c.R0b]},{provide:class Ao{},useClass:Vm,deps:[]},[]];let Oo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Zn,useExisting:c.AFp},Fm]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pu,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Fl,...gu],imports:[fa,c.hGG]}),n})(),Ms=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mu(){return new Ms((0,c.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(Wm),r},providedIn:"root"}),n})(),Wm=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function x0(n){return new Wm(n.get(le))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var Sn=O(8996),Wr=O(9751);const{isArray:ip}=Array,{getPrototypeOf:Km,prototype:Kr,keys:xs}=Object;function Eu(n){if(1===n.length){const e=n[0];if(ip(e))return{args:e,keys:null};if(function Lo(n){return n&&"object"==typeof n&&Km(n)===Kr}(e)){const t=xs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Li=O(8421),Vo=O(7669),ar=O(5403),Vt=O(4004);const{isArray:_a}=Array;function Dd(n){return(0,Vt.U)(e=>function sp(n,e){return _a(e)?n(...e):n(e)}(n,e))}function ri(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ns=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Uo=(()=>{class n extends Ns{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Vi=new c.OlP("NgValueAccessor"),Qm={provide:Vi,useExisting:(0,c.Gpc)(()=>va),multi:!0},Jm=new c.OlP("CompositionEventMode");let va=(()=>{class n extends Ns{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cd(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Jm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Qm]),c.qOj]}),n})();function Ui(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Iu(n){return null!=n&&"number"==typeof n.length}const ur=new c.OlP("NgValidators"),as=new c.OlP("NgAsyncValidators"),Ea=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bo{static min(e){return function Hl(n){return e=>{if(Ui(e.value)||Ui(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function op(n){return e=>{if(Ui(e.value)||Ui(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Gl(n){return Ui(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function jo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Qs(n){return Ui(n.value)||Ea.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ap(n){return e=>Ui(e.value)||!Iu(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tr(n){return e=>Iu(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function bu(n){if(!n)return Du;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ui(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Xs(e)}static composeAsync(e){return eo(e)}}function Du(n){return null}function ql(n){return null!=n}function Js(n){return(0,c.QGY)(n)?(0,Sn.D)(n):n}function up(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lp(n,e){return e.map(t=>t(n))}function zl(n){return n.map(e=>function Ad(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xs(n){if(!n)return null;const e=n.filter(ql);return 0==e.length?null:function(t){return up(lp(t,e))}}function wa(n){return null!=n?Xs(zl(n)):null}function eo(n){if(!n)return null;const e=n.filter(ql);return 0==e.length?null:function(t){return function Td(...n){const e=(0,Vo.jO)(n),{args:t,keys:r}=Eu(n),i=new Wr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const f=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let C=!1;(0,Li.Xf)(t[D]).subscribe((0,ar.x)(u,V=>{C||(C=!0,w--),f[D]=V},()=>y--,void 0,()=>{(!y||!C)&&(w||u.next(r?ri(r,f):f),u.complete())}))}});return e?i.pipe(Dd(e)):i}(lp(t,e).map(Js)).pipe((0,Vt.U)(up))}}function Zl(n){return null!=n?eo(zl(n)):null}function Tu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ia(n){return n._rawValidators}function ba(n){return n._rawAsyncValidators}function Cu(n){return n?Array.isArray(n)?n:[n]:[]}function Au(n,e){return Array.isArray(n)?n.includes(e):n===e}function cp(n,e){const t=Cu(e);return Cu(n).forEach(i=>{Au(t,i)||t.push(i)}),t}function to(n,e){return Cu(e).filter(t=>!Au(n,t))}class no{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wa(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yr extends no{get formDirective(){return null}get path(){return null}}class $o extends no{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hp=(()=>{class n extends Sd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($o,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Md=(()=>{class n extends Sd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const Go="VALID",Su="INVALID",qo="PENDING",ro="DISABLED";function Rs(n){return(Kl(n)?n.validators:n)||null}function Wl(n){return Array.isArray(n)?wa(n):n||null}function kd(n,e){return(Kl(e)?e.asyncValidators:n)||null}function Fd(n){return Array.isArray(n)?Zl(n):n||null}function Kl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Yl(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")}function ls(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})}class cs{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Wl(this._rawValidators),this._composedAsyncValidatorFn=Fd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Go}get invalid(){return this.status===Su}get pending(){return this.status==qo}get disabled(){return this.status===ro}get enabled(){return this.status!==ro}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Wl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Fd(e)}addValidators(e){this.setValidators(cp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(to(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(to(e,this._rawAsyncValidators))}hasValidator(e){return Au(this._rawValidators,e)}hasAsyncValidator(e){return Au(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ro,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Go,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Go||this.status===qo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ro:Go}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator=!0;const t=Js(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ro:this.errors?Su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(Su)?Su:Go}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ta extends cs{constructor(e,t,r){super(Rs(t),kd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ls(this,0,e),Object.keys(e).forEach(r=>{Yl(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mp extends Ta{}function zo(n,e){g(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function I(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P(n,e)})}(n,e),function re(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function A(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jl(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),m(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ld(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g(n,e){const t=Ia(n);null!==e.validator?n.setValidators(Tu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ba(n);null!==e.asyncValidator?n.setAsyncValidators(Tu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i)}function m(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Ia(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=ba(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r),t}function P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Nu(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ru=class extends cs{constructor(e=null,t,r){super(Rs(t),kd(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Nu(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Nu(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const uy=new c.OlP("NgModelWithFormControlWarning"),j0={provide:Yr,useExisting:(0,c.Gpc)(()=>io)};let io=(()=>{class n extends Yr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return zo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jl(t.control||null,t,!1),function yp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Xl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Jl(r||null,t),(n=>n instanceof Ru)(i)&&(zo(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Re(n,e){g(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ot(n,e){return m(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g(this.form,this),this._oldForm&&m(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ur,10),c.Y36(as,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([j0]),c.qOj,c.TTD]}),n})();const wp={provide:$o,useExisting:(0,c.Gpc)(()=>Ko)};let Ko=(()=>{class n extends $o{constructor(t,r,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Mu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===va?t=u:function Vd(n){return Object.getPrototypeOf(n.constructor)===Uo}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ps(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ql(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Yr,13),c.Y36(ur,10),c.Y36(as,10),c.Y36(Vi,10),c.Y36(uy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([wp]),c.qOj,c.TTD]}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[U0]}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[PD]}),n})(),Dp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[PD]}),n})();class OD extends cs{constructor(e,t,r){super(Rs(t),kd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ls(this,0,e),e.forEach((r,i)=>{Yl(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function kD(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return kD(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ta(i,u)}record(t,r=null){const i=this._reduceControls(t);return new mp(i,r)}control(t,r,i){let u={};return this.useNonNullable?(kD(r)?u=r:(u.validators=r,u.asyncValidators=i),new Ru(t,{...u,nonNullable:!0})):new Ru(t,r,i)}array(t,r,i){const u=t.map(d=>this._createControl(d));return new OD(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ru||t instanceof cs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Dp}),n})();class _y{}const so="*";function vy(n,e){return{type:7,name:n,definitions:e,options:{}}}function X0(n,e=null){return{type:4,styles:e,timings:n}}function ic(n,e=null){return{type:2,steps:n,options:e}}function jd(n){return{type:6,styles:n,offset:null}}function Ey(n,e,t){return{type:0,name:n,styles:e,options:t}}function wy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function nE(n){Promise.resolve().then(n)}class $d{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?nE(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function iE(n){return new c.vHH(3e3,!1)}function Cy(){return typeof window<"u"&&typeof window.document<"u"}function Gd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qo(n){switch(n.length){case 0:return new $d;case 1:return n[0];default:return new rE(n)}}function QD(n,e,t,r,i=new Map,u=new Map){const d=[],f=[];let y=-1,w=null;if(r.forEach(D=>{const C=D.get("offset"),V=C==y,H=V&&w||new Map;D.forEach((Z,ae)=>{let be=ae,tt=Z;if("offset"!==ae)switch(be=e.normalizePropertyName(be,d),tt){case"!":tt=i.get(ae);break;case so:tt=u.get(ae);break;default:tt=e.normalizeStyleValue(ae,be,tt,d)}H.set(be,tt)}),V||f.push(H),w=H,y=C}),d.length)throw function _x(n){return new c.vHH(3502,!1)}();return f}function Ca(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&qd(t,"start",n)));break;case"done":n.onDone(()=>r(t&&qd(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&qd(t,"destroy",n)))}}function qd(n,e,t){const u=Ap(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function Ap(n,e,t,r,i="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!d}}function ji(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Sp(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ay=(n,e)=>!1,hE=(n,e,t)=>[],fE=null;function Sy(n){const e=n.parentNode||n.host;return e===fE?null:e}(Gd()||typeof Element<"u")&&(Cy()?(fE=(()=>document.documentElement)(),Ay=(n,e)=>{for(;e;){if(e===n)return!0;e=Sy(e)}return!1}):Ay=(n,e)=>n.contains(e),hE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Aa=null,Mp=!1;const mE=Ay,My=hE;let Sa=(()=>{class n{validateStyleProperty(t){return function pE(n){Aa||(Aa=function XD(){return typeof document<"u"?document.body:null}()||{},Mp=!!Aa.style&&"WebkitAppearance"in Aa.style);let e=!0;return Aa.style&&!function JD(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Aa.style,!e&&Mp&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Aa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return mE(t,r)}getParentElement(t){return Sy(t)}query(t,r,i){return My(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,d,f=[],y){return new $d(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xp=(()=>{class n{}return n.NOOP=new Sa,n})();const oc="ng-enter",Np="ng-leave",zd="ng-trigger",Zd=".ng-trigger",xy="ng-animating",Wd=".ng-animating";function ao(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ac(parseFloat(e[1]),e[2])}function ac(n,e){return"s"===e?1e3*n:n}function ku(n,e,t){return n.hasOwnProperty("duration")?n:function vE(n,e,t){let i,u=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(iE()),{duration:0,delay:0,easing:""};i=ac(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=ac(parseFloat(y),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function yi(){return new c.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function Iy(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,iE())}return{duration:i,delay:u,easing:d}}(n,e,t)}function Fu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ny(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ma(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Py(n,e,t){return t?e+":"+t+";":""}function EE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Py(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Py(0,Os(t),n.style[t]));n.setAttribute("style",e)}function uo(n,e,t){n.style&&(e.forEach((r,i)=>{const u=ky(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),Gd()&&EE(n))}function xa(n,e){n.style&&(e.forEach((t,r)=>{const i=ky(r);n.style[i]=""}),Gd()&&EE(n))}function Lu(n){return Array.isArray(n)?1==n.length?n[0]:ic(n):n}const IE=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oy(n){let e=[];if("string"==typeof n){let t;for(;t=IE.exec(n);)e.push(t[1]);IE.lastIndex=0}return e}function Kd(n,e,t){const r=n.toString(),i=r.replace(IE,(u,d)=>{let f=e[d];return null==f&&(t.push(function by(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Yd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tT=/-+([a-z0-9])/g;function ky(n){return n.replace(tT,(...e)=>e[1].toUpperCase())}function Os(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $i(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ii(n){return new c.vHH(3004,!1)}()}}function DE(n,e){return window.getComputedStyle(n)[e]}function CE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function AE(n,e,t){if(":"==n[0]){const y=function sT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function sc(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function GD(n){return new c.vHH(3015,!1)}()),e;const i=r[1],u=r[2],d=r[3];e.push(SE(i,d));"<"==u[0]&&!("*"==i&&"*"==d)&&e.push(SE(d,i))}(r,t,e)):t.push(n),t}const Op=new Set(["true","1"]),Jd=new Set(["false","0"]);function SE(n,e){const t=Op.has(n)||Jd.has(n),r=Op.has(e)||Jd.has(e);return(i,u)=>{let d="*"==n||n==i,f="*"==e||e==u;return!d&&t&&"boolean"==typeof i&&(d=i?Op.has(n):Jd.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?Op.has(e):Jd.has(e)),d&&f}}const oT=new RegExp("s*:selfs*,?","g");function Ly(n,e,t,r){return new ME(n).build(e,t,r)}class ME{constructor(e){this._driver=e}build(e,t,r){const i=new uT(t);return this._resetContextStyleTimingState(i),$i(this,Lu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function oE(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,u.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function LD(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{Oy(y).forEach(w=>{d.hasOwnProperty(w)||u.add(w)})})}),u.size&&(Yd(u.values()),t.errors.push(function VD(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$i(this,Lu(e.animation),t);return{type:1,matchers:CE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$i(this,r,t)),options:Uu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(d=>{t.currentTime=r;const f=$i(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Uu(e.options)}}visitAnimate(e,t){const r=function Uy(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NE(ku(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=NE(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=ku(t,e);return NE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:jd({});if(5==u.type)i=this.visitKeyframes(u,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=jd(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===so?r.push(f):t.errors.push(new c.vHH(3002,!1)):r.push(Ny(f));let u=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!u))for(let y of f.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let C=!0;D&&(u!=i&&u>=D.startTime&&i<=D.endTime&&(t.errors.push(function uE(n,e,t,r,i){return new c.vHH(3010,!1)}()),C=!1),u=D.startTime),C&&w.set(y,{startTime:u,endTime:i}),t.options&&function wE(n,e,t){const r=e.params||{},i=Oy(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function sE(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function UD(){return new c.vHH(3011,!1)}()),r;let u=0;const d=[];let f=!1,y=!1,w=0;const D=e.steps.map(tt=>{const at=this._makeStyleAst(tt,t);let Nt=null!=at.offset?at.offset:function Vy(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),wt=0;return null!=Nt&&(u++,wt=at.offset=Nt),y=y||wt<0||wt>1,f=f||wt<w,w=wt,d.push(wt),at});y&&t.errors.push(function lE(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function BD(){return new c.vHH(3200,!1)}());const C=e.steps.length;let V=0;u>0&&u<C?t.errors.push(function jD(){return new c.vHH(3202,!1)}()):0==u&&(V=1/(C-1));const H=C-1,Z=t.currentTime,ae=t.currentAnimateTimings,be=ae.duration;return D.forEach((tt,at)=>{const Nt=V>0?at==H?1:V*at:d[at],wt=Nt*be;t.currentTime=Z+ae.delay+wt,ae.duration=wt,this._validateStyleAst(tt,t),tt.offset=Nt,r.styles.push(tt)}),r}visitReference(e,t){return{type:8,animation:$i(this,Lu(e.animation),t),options:Uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Uu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function xE(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oT,"")),n=n.replace(/@\*/g,Zd).replace(/@\w+/g,t=>Zd+"-"+t.slice(1)).replace(/:animating/g,Wd),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,ji(t.collectedStyles,t.currentQuerySelector,new Map);const f=$i(this,Lu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $D(){return new c.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ku(e.timings,t.errors,!0);return{type:12,animation:$i(this,Lu(e.animation),t),timings:r,options:null}}}class uT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uu(n){return n?(n=Fu(n)).params&&(n.params=function Vu(n){return n?Fu(n):null}(n.params)):n={},n}function NE(n,e,t){return{duration:n,delay:e,easing:t}}function RE(n,e,t,r,i,u,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:d,subTimeline:f}}class By{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dx=new RegExp(":enter","g"),lc=new RegExp(":leave","g");function jy(n,e,t,r,i,u=new Map,d=new Map,f,y,w=[]){return(new OE).buildKeyframes(n,e,t,r,i,u,d,f,y,w)}class OE{buildKeyframes(e,t,r,i,u,d,f,y,w,D=[]){w=w||new By;const C=new $y(e,t,w,i,u,D,[]);C.options=y;const V=y.delay?ao(y.delay):0;C.currentTimeline.delayNextStep(V),C.currentTimeline.setStyles([d],null,C.errors,y),$i(this,r,C);const H=C.timelines.filter(Z=>Z.containsAnimation());if(H.length&&f.size){let Z;for(let ae=H.length-1;ae>=0;ae--){const be=H[ae];if(be.element===t){Z=be;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,C.errors,y)}return H.length?H.map(Z=>Z.buildKeyframes()):[RE(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const d="number"==typeof u?u:ao(Kd(u,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?ao(r.duration):null,f=null!=r.delay?ao(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,f);u=Math.max(u,w.duration+w.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),$i(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bu);const d=ao(u.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>$i(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?ao(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),$i(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ku(t.params?Kd(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?ao(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bu);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const C=t.createSubContext(e.options,w);u&&C.delayNextStep(u),w===t.element&&(y=C.currentTimeline),$i(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const C=D.currentTime;$i(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const Bu={};class $y{constructor(e,t,r,i,u,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Xd(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ao(r.duration)),null!=r.delay&&(i.delay=ao(r.delay));const u=r.params;if(u){let d=i.params;d||(d=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=Kd(u[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new $y(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Bu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new dT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Dx,"."+this._enterClassName)).replace(lc,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!u&&0==f.length&&d.push(function HD(n){return new c.vHH(3014,!1)}()),f}}class Xd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||so),this._currentKeyframe.set(t,so);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},d=function hT(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,so)}else Ma(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const w=Kd(y,u,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??so),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=Ma(f,new Map,this._backFill);w.forEach((D,C)=>{"!"===D?e.add(C):D===so&&t.add(C)}),r||w.set("offset",y/this.duration),i.push(w)});const u=e.size?Yd(e.values()):[],d=t.size?Yd(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return RE(this.element,i,u,d,this.duration,this.startTime,this.easing,!1)}}class dT extends Xd{constructor(e,t,r,i,u,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,f=t/d,y=Ma(e[0]);y.set("offset",0),u.push(y);const w=Ma(e[0]);w.set("offset",kE(f)),u.push(w);const D=e.length-1;for(let C=1;C<=D;C++){let V=Ma(e[C]);const H=V.get("offset");V.set("offset",kE((t+H*r)/d)),u.push(V)}r=d,t=0,i="",e=u}return RE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function kE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hy{}const pT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class FE extends Hy{normalizePropertyName(e,t){return ky(e)}normalizeStyleValue(e,t,r,i){let u="";const d=r.toString().trim();if(pT.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Hd(n,e){return new c.vHH(3005,!1)}())}return d+u}}function Gy(n,e,t,r,i,u,d,f,y,w,D,C,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:C,errors:V}}const eh={};class gT{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function mT(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,d,f,y,w,D){const C=[],V=this.ast.options&&this.ast.options.params||eh,Z=this.buildStyles(r,f&&f.params||eh,C),ae=y&&y.params||eh,be=this.buildStyles(i,ae,C),tt=new Set,at=new Map,Nt=new Map,wt="void"===i,Bt={params:Cx(ae,V),delay:this.ast.options?.delay},Zt=D?[]:jy(e,t,this.ast.animation,u,d,Z,be,Bt,w,C);let wn=0;if(Zt.forEach(Il=>{wn=Math.max(Il.duration+Il.delay,wn)}),C.length)return Gy(t,this._triggerName,r,i,wt,Z,be,[],[],at,Nt,wn,C);Zt.forEach(Il=>{const bl=Il.element,KP=ji(at,bl,new Set);Il.preStyleProps.forEach(Vf=>KP.add(Vf));const C0=ji(Nt,bl,new Set);Il.postStyleProps.forEach(Vf=>C0.add(Vf)),bl!==t&&tt.add(bl)});const Xi=Yd(tt.values());return Gy(t,this._triggerName,r,i,wt,Z,be,Zt,Xi,at,Nt,wn)}}function Cx(n,e){const t=Fu(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class cc{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Fu(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!==d&&(i[u]=d)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((d,f)=>{d&&(d=Kd(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(y,d)})}),r}}class UE{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new cc(i.style,i.options&&i.options.params||{},r))}),ds(this.states,"true","1"),ds(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new gT(e,i,this.states))}),this.fallbackTransition=function kp(n,e,t){return new gT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ds(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const BE=new By;class yT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=Ly(this._driver,t,r,[]);if(r.length)throw function vx(n){return new c.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=QD(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let d;const f=new Map;if(u?(d=jy(this._driver,t,u,oc,Np,new Map,new Map,r,BE,i),d.forEach(D=>{const C=ji(f,D.element,new Map);D.postStyleProps.forEach(V=>C.set(V,null))})):(i.push(function cE(){return new c.vHH(3300,!1)}()),d=[]),i.length)throw function Ex(n){return new c.vHH(3504,!1)}();f.forEach((D,C)=>{D.forEach((V,H)=>{D.set(H,this._driver.computeStyle(C,H,so))})});const w=Qo(d.map(D=>{const C=f.get(D.element);return this._buildPlayer(D,new Map,C)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function oo(n){return new c.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=Ap(t,"","","");return Ca(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Fp="ng-animate-queued",th="ng-animate-disabled",$E=[],_T={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_i="__ng_removed";class nh{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function wT(n){return n??null}(r?e.value:e),r){const u=Fu(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ju="void",rh=new nh(ju);class Sx{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Hi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Dy(n,e){return new c.vHH(3302,!1)}();if(null==r||0==r.length)throw function Ty(n){return new c.vHH(3303,!1)}();if(!function Mx(n){return"start"==n||"done"==n}(r))throw function ZD(n,e){return new c.vHH(3400,!1)}();const u=ji(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};u.push(d);const f=ji(this._engine.statesByElement,e,new Map);return f.has(t)||(Hi(e,zd),Hi(e,zd+"-"+t),f.set(t,rh)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function dE(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),d=new zy(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Hi(e,zd),Hi(e,zd+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new nh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=rh),w.value!==ju&&y.value===w.value){if(!function Nx(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,w.params)){const ae=[],be=u.matchStyles(y.value,y.params,ae),tt=u.matchStyles(w.value,w.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{xa(e,be),uo(e,tt)})}return}const V=ji(this._engine.playersByElement,e,[]);V.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let H=u.matchTransition(y.value,w.value,e,w.params),Z=!1;if(!H){if(!i)return;H=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:w,player:d,isFallbackTransition:Z}),Z||(Hi(e,Fp),d.onStart(()=>{dc(e,Fp)})),d.onDone(()=>{let ae=this.players.indexOf(d);ae>=0&&this.players.splice(ae,1);const be=this._engine.playersByElement.get(e);if(be){let tt=be.indexOf(d);tt>=0&&be.splice(tt,1)}}),this.players.push(d),V.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zd,!0);r.forEach(i=>{if(i[_i])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const f=[];if(u.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,ju,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Qo(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const d=u.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||rh,D=new nh(ju),C=new zy(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:D,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[_i];(!u||u===_T)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Hi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=Ap(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Ca(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class vT{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Sx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(ih(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ih(t))return;const u=t[_i];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Hi(e,th)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dc(e,th))}removeNode(e,t,r,i){if(ih(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[_i]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return ih(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Zd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Wd,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[_i];if(t&&t.setForRemoval){if(e[_i]=_T,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(th)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Hi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function WD(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new By,i=[],u=new Map,d=[],f=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(It=>{D.add(It);const Ft=this.driver.query(It,".ng-animate-queued",!0);for(let Wt=0;Wt<Ft.length;Wt++)D.add(Ft[Wt])});const C=this.bodyNode,V=Array.from(this.statesByElement.keys()),H=Zy(V,this.collectedEnterElements),Z=new Map;let ae=0;H.forEach((It,Ft)=>{const Wt=oc+ae++;Z.set(Ft,Wt),It.forEach(Mn=>Hi(Mn,Wt))});const be=[],tt=new Set,at=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Ft=this.collectedLeaveElements[It],Wt=Ft[_i];Wt&&Wt.setForRemoval&&(be.push(Ft),tt.add(Ft),Wt.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Mn=>tt.add(Mn)):at.add(Ft))}const Nt=new Map,wt=Zy(V,Array.from(tt));wt.forEach((It,Ft)=>{const Wt=Np+ae++;Nt.set(Ft,Wt),It.forEach(Mn=>Hi(Mn,Wt))}),e.push(()=>{H.forEach((It,Ft)=>{const Wt=Z.get(Ft);It.forEach(Mn=>dc(Mn,Wt))}),wt.forEach((It,Ft)=>{const Wt=Nt.get(Ft);It.forEach(Mn=>dc(Mn,Wt))}),be.forEach(It=>{this.processLeaveNode(It)})});const Bt=[],Zt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(Wt=>{const Mn=Wt.player,fi=Wt.element;if(Bt.push(Mn),this.collectedEnterElements.length){const xi=fi[_i];if(xi&&xi.setForMove){if(xi.previousTriggersValues&&xi.previousTriggersValues.has(Wt.triggerName)){const Uf=xi.previousTriggersValues.get(Wt.triggerName),wo=this.statesByElement.get(Wt.element);if(wo&&wo.has(Wt.triggerName)){const lD=wo.get(Wt.triggerName);lD.value=Uf,wo.set(Wt.triggerName,lD)}}return void Mn.destroy()}}const Xa=!C||!this.driver.containsElement(C,fi),$s=Nt.get(fi),nd=Z.get(fi),wr=this._buildInstruction(Wt,r,nd,$s,Xa);if(wr.errors&&wr.errors.length)return void Zt.push(wr);if(Xa)return Mn.onStart(()=>xa(fi,wr.fromStyles)),Mn.onDestroy(()=>uo(fi,wr.toStyles)),void i.push(Mn);if(Wt.isFallbackTransition)return Mn.onStart(()=>xa(fi,wr.fromStyles)),Mn.onDestroy(()=>uo(fi,wr.toStyles)),void i.push(Mn);const JP=[];wr.timelines.forEach(xi=>{xi.stretchStartingKeyframe=!0,this.disabledNodes.has(xi.element)||JP.push(xi)}),wr.timelines=JP,r.append(fi,wr.timelines),d.push({instruction:wr,player:Mn,element:fi}),wr.queriedElements.forEach(xi=>ji(f,xi,[]).push(Mn)),wr.preStyleProps.forEach((xi,Uf)=>{if(xi.size){let wo=y.get(Uf);wo||y.set(Uf,wo=new Set),xi.forEach((lD,tx)=>wo.add(tx))}}),wr.postStyleProps.forEach((xi,Uf)=>{let wo=w.get(Uf);wo||w.set(Uf,wo=new Set),xi.forEach((lD,tx)=>wo.add(tx))})});if(Zt.length){const It=[];Zt.forEach(Ft=>{It.push(function KD(n,e){return new c.vHH(3505,!1)}())}),Bt.forEach(Ft=>Ft.destroy()),this.reportError(It)}const wn=new Map,Xi=new Map;d.forEach(It=>{const Ft=It.element;r.has(Ft)&&(Xi.set(Ft,Ft),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,wn))}),i.forEach(It=>{const Ft=It.element;this._getPreviousPlayers(Ft,!1,It.namespaceId,It.triggerName,null).forEach(Mn=>{ji(wn,Ft,[]).push(Mn),Mn.destroy()})});const Il=be.filter(It=>DT(It,y,w)),bl=new Map;IT(bl,this.driver,at,w,so).forEach(It=>{DT(It,y,w)&&Il.push(It)});const C0=new Map;H.forEach((It,Ft)=>{IT(C0,this.driver,new Set(It),y,"!")}),Il.forEach(It=>{const Ft=bl.get(It),Wt=C0.get(It);bl.set(It,new Map([...Array.from(Ft?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const Vf=[],YP=[],QP={};d.forEach(It=>{const{element:Ft,player:Wt,instruction:Mn}=It;if(r.has(Ft)){if(D.has(Ft))return Wt.onDestroy(()=>uo(Ft,Mn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Mn.totalTime),void i.push(Wt);let fi=QP;if(Xi.size>1){let $s=Ft;const nd=[];for(;$s=$s.parentNode;){const wr=Xi.get($s);if(wr){fi=wr;break}nd.push($s)}nd.forEach(wr=>Xi.set(wr,fi))}const Xa=this._buildAnimation(Wt.namespaceId,Mn,wn,u,C0,bl);if(Wt.setRealPlayer(Xa),fi===QP)Vf.push(Wt);else{const $s=this.playersByElement.get(fi);$s&&$s.length&&(Wt.parentPlayer=Qo($s)),i.push(Wt)}}else xa(Ft,Mn.fromStyles),Wt.onDestroy(()=>uo(Ft,Mn.toStyles)),YP.push(Wt),D.has(Ft)&&i.push(Wt)}),YP.forEach(It=>{const Ft=u.get(It.element);if(Ft&&Ft.length){const Wt=Qo(Ft);It.setRealPlayer(Wt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<be.length;It++){const Ft=be[It],Wt=Ft[_i];if(dc(Ft,Np),Wt&&Wt.hasAnimation)continue;let Mn=[];if(f.size){let Xa=f.get(Ft);Xa&&Xa.length&&Mn.push(...Xa);let $s=this.driver.query(Ft,Wd,!0);for(let nd=0;nd<$s.length;nd++){let wr=f.get($s[nd]);wr&&wr.length&&Mn.push(...wr)}}const fi=Mn.filter(Xa=>!Xa.destroyed);fi.length?Wy(this,Ft,fi):this.processLeaveNode(Ft)}return be.length=0,Vf.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Ft=this.players.indexOf(It);this.players.splice(Ft,1)}),It.play()}),Vf}elementContainsData(e,t){let r=!1;const i=t[_i];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==ju;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==u,C=ji(r,w,[]);this._getPreviousPlayers(w,D,d,f,t.toState).forEach(H=>{const Z=H.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),H.destroy(),C.push(H)})}xa(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,d){const f=t.triggerName,y=t.element,w=[],D=new Set,C=new Set,V=t.timelines.map(Z=>{const ae=Z.element;D.add(ae);const be=ae[_i];if(be&&be.removedBeforeQueried)return new $d(Z.duration,Z.delay);const tt=ae!==y,at=function xx(n){const e=[];return bT(n,e),e}((r.get(ae)||$E).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===ae),Nt=u.get(ae),wt=d.get(ae),Bt=QD(0,this._normalizer,0,Z.keyframes,Nt,wt),Zt=this._buildPlayer(Z,Bt,at);if(Z.subTimeline&&i&&C.add(ae),tt){const wn=new zy(e,f,ae);wn.setRealPlayer(Zt),w.push(wn)}return Zt});w.forEach(Z=>{ji(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function ET(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),D.forEach(Z=>Hi(Z,xy));const H=Qo(V);return H.onDestroy(()=>{D.forEach(Z=>dc(Z,xy)),uo(y,t.toStyles)}),C.forEach(Z=>{ji(i,Z,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $d(e.duration,e.delay)}}class zy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $d,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ca(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ih(n){return n&&1===n.nodeType}function HE(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IT(n,e,t,r,i){const u=[];t.forEach(y=>u.push(HE(y)));const d=[];r.forEach((y,w)=>{const D=new Map;y.forEach(C=>{const V=e.computeStyle(w,C,i);D.set(C,V),(!V||0==V.length)&&(w[_i]=Lp,d.push(w))}),n.set(w,D)});let f=0;return t.forEach(y=>HE(y,u[f++])),d}function Zy(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function d(f){if(!f)return 1;let y=u.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),u.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Hi(n,e){n.classList?.add(e)}function dc(n,e){n.classList?.remove(e)}function Wy(n,e,t){Qo(t).onDone(()=>n.processLeaveNode(e))}function bT(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof rE?bT(r.players,e):e.push(r)}}function DT(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class Ky{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new vT(e,t,r),this._timelineEngine=new yT(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],D=Ly(this._driver,u,y,[]);if(y.length)throw function zD(n,e){return new c.vHH(3404,!1)}();f=function VE(n,e,t){return new UE(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,d]=Sp(r);this._timelineEngine.command(u,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[d,f]=Sp(r);return this._timelineEngine.listen(d,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Px=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&uo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uo(this._element,this._initialStyles),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),uo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function GE(n){let e=null;return n.forEach((t,r)=>{(function Ox(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class TT{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:DE(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Na{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return mE(e,t)}getParentElement(e){return Sy(e)}query(e,t,r){return My(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const w=new Map,D=d.filter(H=>H instanceof TT);(function nT(n,e){return 0===n||0===e})(r,i)&&D.forEach(H=>{H.currentSnapshot.forEach((Z,ae)=>w.set(ae,Z))});let C=function Ry(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ny(e)):[]}(t).map(H=>Ma(H));C=function bE(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,d)=>{r.has(d)||i.push(d),r.set(d,u)}),i.length)for(let u=1;u<e.length;u++){let d=e[u];i.forEach(f=>d.set(f,DE(n,f)))}}return e}(e,C,w);const V=function Rx(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=GE(e[0]),e.length>1&&(r=GE(e[e.length-1]))):e instanceof Map&&(t=GE(e)),t||r?new Px(n,t,r):null}(e,C);return new TT(e,C,y,V)}}let Yy=(()=>{class n extends _y{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ic(t):t;return Vp(this._renderer,null,r,"register",[i]),new CT(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class CT extends class J0{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qE(this._id,e,t||{},this._renderer)}}class qE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Vp(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vp(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Up="@.disabled";let AT=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const f=d?.parentNode(u);f&&d.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(u);return D||(D=new Xo("",u,this.engine),this._rendererCache.set(u,D)),D}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(d,f,t,D.name,D)};return r.data.animation.forEach(y),new zE(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,f]=u;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Ky),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Up?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zE extends Xo{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Up?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function ST(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),d="";return"@"!=u.charAt(0)&&([u,d]=function MT(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let ZE=(()=>{class n extends Ky{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le),c.LFG(xp),c.LFG(Hy),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=[{provide:_y,useClass:Yy},{provide:Hy,useFactory:function xT(){return new FE}},{provide:Ky,useClass:ZE},{provide:c.FYo,useFactory:function NT(n,e,t){return new AT(n,e,t)},deps:[_d,Ky,c.R0b]}],Ra=[{provide:xp,useFactory:()=>new Na},{provide:c.QbO,useValue:"BrowserAnimations"},...oh],Bp=[{provide:xp,useClass:Sa},{provide:c.QbO,useValue:"NoopAnimations"},...oh];let hc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Bp:Ra}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ra,imports:[Oo]}),n})();function vt(...n){const e=(0,Vo.yG)(n);return(0,Sn.D)(n,e)}var Or=O(7579);class Gi extends Or.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const fc=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ah=O(4671),kx=O(9672);function YE(...n){const e=(0,Vo.yG)(n),t=(0,Vo.jO)(n),{args:r,keys:i}=Eu(n);if(0===r.length)return(0,Sn.D)([],e);const u=new Wr.y(function QE(n,e,t=ah.y){return r=>{JE(e,()=>{const{length:i}=n,u=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)JE(e,()=>{const w=(0,Sn.D)(n[y],e);let D=!1;w.subscribe((0,ar.x)(r,C=>{u[y]=C,D||(D=!0,f--),f||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>ri(i,d):ah.y));return t?u.pipe(Dd(t)):u}function JE(n,e,t){n?(0,kx.f)(t,n,e):e()}var pc=O(8189);function Jy(...n){return function XE(){return(0,pc.J)(1)}()((0,Sn.D)(n,(0,Vo.yG)(n)))}function Ci(n){return new Wr.y(e=>{(0,Li.Xf)(n()).subscribe(e)})}var ew=O(9635),Xy=O(576);function jp(n,e){const t=(0,Xy.m)(n)?n:()=>n,r=i=>i.error(t());return new Wr.y(e?i=>e.schedule(r,0,i):r)}var $u=O(515),$p=O(727),Qr=O(4482);function e_(){return(0,Qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ar.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tw extends Wr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $p.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ar.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$p.w0.EMPTY)}return e}refCount(){return e_()(this)}}function Sr(n,e){return(0,Qr.e)((t,r)=>{let i=null,u=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,ar.x)(r,y=>{i?.unsubscribe();let w=0;const D=u++;(0,Li.Xf)(n(y,D)).subscribe(i=(0,ar.x)(r,C=>r.next(e?e(y,C,D,w++):C),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function gc(n){return n<=0?()=>$u.E:(0,Qr.e)((e,t)=>{let r=0;e.subscribe((0,ar.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uh(...n){const e=(0,Vo.yG)(n);return(0,Qr.e)((t,r)=>{(e?Jy(n,t,e):Jy(n,t)).subscribe(r)})}function Ai(n,e){return(0,Qr.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var si=O(5577);function Hp(n){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function t_(n=nw){return(0,Qr.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nw(){return new fc}function ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,u)=>n(i,u,r)):ah.y,gc(1),t?Hp(e):t_(()=>new fc))}function oi(n,e){return(0,Xy.m)(e)?(0,si.z)(n,e,1):(0,si.z)(n,1)}var jr=O(8505);function Pa(n){return(0,Qr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ar.x)(t,void 0,void 0,d=>{u=(0,Li.Xf)(n(d,Pa(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function PT(n,e,t,r,i){return(u,d)=>{let f=t,y=e,w=0;u.subscribe((0,ar.x)(d,D=>{const C=w++;y=f?n(y,D,C):(f=!0,D),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function Gp(n,e){return(0,Qr.e)(PT(n,e,arguments.length>=2,!0))}function qp(n){return n<=0?()=>$u.E:(0,Qr.e)((e,t)=>{let r=[];e.subscribe((0,ar.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((i,u)=>n(i,u,r)):ah.y,qp(1),t?Hp(e):t_(()=>new fc))}function lh(n){return(0,Qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const an="primary",ch=Symbol("RouteTitle");class zp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Oa(n){return new zp(n)}function Zp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],f=n[u];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!FT(n[i],e[i]))return!1;return!0}function FT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function n_(n){return Array.prototype.concat.apply([],n)}function r_(n){return n.length>0?n[n.length-1]:null}function $r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function lo(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):vt(n)}const Kp={exact:function s_(n,e,t){if(!Hu(n.segments,e.segments)||!Yp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!s_(n.children[r],e.children[r],t))return!1;return!0},subset:sw},mc={exact:function i_(n,e){return hs(n,e)},subset:function VT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FT(n[t],e[t]))},ignored:()=>!0};function iw(n,e,t){return Kp[t.paths](n.root,e.root,t.matrixParams)&&mc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sw(n,e,t){return yc(n,e,e.segments,t)}function yc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Hu(i,t)||e.hasChildren()||!Yp(i,t,r))}if(n.segments.length===t.length){if(!Hu(n.segments,t)||!Yp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Hu(n.segments,i)&&Yp(n.segments,i,r)&&n.children[an])&&yc(n.children[an],e,u,r)}}function Yp(n,e,t){return e.every((r,i)=>mc[t](n[i].parameters,r.parameters))}class _c{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return jT.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$r(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vc(this)}}class Qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return ka(this)}}function Hu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let o_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new dh},providedIn:"root"}),n})();class dh{parse(e){const t=new ai(e);return new _c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hh(e.root,!0)}`,r=function ph(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Jp(t)}=${Jp(i)}`).join("&"):`${Jp(t)}=${Jp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $T(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jT=new dh;function vc(n){return n.segments.map(e=>ka(e)).join("/")}function hh(n,e){if(!n.hasChildren())return vc(n);if(e){const t=n.children[an]?hh(n.children[an],!1):"",r=[];return $r(n.children,(i,u)=>{u!==an&&r.push(`${u}:${hh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function BT(n,e){let t=[];return $r(n.children,(r,i)=>{i===an&&(t=t.concat(e(r,i)))}),$r(n.children,(r,i)=>{i!==an&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===an?[hh(n.children[an],!1)]:[`${i}:${hh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${vc(n)}/${t[0]}`:`${vc(n)}/(${t.join("//")})`}}function ow(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jp(n){return ow(n).replace(/%3B/gi,";")}function a_(n){return ow(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xp(n){return decodeURIComponent(n)}function fh(n){return Xp(n.replace(/\+/g,"%20"))}function ka(n){return`${a_(n.path)}${function Lx(n){return Object.keys(n).map(e=>`;${a_(e)}=${a_(n[e])}`).join("")}(n.parameters)}`}const HT=/^[^\/()?;=#]+/;function eg(n){const e=n.match(HT);return e?e[0]:""}const u_=/^[^=?&#]+/,co=/^[^&#]+/;class ai{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[an]=new ln(e,t)),r}parseSegment(){const e=eg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Qp(Xp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eg(this.remaining);i&&(r=i,this.capture(r))}e[Xp(t)]=Xp(r)}parseQueryParam(e){const t=function GT(n){const e=n.match(u_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function gh(n){const e=n.match(co);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=fh(t),u=fh(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=an);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[an]:new ln([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function ta(n){return n.segments.length>0?new ln([],{[an]:n}):n}function Gu(n){const e={};for(const r of Object.keys(n.children)){const u=Gu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fs(n){if(1===n.numberOfChildren&&n.children[an]){const e=n.children[an];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}function na(n){return n instanceof _c}function Ic(n,e,t,r,i){if(0===t.length)return Fs(e.root,e.root,e.root,r,i);const u=function c_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new l_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return $r(u.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new l_(t,e,r)}(t);return u.toRoot()?Fs(e.root,e.root,new ln([],{}),r,i):function d(y){const w=function uw(n,e,t,r){if(n.isAbsolute)return new zu(e.root,!0,0);if(-1===r)return new zu(t,t===e.root,0);return function d_(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new zu(r,!1,i-u)}(t,r+(ho(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),D=w.processChildren?bc(w.segmentGroup,w.index,u.commands):tg(w.segmentGroup,w.index,u.commands);return Fs(e.root,w.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function ho(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fo(n){return"object"==typeof n&&null!=n&&n.outlets}function Fs(n,e,t,r,i){let d,u={};r&&$r(r,(y,w)=>{u[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=n===e?t:qu(n,e,t);const f=ta(Gu(d));return new _c(f,u,i)}function qu(n,e,t){const r={};return $r(n.children,(i,u)=>{r[u]=i===e?t:qu(i,e,t)}),new ln(n.segments,r)}class l_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ho(r[0]))throw new c.vHH(4003,!1);const i=r.find(fo);if(i&&i!==r_(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tg(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return bc(n,e,t);const r=function qT(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],f=t[r];if(fo(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!hw(y,w,d))return u;r+=2}else{if(!hw(y,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ln(n.segments.slice(0,r.pathIndex),{});return u.children[an]=new ln(n.segments.slice(r.pathIndex),n.children),bc(u,0,i)}return r.match&&0===i.length?new ln(n.segments,{}):r.match&&!n.hasChildren()?h_(n,e,t):r.match?bc(n,0,i):h_(n,e,t)}function bc(n,e,t){if(0===t.length)return new ln(n.segments,{});{const r=function lw(n){return fo(n[0])?n[0].outlets:{[an]:n}}(t),i={};return $r(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=tg(n.children[d],e,u))}),$r(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new ln(n.segments,i)}}function h_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(fo(u)){const y=cw(u.outlets);return new ln(r,y)}if(0===i&&ho(t[0])){r.push(new Qp(n.segments[e].path,dw(t[0]))),i++;continue}const d=fo(u)?u.outlets[an]:`${u}`,f=i<t.length-1?t[i+1]:null;d&&f&&ho(f)?(r.push(new Qp(d,dw(f))),i+=2):(r.push(new Qp(d,{})),i++)}return new ln(r,{})}function cw(n){const e={};return $r(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=h_(new ln([],{}),0,t))}),e}function dw(n){const e={};return $r(n,(t,r)=>e[r]=`${t}`),e}function hw(n,e,t){return n==t.path&&hs(e,t.parameters)}class Ls{constructor(e,t){this.id=e,this.url=t}}class yh extends Ls{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zu extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wu extends Ls{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _h extends Ls{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class f_ extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zT extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ng extends Ls{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rg extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fw extends Ls{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class y_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ig(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(t=>t.value)}}function ig(n,e){if(n===e.value)return e;for(const t of e.children){const r=ig(n,t);if(r)return r}return null}function sg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sg(n,t);if(r.length)return r.unshift(e),r}return[]}class ra{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vw extends y_{constructor(e,t){super(e),this.snapshot=t,og(this,e)}toString(){return this.snapshot.toString()}}function __(n,e){const t=function v_(n,e){const d=new vh([],{},{},"",{},an,e,null,n.root,-1,{});return new w_("",new ra(d,[]))}(n,e),r=new Gi([new Qp("",{})]),i=new Gi({}),u=new Gi({}),d=new Gi({}),f=new Gi(""),y=new La(r,i,d,f,u,an,e,t.root);return y.snapshot=t.root,new vw(new ra(y,[]),t)}class La{constructor(e,t,r,i,u,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,Vt.U)(w=>w[ch]))??vt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>Oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>Oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ew(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vh{constructor(e,t,r,i,u,d,f,y,w,D,C,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.[ch],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=V??D,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w_ extends y_{constructor(e,t){super(t),this.url=e,og(this,t)}toString(){return I_(this._root)}}function og(n,e){e.value._routerState=n,e.children.forEach(t=>og(n,t))}function I_(n){const e=n.children.length>0?` { ${n.children.map(I_).join(", ")} } `:"";return`${n.value}${e}`}function ag(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),hs(e.params,t.params)||n.params.next(t.params),function Fx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),hs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ww(n,e){const t=hs(n.params,e.params)&&function UT(n,e){return Hu(n,e)&&n.every((t,r)=>hs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ww(n.parent,e.parent))}function Eh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Iw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Eh(n,r,i);return Eh(n,r)})}(n,e,t);return new ra(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Eh(n,f)),d}}const r=function WT(n){return new La(new Gi(n.url),new Gi(n.params),new Gi(n.queryParams),new Gi(n.fragment),new Gi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Eh(n,u));return new ra(r,i)}}const mr="ngNavigationCancelingError";function b_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bw(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function bw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[mr]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Dw(n){return D_(n)&&na(n.url)}function D_(n){return n&&n[mr]}class KT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tc,this.attachRef=null}}let Tc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new KT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wh=!1;let Va=(()=>{class n{constructor(t,r,i,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||an,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,wh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,wh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,wh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,wh);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new YT(t,f,i.injector);if(r&&function QT(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tc),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class YT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===La?this.route:e===Tc?this.childContexts:this.parent.get(e,t)}}let Ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Va],encapsulation:2}),n})();function Tw(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qi(n){const e=n.children&&n.children.map(qi),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=Ih),t}function lr(n){return n.outlet||an}function T_(n,e){const t=n.filter(r=>lr(r)===e);return t.push(...n.filter(r=>lr(r)!==e)),t}function Cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tC{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ag(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),$r(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Dc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Dc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new m_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new mw(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(ag(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),ag(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=Cc(i.snapshot),y=f?.get(c._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Mw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ug{constructor(e,t){this.component=e,this.route=t}}function C_(n,e,t){const r=n._root;return Sc(r,e?e._root:null,t,[r.value])}function Ac(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Dc(e);return n.children.forEach(d=>{(function nC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function xw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hu(n.url,e.url)||!hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ww(n,e)||!hs(n.queryParams,e.queryParams);default:return!ww(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Mw(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Sc(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ug(f.outlet.component,d))}else d&&Mc(e,f,i),i.canActivateChecks.push(new Mw(r)),Sc(n,null,u.component?f?f.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),$r(u,(d,f)=>Mc(d,t.getContext(f),i)),i}function Mc(n,e,t){const r=Dc(n),i=n.value;$r(r,(u,d)=>{Mc(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ug(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ua(n){return"function"==typeof n}function cg(n){return n instanceof fc||"EmptyError"===n?.name}const Dh=Symbol("INITIAL_VALUE");function Ku(){return Sr(n=>YE(n.map(e=>e.pipe(gc(1),uh(Dh)))).pipe((0,Vt.U)(e=>{for(const t of e)if(!0!==t){if(t===Dh)return Dh;if(!1===t||t instanceof _c)return t}return!0}),Ai(e=>e!==Dh),gc(1)))}function Vw(n){return(0,ew.z)((0,jr.b)(e=>{if(na(e))throw b_(0,e)}),(0,Vt.U)(e=>!0===e))}const A_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uw(n,e,t,r,i){const u=S_(n,e,t);return u.matched?function hC(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?vt(i.map(d=>{const f=Ac(d,n);return lo(function Ow(n){return n&&Ua(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ku(),Vw()):vt(!0)}(r=Tw(e,r),e,t).pipe((0,Vt.U)(d=>!0===d?u:{...A_})):vt(u)}function S_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...A_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zp)(t,n,e);if(!i)return{...A_};const u={};$r(i.posParams,(f,y)=>{u[y]=f.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function dg(n,e,t,r,i="corrected"){if(t.length>0&&function gC(n,e,t){return t.some(r=>hg(n,e,r)&&lr(r)!==an)}(n,t,r)){const d=new ln(e,function pC(n,e,t,r){const i={};i[an]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&lr(u)!==an){const d=new ln([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[lr(u)]=d}return i}(n,e,r,new ln(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function mC(n,e,t){return t.some(r=>hg(n,e,r))}(n,t,r)){const d=new ln(n.segments,function fC(n,e,t,r,i,u){const d={};for(const f of r)if(hg(n,t,f)&&!i[lr(f)]){const y=new ln([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[lr(f)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new ln(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function hg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function M_(n,e,t,r){return!!(lr(n)===r||r!==an&&hg(e,t,n))&&("**"===n.path||S_(e,n,t).matched)}function x_(n,e,t){return 0===e.length&&!n.children[t]}const Th=!1;class Ch{constructor(e){this.segmentGroup=e||null}}class N_{constructor(e){this.urlTree=e}}function xc(n){return jp(new Ch(n))}function R_(n){return jp(new N_(n))}class P_{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=dg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ln(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,an).pipe((0,Vt.U)(u=>this.createUrlTree(Gu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pa(u=>{if(u instanceof N_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ch?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,an).pipe((0,Vt.U)(i=>this.createUrlTree(Gu(i),e.queryParams,e.fragment))).pipe(Pa(i=>{throw i instanceof Ch?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,Th)}createUrlTree(e,t,r){const i=ta(e);return new _c(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Vt.U)(u=>new ln([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Sn.D)(i).pipe(oi(u=>{const d=r.children[u],f=T_(t,u);return this.expandSegmentGroup(e,f,d,u).pipe((0,Vt.U)(y=>({segment:y,outlet:u})))}),Gp((u,d)=>(u[d.outlet]=d.segment,u),{}),rw())}expandSegment(e,t,r,i,u,d){return(0,Sn.D)(r).pipe(oi(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,d).pipe(Pa(w=>{if(w instanceof Ch)return vt(null);throw w}))),ea(f=>!!f),Pa((f,y)=>{if(cg(f))return x_(t,i,u)?vt(new ln([],{})):xc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,d,f){return M_(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):xc(t):xc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R_(u):this.lineralizeSegments(r,u).pipe((0,si.z)(d=>{const f=new ln(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=S_(t,i,u);if(!f)return xc(t);const C=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?R_(C):this.lineralizeSegments(i,C).pipe((0,si.z)(V=>this.expandSegment(e,t,r,V.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=Tw(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Vt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new ln(i,{})))):vt(new ln(i,{}))):Uw(t,r,i,e).pipe(Sr(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,si.z)(D=>{const C=D.injector??e,V=D.routes,{segmentGroup:H,slicedSegments:Z}=dg(t,f,y,V),ae=new ln(H.segments,H.children);if(0===Z.length&&ae.hasChildren())return this.expandChildren(C,V,ae).pipe((0,Vt.U)(Nt=>new ln(f,Nt)));if(0===V.length&&0===Z.length)return vt(new ln(f,{}));const be=lr(r)===u;return this.expandSegment(C,ae,V,Z,be?an:u,!0).pipe((0,Vt.U)(at=>new ln(f.concat(at.segments),at.children)))})):xc(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function dC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?vt(!0):vt(i.map(d=>{const f=Ac(d,n);return lo(function Nw(n){return n&&Ua(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ku(),Vw())}(e,t,r).pipe((0,si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,jr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function jw(n){return jp(bw(Th,3))}())):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vt(r);if(i.numberOfChildren>1||!i.children[an])return jp(new c.vHH(4e3,Th));i=i.children[an]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new _c(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $r(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return $r(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new ln(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,Th);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yC{}class O_{constructor(e,t,r,i,u,d,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=dg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,an).pipe((0,Vt.U)(t=>{if(null===t)return null;const r=new vh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ra(r,t),u=new w_(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=E_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(oi(i=>{const u=r.children[i],d=T_(t,i);return this.processSegmentGroup(e,d,u,i)}),Gp((i,u)=>i&&u?(i.push(...u),i):null),function OT(n,e=!1){return(0,Qr.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),Hp(null),rw(),(0,Vt.U)(i=>{if(null===i)return null;const u=_C(i);return function Ux(n){n.sort((e,t)=>e.value.outlet===an?-1:t.value.outlet===an?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Sn.D)(t).pipe(oi(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),ea(d=>!!d),Pa(d=>{if(cg(d))return x_(r,i,u)?vt([]):vt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!M_(t,r,i,u))return vt(null);let d;if("**"===t.path){const f=i.length>0?r_(i).parameters:{},y=zw(r)+i.length;d=vt({snapshot:new vh(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qu(t),lr(t),t.component??t._loadedComponent??null,t,qw(r),y,Ww(t),y),consumedSegments:[],remainingSegments:[]})}else d=Uw(r,t,i,e).pipe((0,Vt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!f)return null;const C=zw(r)+y.length;return{snapshot:new vh(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qu(t),lr(t),t.component??t._loadedComponent??null,t,qw(r),C,Ww(t),C),consumedSegments:y,remainingSegments:w}}));return d.pipe(Sr(f=>{if(null===f)return vt(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const C=t._loadedInjector??e,V=function Hw(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:Z}=dg(r,w,D,V.filter(be=>void 0===be.redirectTo),this.relativeLinkResolution);if(0===Z.length&&H.hasChildren())return this.processChildren(C,V,H).pipe((0,Vt.U)(be=>null===be?null:[new ra(y,be)]));if(0===V.length&&0===Z.length)return vt([new ra(y,[])]);const ae=lr(t)===u;return this.processSegment(C,V,H,Z,ae?an:u).pipe((0,Vt.U)(be=>null===be?null:[new ra(y,be)]))}))}}function Gw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _C(n){const e=[],t=new Set;for(const r of n){if(!Gw(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_C(r.children);e.push(new ra(r.value,i))}return e.filter(r=>!t.has(r))}function qw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Qu(n){return n.data||{}}function Ww(n){return n.resolve||{}}function Qw(n){return"string"==typeof n.title||null===n.title}function mg(n){return Sr(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,Vt.U)(()=>e)):vt(e)})}let k_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===an);return r}getResolvedTitleForRoute(t){return t.data[ch]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(F_)},providedIn:"root"}),n})(),F_=(()=>{class n extends k_{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ms))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EC{}class IC extends class wC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yg=new c.OlP("",{providedIn:"root",factory:()=>({})}),L_=new c.OlP("ROUTES");let Rc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=lo(t.loadComponent()).pipe((0,jr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),lh(()=>{this.componentLoaders.delete(t)})),i=new tw(r,()=>new Or.x).pipe(e_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Vt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=n_(y.get(L_,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(qi),injector:y}}),lh(()=>{this.childrenLoaders.delete(r)})),d=new tw(u,()=>new Or.x).pipe(e_());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return lo(t()).pipe((0,si.z)(r=>r instanceof c.YKP||Array.isArray(r)?vt(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xw{}class eI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function bC(n){throw n}function Mh(n,e,t){return e.parse("/")}const xh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tI(){const n=(0,c.f3M)(o_),e=(0,c.f3M)(Tc),t=(0,c.f3M)(Fe),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),u=(0,c.f3M)(L_,{optional:!0})??[],d=(0,c.f3M)(yg,{optional:!0})??{},f=(0,c.f3M)(F_),y=(0,c.f3M)(k_,{optional:!0}),w=(0,c.f3M)(Xw,{optional:!0}),D=(0,c.f3M)(EC,{optional:!0}),C=new kr(null,n,e,t,r,i,n_(u));return w&&(C.urlHandlingStrategy=w),D&&(C.routeReuseStrategy=D),C.titleStrategy=y??f,function TC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),C}let kr=(()=>{class n{constructor(t,r,i,u,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Or.x,this.errorHandler=bC,this.malformedUriErrorHandler=Mh,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vt(void 0),this.urlHandlingStrategy=new eI,this.routeReuseStrategy=new IC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Rc),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new p_(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new pw(V)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const C=d.get(c.R0b);this.isNgZoneEnabled=C instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Wp(){return new _c(new ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=__(this.currentUrlTree,this.rootComponentType),this.transitions=new Gi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ai(i=>0!==i.id),(0,Vt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Sr(i=>{let u=!1,d=!1;return vt(i).pipe((0,jr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return V_(f.source)&&(this.browserUrlTree=f.extractedUrl),vt(f).pipe(Sr(C=>{const V=this.transitions.getValue();return r.next(new yh(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),V!==this.transitions.getValue()?$u.E:Promise.resolve(C)}),function Yu(n,e,t,r){return Sr(i=>function $w(n,e,t,r,i){return new P_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Vt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jr.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function pg(n,e,t,r,i,u){return(0,si.z)(d=>function Vx(n,e,t,r,i,u,d="emptyOnly",f="legacy"){return new O_(n,e,t,r,i,d,f,u).recognize().pipe(Sr(y=>null===y?function Nc(n){return new Wr.y(e=>e.error(n))}(new yC):vt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,u).pipe((0,Vt.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jr.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(H,C)}this.browserUrlTree=C.urlAfterRedirects}const V=new f_(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:H,source:Z,restoredState:ae,extras:be}=f,tt=new yh(V,this.serializeUrl(H),Z,ae);r.next(tt);const at=__(H,this.rootComponentType).snapshot;return vt(i={...f,targetSnapshot:at,urlAfterRedirects:H,extras:{...be,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),$u.E}),(0,jr.b)(f=>{const y=new zT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Vt.U)(f=>i={...f,guards:C_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Fw(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?vt({...t,guardsResult:!0}):function Lw(n,e,t,r){return(0,Sn.D)(n).pipe((0,si.z)(i=>function cC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?vt(u.map(f=>{const y=Cc(e)??i,w=Ac(f,y);return lo(function lg(n){return n&&Ua(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(ea())})).pipe(Ku()):vt(!0)}(i.component,i.route,t,e,r)),ea(i=>!0!==i,!0))}(d,r,i,n).pipe((0,si.z)(f=>f&&function rC(n){return"boolean"==typeof n}(f)?function sC(n,e,t,r){return(0,Sn.D)(e).pipe(oi(i=>Jy(function aC(n,e){return null!==n&&e&&e(new gw(n)),vt(!0)}(i.route.parent,r),function oC(n,e){return null!==n&&e&&e(new g_(n)),vt(!0)}(i.route,r),function lC(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function bh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ci(()=>vt(d.guards.map(y=>{const w=Cc(d.node)??t,D=Ac(y,w);return lo(function Pw(n){return n&&Ua(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(ea())})).pipe(Ku())));return vt(u).pipe(Ku())}(n,i.path,t),function uC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const i=r.map(u=>Ci(()=>{const d=Cc(e)??t,f=Ac(u,d);return lo(function Rw(n){return n&&Ua(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(ea())}));return vt(i).pipe(Ku())}(n,i.route,t))),ea(i=>!0!==i,!0))}(r,u,n,e):vt(f)),(0,Vt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,jr.b)(f=>{if(i.guardsResult=f.guardsResult,na(f.guardsResult))throw b_(0,f.guardsResult);const y=new ng(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Ai(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),mg(f=>{if(f.guards.canActivateChecks.length)return vt(f).pipe((0,jr.b)(y=>{const w=new rg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Sr(y=>{let w=!1;return vt(y).pipe(function gg(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vt(t);let u=0;return(0,Sn.D)(i).pipe(oi(d=>function cr(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Qw(i)&&(u[ch]=i.title),function Bx(n,e,t,r){const i=function Kw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return vt({});const u={};return(0,Sn.D)(i).pipe((0,si.z)(d=>function Yw(n,e,t,r){const i=Cc(e)??r,u=Ac(n,i);return lo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ea(),(0,jr.b)(f=>{u[d]=f}))),qp(1),function kT(n){return(0,Vt.U)(()=>n)}(u),Pa(d=>cg(d)?$u.E:jp(d)))}(u,n,e,r).pipe((0,Vt.U)(d=>(n._resolvedData=d,n.data=E_(n,t).resolve,i&&Qw(i)&&(n.data[ch]=i.title),null)))}(d.route,r,n,e)),(0,jr.b)(()=>u++),qp(1),(0,si.z)(d=>u===i.length?vt(t):$u.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,jr.b)(y=>{const w=new fw(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),mg(f=>{const y=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,jr.b)(C=>{w.component=C}),(0,Vt.U)(()=>{})));for(const C of w.children)D.push(...y(C));return D};return YE(y(f.targetSnapshot.root)).pipe(Hp(),gc(1))}),mg(()=>this.afterPreactivation()),(0,Vt.U)(f=>{const y=function ZT(n,e,t){const r=Eh(n,e._root,t?t._root:void 0);return new vw(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,jr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Vt.U)(r=>(new tC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,jr.b)({next(){u=!0},complete(){u=!0}}),lh(()=>{u||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Pa(f=>{if(d=!0,D_(f)){Dw(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Wu(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),Dw(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V_(i.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new _h(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return $u.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const f={...u};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),Ic(w,this.currentUrlTree,t,C,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=na(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function nI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...xh}:!1===r?{...DC}:r,na(t))return iw(this.currentUrlTree,t,i);const u=this.parseUrl(t);return iw(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let f,y,w;d?(f=d.resolve,y=d.reject,w=d.promise):w=new Promise((V,H)=>{f=V,y=H});const D=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:D,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new Wu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return tI()},providedIn:"root"}),n})();function V_(n){return"imperative"!==n}let Nh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Or.x,this.subscription=t.events.subscribe(u=>{u instanceof Zu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,d){return!!(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kr),c.Y36(La),c.Y36(Ee))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class SC{}let jx=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof Zu),oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,f=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Sn.D)(i).pipe((0,pc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const u=i.pipe((0,si.z)(d=>null===d?vt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Sn.D)([u,d]).pipe((0,pc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(SC),c.LFG(Rc))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _g=new c.OlP("");let Rh=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new yw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function go(n,e){return{\u0275kind:n,\u0275providers:e}}function j_(n){return[{provide:L_,multi:!0,useValue:n}]}function rI(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(kr),i=n.get(iI);1===n.get($_)&&r.initialNavigation(),n.get(Pc,null,c.XFs.Optional)?.setUpPreloading(),n.get(_g,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const iI=new c.OlP("",{factory:()=>new Or.x}),$_=new c.OlP("",{providedIn:"root",factory:()=>1});const Pc=new c.OlP("");function NC(n){return go(0,[{provide:Pc,useExisting:jx},{provide:SC,useExisting:n}])}const oI=new c.OlP("ROUTER_FORROOT_GUARD"),aI=[Fe,{provide:o_,useClass:dh},{provide:kr,useFactory:tI},Tc,{provide:La,useFactory:function B_(n){return n.routerState.root},deps:[kr]},Rc];function OC(){return new c.PXZ("Router",kr)}let wg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[aI,[],j_(t),{provide:oI,useFactory:FC,deps:[[kr,new c.FiY,new c.tp0]]},{provide:yg,useValue:r||{}},r?.useHash?{provide:Ee,useClass:Ye}:{provide:Ee,useClass:st},{provide:_g,useFactory:()=>{const n=(0,c.f3M)(kr),e=(0,c.f3M)(Al),t=(0,c.f3M)(yg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Rh(n,e,t)}},r?.preloadingStrategy?NC(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:OC},r?.initialNavigation?LC(r):[],[{provide:cI,useFactory:rI},{provide:c.tb,multi:!0,useExisting:cI}]]}}static forChild(t){return{ngModule:n,providers:[j_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oI,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ih]}),n})();function FC(n){return"guarded"}function LC(n){return["disabled"===n.initialNavigation?go(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(kr);return()=>{e.setUpLocationChangeListener()}}},{provide:$_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?go(2,[{provide:$_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(q,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(kr),f=e.get(iI);(function i(u){e.get(kr).events.pipe(Ai(f=>f instanceof Zu||f instanceof Wu||f instanceof _h),(0,Vt.U)(f=>f instanceof Zu||f instanceof Wu&&(0===f.code||1===f.code)&&null),Ai(f=>null!==f),gc(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||f.closed?vt(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const cI=new c.OlP("");var dI=O(4986),Vn=O(880);function Ig(){return(0,Qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,ar.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function hI(n,e=ah.y){return n=n??VC,(0,Qr.e)((t,r)=>{let i,u=!0;t.subscribe((0,ar.x)(r,d=>{const f=e(d);(u||!n(i,f))&&(u=!1,i=f,r.next(d))}))})}function VC(n,e){return n===e}var Dt,Vs=O(2011),UC=(O(5881),O(3942)),Me=O(5861),Ba=O(9681),Ph=O(4859),ja=O(1877),bn=O(2090),fI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ia={},G_=G_||{},zt=fI||self;function Oc(){}function Oh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ju(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var q_="closure_uid_"+(1e9*Math.random()>>>0),z_=0;function jC(n,e,t){return n.call.apply(n.bind,arguments)}function pI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jC:pI).apply(null,arguments)}function kh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Xu(){this.s=this.s,this.o=this.o}var Z_={};Xu.prototype.s=!1,Xu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function BC(n){return Object.prototype.hasOwnProperty.call(n,q_)&&n[q_]||(n[q_]=++z_)}(this);delete Z_[n]}},Xu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Oh(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function Xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var W_=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",Oc,e),zt.removeEventListener("test",Oc,e)}catch{}return n}();function Lh(n){return/^[\s\xa0]*$/.test(n)}var K_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bg(n,e){return n<e?-1:n>e?1:0}function Vh(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function mo(n){return-1!=Vh().indexOf(n)}function Y_(n){return Y_[" "](n),n}Y_[" "]=Oc;var Q_,n,HC=mo("Opera"),el=mo("Trident")||mo("MSIE"),GC=mo("Edge"),Dg=GC||el,_I=mo("Gecko")&&!(-1!=Vh().toLowerCase().indexOf("webkit")&&!mo("Edge"))&&!(mo("Trident")||mo("MSIE"))&&!mo("Edge"),qC=-1!=Vh().toLowerCase().indexOf("webkit")&&!mo("Edge");function zC(){var n=zt.document;return n?n.documentMode:void 0}e:{var J_="",X_=(n=Vh(),_I?/rv:([^\);]+)(\)|;)/.exec(n):GC?/Edge\/([\d\.]+)/.exec(n):el?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qC?/WebKit\/(\S+)/.exec(n):HC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(X_&&(J_=X_?X_[1]:""),el){var ev=zC();if(null!=ev&&ev>parseFloat(J_)){Q_=String(ev);break e}}Q_=J_}var ZC={};var KC=zt.document&&el&&(zC()||parseInt(Q_,10))||void 0;function Uh(n,e){if(Xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_I){e:{try{Y_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uh.X.h.call(this)}}Jr(Uh,Xr);var YC={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bh="closure_listenable_"+(1e6*Math.random()|0),QC=0;function jh(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++QC,this.ba=this.ea=!1}function $h(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Tg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nv(n){const e={};for(const t in n)e[t]=n[t];return e}const rv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<rv.length;u++)t=rv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cg(n){this.src=n,this.g={},this.h=0}function sv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=mI(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&($h(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function EI(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}Cg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=EI(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new jh(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var ov="closure_lm_"+(1e6*Math.random()|0),av={};function wI(n,e,t,r,i){if(r&&r.once)return kc(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)wI(n,e[u],t,r,i);return null}return t=uv(t),n&&n[Bh]?n.N(e,t,Ju(r)?!!r.capture:!!r,i):II(n,e,t,!1,r,i)}function II(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=Ju(i)?!!i.capture:!!i,f=Gh(n);if(f||(n[ov]=f=new Cg(n)),(t=f.add(e,t,r,d,u)).proxy)return t;if(r=function JC(){const e=XC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)W_||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Us(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kc(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)kc(n,e[u],t,r,i);return null}return t=uv(t),n&&n[Bh]?n.O(e,t,Ju(r)?!!r.capture:!!r,i):II(n,e,t,!0,r,i)}function bI(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)bI(n,e[u],t,r,i);else r=Ju(r)?!!r.capture:!!r,t=uv(t),n&&n[Bh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=EI(u=n.g[e],t,r,i))&&($h(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Gh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=EI(e,t,r,i)),(t=-1<n?e[n]:null)&&Hh(t))}function Hh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Bh])sv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Us(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gh(e))?(sv(t,n),0==t.h&&(t.src=null,e[ov]=null)):$h(n)}}}function Us(n){return n in av?av[n]:av[n]="on"+n}function XC(n,e){if(n.ba)n=!0;else{e=new Uh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Hh(n),n=t.call(r,e)}return n}function Gh(n){return(n=n[ov])instanceof Cg?n:null}var tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uv(n){return"function"==typeof n?n:(n[tl]||(n[tl]=function(e){return n.handleEvent(e)}),n[tl])}function Hr(){Xu.call(this),this.i=new Cg(this),this.P=this,this.I=null}function ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Xr(e,n);else if(e instanceof Xr)e.target=e.target||n;else{var i=e;iv(e=new Xr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=nl(d,r,!0,e)&&i}if(i=nl(d=e.g=n,r,!0,e)&&i,i=nl(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=nl(d=e.g=t[u],r,!1,e)&&i}function nl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&sv(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Jr(Hr,Xu),Hr.prototype[Bh]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){bI(this,n,e,t,r)},Hr.prototype.M=function(){if(Hr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$h(t[r]);delete n.g[e],n.h--}}this.I=null},Hr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Fc=zt.JSON.stringify;function eA(){var n=Ag;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hv,lv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new DI,n=>n.reset());class DI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cv(n){zt.setTimeout(()=>{throw n},0)}function dv(n,e){hv||function nA(){var n=zt.Promise.resolve(void 0);hv=function(){n.then(fv)}}(),TI||(hv(),TI=!0),Ag.add(n,e)}var TI=!1,Ag=new class tA{constructor(){this.h=this.g=null}add(e,t){const r=lv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function fv(){for(var n;n=eA();){try{n.h.call(n.g)}catch(t){cv(t)}var e=lv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}TI=!1}function qh(n,e){Hr.call(this),this.h=n||1,this.g=e||zt,this.j=yr(this.kb,this),this.l=Date.now()}function zh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Zh(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function CI(n){n.g=Zh(()=>{n.g=null,n.i&&(n.i=!1,CI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(qh,Hr),(Dt=qh.prototype).ca=!1,Dt.R=null,Dt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ei(this,"tick"),this.ca&&(zh(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){qh.X.M.call(this),zh(this),delete this.g};class rA extends Xu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CI(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wh(n){Xu.call(this),this.h=n,this.g={}}Jr(Wh,Xu);var AI=[];function pv(n,e,t,r){Array.isArray(t)||(t&&(AI[0]=t.toString()),t=AI);for(var i=0;i<t.length;i++){var u=wI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Sg(n){Tg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hh(e)},n),n.g={}}function Kh(){this.g=!0}function rl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return Fc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Wh.prototype.M=function(){Wh.X.M.call(this),Sg(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kh.prototype.Aa=function(){this.g=!1},Kh.prototype.info=function(){};var $a={},NI=null;function Yh(){return NI=NI||new Hr}function RI(n){Xr.call(this,$a.Oa,n)}function Fr(n){const e=Yh();ei(e,new RI(e,n))}function il(n,e){Xr.call(this,$a.STAT_EVENT,n),this.stat=e}function vi(n){const e=Yh();ei(e,new il(e,n))}function PI(n,e){Xr.call(this,$a.Pa,n),this.size=e}function Mg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}$a.Oa="serverreachability",Jr(RI,Xr),$a.STAT_EVENT="statevent",Jr(il,Xr),$a.Pa="timingevent",Jr(PI,Xr);var gv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},mv={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xg(){}function OI(){}xg.prototype.h=null;var _v,sl={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function yv(){Xr.call(this,"d")}function Ng(){Xr.call(this,"c")}function Rg(){}function Qh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Wh(this),this.O=kI,this.T=new qh(n=Dg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Pg}function Pg(){this.i=null,this.g="",this.h=!1}Jr(yv,Xr),Jr(Ng,Xr),Jr(Rg,xg),Rg.prototype.g=function(){return new XMLHttpRequest},Rg.prototype.i=function(){return{}},_v=new Rg;var kI=45e3,Og={},ol={};function Jh(n,e,t){n.K=1,n.v=nf(sa(e)),n.s=t,n.P=!0,sA(n,null)}function sA(n,e){n.F=Date.now(),yo(n),n.A=sa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),dA(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Pg,n.g=eb(n.l,t?e:null,!n.s),0<n.N&&(n.L=new rA(yr(n.Ka,n,n.g),n.N)),pv(n.S,n.g,"readystatechange",n.hb),e=n.H?nv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Fr(1),function SI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",f=u.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var C=D.split("_");d=2<=C.length&&"type"==C[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function vv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function FI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=LI(n,t),i==ol){4==e&&(n.o=4,vi(14),r=!1),rl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Og){n.o=4,vi(15),rl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rl(n.j,n.m,i,null),Ev(n,i)}vv(n)&&i!=ol&&i!=Og&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nv(e),e.K=!0,vi(11))):(rl(n.j,n.m,t,"[Invalid Chunked Response]"),Vc(n),al(n))}function LI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ol:(t=Number(e.substring(t,r)),isNaN(t)?Og:(r+=1)+t>e.length?ol:(e=e.substr(r,t),n.C=r+t,e))}function yo(n){n.V=Date.now()+n.O,VI(n,n.O)}function VI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mg(yr(n.fb,n),e)}function Xh(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.G||n.I||Rv(n.l,n)}function Vc(n){Xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zh(n.T),Sg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ev(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jc(t.h,n)))if(!n.J&&jc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Bs(t),jg(t)}Hg(t),vi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mg(yr(t.bb,t),6e3));if(1>=Iv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ei(t,11)}else if((n.J||t.g==n)&&Bs(t),!Lh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const C=w[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const Z=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.h;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Fg(u,u.h),u.h=null))}if(r.D){const ae=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.za=ae,Xn(r.F,r.D,ae))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=_A(r,r.H?r.ka:null,r.V),d.J){bv(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(Xh(f),yo(f)),r.g=d}else JI(r);0<t.i.length&&hf(t)}else"stop"!=w[0]&&"close"!=w[0]||Ei(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ei(t,7):Mv(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Fr(4)}catch{}}function UI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Oh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function oA(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Oh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zx(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Oh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Dt=Qh.prototype).setTimeout=function(n){this.O=n},Dt.hb=function(n){n=n.target;const e=this.L;e&&3==oa(n)?e.l():this.Ka(n)},Dt.Ka=function(n){try{if(n==this.g)e:{const D=oa(this.g);var e=this.g.Ea();const C=this.g.aa();if(!(3>D)&&(3!=D||Dg||this.g&&(this.h.h||this.g.fa()||Ug(this.g)))){this.I||4!=D||7==e||Fr(8==e||0>=C?3:2),Xh(this);var t=this.g.aa();this.Y=t;t:if(vv(this)){var r=Ug(this.g);n="";var i=r.length,u=4==oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vc(this),al(this);var d="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function MI(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,vi(12),Vc(this),al(this);break e}rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ev(this,t)}this.P?(FI(this,D,d),Dg&&this.i&&3==D&&(pv(this.S,this.T,"tick",this.gb),this.T.start())):(rl(this.j,this.m,d,null),Ev(this,d)),4==D&&Vc(this),this.i&&!this.I&&(4==D?Rv(this.l,this):(this.i=!1,yo(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),Vc(this),al(this)}}}catch{}},Dt.gb=function(){if(this.g){var n=oa(this.g),e=this.g.fa();this.C<e.length&&(Xh(this),FI(this,n,e),this.i&&4!=n&&yo(this))}},Dt.cancel=function(){this.I=!0,Vc(this)},Dt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function iA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fr(3),vi(17)),Vc(this),this.o=2,al(this)):VI(this,this.V-n)};var BI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ha){this.h=void 0!==e?e:n.h,ef(this,n.j),this.s=n.s,this.g=n.g,tf(this,n.m),this.l=n.l,e=n.i;var t=new Bc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$I(this,t),this.o=n.o}else n&&(t=String(n).match(BI))?(this.h=!!e,ef(this,t[1]||"",!0),this.s=rf(t[2]||""),this.g=rf(t[3]||"",!0),tf(this,t[4]),this.l=rf(t[5]||"",!0),$I(this,t[6]||"",!0),this.o=rf(t[7]||"")):(this.h=!!e,this.i=new Bc(null,this.h))}function sa(n){return new Ha(n)}function ef(n,e,t){n.j=t?rf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function tf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $I(n,e,t){e instanceof Bc?(n.i=e,function Wx(n,e){e&&!n.j&&(ul(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(lA(this,r),dA(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uc(e,uA)),n.i=new Bc(e,n.h))}function Xn(n,e,t){n.i.set(e,t)}function nf(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,HI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function HI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uc(e,wv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uc(e,wv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uc(t,"/"==t.charAt(0)?aA:GI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uc(t,Zx)),n.join("")};var wv=/[#\/\?@]/g,GI=/[#\?:]/g,aA=/[#\?]/g,uA=/[#\?@]/g,Zx=/#/g;function Bc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ul(n){n.g||(n.g=new Map,n.h=0,n.i&&function jI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function lA(n,e){ul(n),e=sf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cA(n,e){return ul(n),e=sf(n,e),n.g.has(e)}function dA(n,e,t){lA(n,e),0<t.length&&(n.i=null,n.g.set(sf(n,e),Fh(t)),n.h+=t.length)}function sf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hA(n){this.l=n||kg,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=Bc.prototype).add=function(n,e){ul(this),this.i=null,n=sf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){ul(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Dt.oa=function(){ul(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Dt.W=function(n){ul(this);let e=[];if("string"==typeof n)cA(this,n)&&(e=e.concat(this.g.get(sf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return ul(this),this.i=null,cA(this,n=sf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var kg=10;function fA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Iv(n){return n.h?1:n.g?n.g.size:0}function jc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fg(n,e){n.g?n.g.add(e):n.h=e}function bv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fh(n.i)}function af(){}function qI(){this.g=new af}function gA(n,e,t){const r=t||"";try{UI(n,function(i,u){let d=i;Ju(i)&&(d=Fc(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uf(n){this.l=n.$b||null,this.j=n.ib||!1}function Lg(n,e){Hr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hA.prototype.cancel=function(){if(this.i=pA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},af.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},af.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Jr(uf,xg),uf.prototype.g=function(){return new Lg(this.l,this.j)},uf.prototype.i=function(n){return function(){return n}}({}),Jr(Lg,Hr);var Tv=0;function lf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function cf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vg(n)}function Vg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=Lg.prototype).open=function(n,e){if(this.readyState!=Tv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Vg(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=Tv},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vg(this)),this.g&&(this.readyState=3,Vg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lf(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cf(this):Vg(this),3==this.readyState&&lf(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,cf(this))},Dt.Ta=function(n){this.g&&(this.response=n,cf(this))},Dt.ga=function(){this.g&&cf(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Yx=zt.JSON.parse;function Lr(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZI,this.K=this.L=!1}Jr(Lr,Hr);var ZI="",mA=/^https?$/i,yA=["POST","PUT"];function WI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Cv(n),Sv(n)}function Cv(n){n.D||(n.D=!0,ei(n,"complete"),ei(n,"error"))}function Av(n){if(n.h&&typeof G_<"u"&&(!n.C[1]||4!=oa(n)||2!=n.aa()))if(n.v&&4==oa(n))Zh(n.Ha,0,n);else if(ei(n,"readystatechange"),4==oa(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(BI)[1]||null;if(!i&&zt.self&&zt.self.location){var u=zt.self.location.protocol;i=u.substr(0,u.length-1)}r=!mA.test(i?i.toLowerCase():"")}t=r}if(t)ei(n,"complete"),ei(n,"success");else{n.m=6;try{var d=2<oa(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Cv(n)}}finally{Sv(n)}}}function Sv(n,e){if(n.g){gs(n);const t=n.g,r=n.C[0]?Oc:null;n.g=null,n.C=null,e||ei(n,"ready");try{t.onreadystatechange=r}catch{}}}function gs(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function oa(n){return n.g?n.g.readyState:0}function Ug(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ZI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function KI(n){let e="";return Tg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Si(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=KI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function df(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Bg(n){this.Ca=0,this.i=[],this.j=new Kh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=df("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=df("baseRetryDelayMs",5e3,n),this.ab=df("retryDelaySeedMs",1e4,n),this.Za=df("forwardChannelMaxRetries",2,n),this.ta=df("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new hA(n&&n.concurrentRequestLimit),this.Fa=new qI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Mv(n){if($g(n),3==n.G){var e=n.U++,t=sa(n.F);Xn(t,"SID",n.I),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),$c(n,t),(e=new Qh(n,n.j,e,void 0)).K=2,e.v=nf(sa(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=eb(e.l,null),e.g.da(e.v)),e.F=Date.now(),yo(e)}XI(n)}function jg(n){n.g&&(Nv(n),n.g.cancel(),n.g=null)}function $g(n){jg(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Bs(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function hf(n){fA(n.h)||n.m||(n.m=!0,dv(n.Ja,n),n.C=0)}function QI(n,e){var t;t=e?e.m:n.U++;const r=sa(n.F);Xn(r,"SID",n.I),Xn(r,"RID",t),Xn(r,"AID",n.T),$c(n,r),n.o&&n.s&&Si(r,n.o,n.s),t=new Qh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=xv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Fg(n.h,t),Jh(t,r,e)}function $c(n,e){n.ia&&Tg(n.ia,function(t,r){Xn(e,r,t)}),n.l&&UI({},function(t,r){Xn(e,r,t)})}function xv(n,e,t){t=Math.min(n.i.length,t);var r=n.l?yr(n.l.Qa,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),f=!1;else try{gA(D,d,"req"+w+"_")}catch{r&&r(D)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function JI(n){n.g||n.u||(n.Z=1,dv(n.Ia,n),n.A=0)}function Hg(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Mg(yr(n.Ia,n),qg(n,n.A)),n.A++,0))}function Nv(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function Gg(n){n.g=new Qh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=sa(n.sa);Xn(e,"RID","rpc"),Xn(e,"SID",n.I),Xn(e,"CI",n.L?"0":"1"),Xn(e,"AID",n.T),Xn(e,"TYPE","xmlhttp"),$c(n,e),n.o&&n.s&&Si(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=nf(sa(e)),t.s=null,t.P=!0,sA(t,n)}function Bs(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Rv(n,e){var t=null;if(n.g==e){Bs(n),Nv(n),n.g=null;var r=2}else{if(!jc(n.h,e))return;t=e.D,bv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ei(r=Yh(),new PI(r,t,e,i)),hf(n)}else JI(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function YI(n,e){return!(Iv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Mg(yr(n.Ja,n,e),qg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Hg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ei(n,5);break;case 4:Ei(n,10);break;case 3:Ei(n,6);break;default:Ei(n,2)}}function qg(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Ei(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=yr(n.jb,n);t||(t=new Ha("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||ef(t,"https"),nf(t)),function zI(n,e){const t=new Kh;if(zt.Image){const r=new Image;r.onload=kh(Dv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(Dv,t,r,"TestLoadImage: error",!1,e),r.onabort=kh(Dv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(Dv,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vi(2);n.G=0,n.l&&n.l.va(e),XI(n),$g(n)}function XI(n){if(n.G=0,n.la=[],n.l){const e=pA(n.h);(0!=e.length||0!=n.i.length)&&(yI(n.la,e),yI(n.la,n.i),n.h.i.length=0,Fh(n.i),n.i.length=0),n.l.ua()}}function _A(n,e,t){var r=t instanceof Ha?sa(t):new Ha(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),tf(r,r.m);else{var i=zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Ha(null,void 0);r&&ef(u,r),e&&(u.g=e),i&&tf(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Xn(r,t,e),Xn(r,"VER",n.ma),$c(n,r),r}function eb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t&&n.Da&&!n.ra?new uf({ib:!0}):n.ra)).L=n.H,e}function tb(){}function zg(){if(el&&!(10<=Number(KC)))throw Error("Environmental error: no available transport.")}function zi(n,e){Hr.call(this),this.g=new Bg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Lh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ll(this)}function Pv(n){yv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vA(){Ng.call(this),this.status=1}function ll(n){this.g=n}(Dt=Lr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_v.g(),this.C=function Lc(n){return n.h||(n.h=n.i())}(this.u?this.u:_v),this.g.onreadystatechange=yr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void WI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=zt.FormData&&n instanceof zt.FormData,!(0<=mI(yA,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gs(this),0<this.B&&((this.K=function Qx(n){return el&&function WC(){return function $C(n){var e=ZC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=K_(String(Q_)).split("."),t=K_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=bg(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||bg(0==i[2].length,0==u[2].length)||bg(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.qa,this)):this.A=Zh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){WI(this,u)}},Dt.qa=function(){typeof G_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ei(this,"complete"),ei(this,"abort"),Sv(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),Lr.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?Av(this):this.eb())},Dt.eb=function(){Av(this)},Dt.aa=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Yx(e)}},Dt.Ea=function(){return this.m},Dt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=Bg.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Qh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=nv(u),iv(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xv(this,i,e),Xn(t=sa(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),$c(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(KI(u)))+"&"+e:this.o&&Si(t,this.o,u)),Fg(this.h,i),this.Xa&&Xn(t,"TYPE","init"),this.O?(Xn(t,"$req",e),Xn(t,"SID","null"),i.Z=!0,Jh(i,t,null)):Jh(i,t,e),this.G=2}}else 3==this.G&&(n?QI(this,n):0==this.i.length||fA(this.h)||QI(this))},Dt.Ia=function(){if(this.u=null,Gg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Mg(yr(this.cb,this),n)}},Dt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vi(10),jg(this),Gg(this))},Dt.bb=function(){null!=this.v&&(this.v=null,jg(this),Hg(this),vi(19))},Dt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),vi(2)):(this.j.info("Failed to ping google.com"),vi(1))},(Dt=tb.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Qa=function(){},zg.prototype.g=function(n,e){return new zi(n,e)},Jr(zi,Hr),zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;vi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=_A(n,null,n.V),hf(n)},zi.prototype.close=function(){Mv(this.g)},zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Fc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&hf(e)},zi.prototype.M=function(){this.g.l=null,delete this.j,Mv(this.g),delete this.g,zi.X.M.call(this)},Jr(Pv,yv),Jr(vA,Ng),Jr(ll,tb),ll.prototype.xa=function(){ei(this.g,"a")},ll.prototype.wa=function(n){ei(this.g,new Pv(n))},ll.prototype.va=function(n){ei(this.g,new vA(n))},ll.prototype.ua=function(){ei(this.g,"b")},zg.prototype.createWebChannel=zg.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,gv.NO_ERROR=0,gv.TIMEOUT=8,gv.HTTP_ERROR=6,mv.COMPLETE="complete",OI.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,Lr.prototype.listenOnce=Lr.prototype.O,Lr.prototype.getLastError=Lr.prototype.Na,Lr.prototype.getLastErrorCode=Lr.prototype.Ea,Lr.prototype.getStatus=Lr.prototype.aa,Lr.prototype.getResponseJson=Lr.prototype.Ra,Lr.prototype.getResponseText=Lr.prototype.fa,Lr.prototype.send=Lr.prototype.da;var EA=ia.createWebChannelTransport=function(){return new zg},nb=ia.getStatEventTarget=function(){return Yh()},rb=ia.ErrorCode=gv,Ov=ia.EventType=mv,ib=ia.Event=$a,kv=ia.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sb=ia.FetchXmlHttpFactory=uf,ff=ia.WebChannel=OI,ob=ia.XhrIo=Lr;const pf="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let cl="9.11.0";const Ga=new ja.Yd("@firebase/firestore");function Zg(){return Ga.logLevel}function Ge(n,...e){if(Ga.logLevel<=ja.in.DEBUG){const t=e.map(ub);Ga.debug(`Firestore (${cl}): ${n}`,...t)}}function vr(n,...e){if(Ga.logLevel<=ja.in.ERROR){const t=e.map(ub);Ga.error(`Firestore (${cl}): ${n}`,...t)}}function Hc(n,...e){if(Ga.logLevel<=ja.in.WARN){const t=e.map(ub);Ga.warn(`Firestore (${cl}): ${n}`,...t)}}function ub(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+n;throw vr(e),new Error(e)}function Ut(n,e){n||ht()}function it(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class IA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class bA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wg{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Gr,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Me.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},y=w=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Gr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new IA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new _r(e)}}class DA{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class TA{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new DA(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.A=t.token,new Fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Kg{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lv(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Yg(n){return n+"\0"}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Un(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Un(0,0))}static max(){return new Ht(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Qg{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const Xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Qg{construct(e,t,r){return new nr(e,t,r)}static isValidIdentifier(e){return Xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Be(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Be(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(u(),i++)}if(u(),d)throw new Be(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(t)}static emptyPath(){return new nr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(En.fromString(e))}static fromName(e){return new nt(En.fromString(e).popFirst(5))}static empty(){return new nt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new En(e.slice()))}}class Jg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vv(n){return n.fields.find(e=>2===e.kind)}function hl(n){return n.fields.filter(e=>2!==e.kind)}Jg.UNKNOWN_ID=-1;class gf{constructor(e,t){this.fieldPath=e,this.kind=t}}class mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mf(0,wi.min())}}function db(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ht.fromTimestamp(1e9===r?new Un(t+1,0):new Un(t,r));return new wi(i,nt.empty(),e)}function Uv(n){return new wi(n.readTime,n.key,-1)}class wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wi(Ht.min(),nt.empty(),-1)}static max(){return new wi(Ht.max(),nt.empty(),-1)}}function hb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}const Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function za(n){return jv.apply(this,arguments)}function jv(){return jv=(0,Me.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==Bv)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),jv.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,u=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++u,d&&u===i&&t()},y=>r(y))}),d=!0,u===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const u=e.length,d=new Array(u);let f=0;for(let y=0;y<u;y++){const w=y;t(e[w]).next(D=>{d[w]=D,++f,f===u&&r(d)},D=>i(D))}})}static doWhile(e,t){return new de((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Gr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new yf(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=fb(r.target.error);this.P.reject(new yf(e,i))}}static open(e,t,r,i){try{return new $v(t,e.transaction(i,r))}catch(u){throw new yf(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new e1(t)}}class js{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===js.D((0,bn.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Gc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,bn.hl)())return!1;if(js.N())return!0;const e=(0,bn.z$)(),t=js.D(e),r=0<t&&t<10,i=js.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new yf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Be(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Be(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new yf(e,f))},u.onupgradeneeded=d=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Me.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const y=$v.open(u.db,e,d?"readonly":"readwrite",r),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),de.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),u.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AA{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Gc(this.U.delete())}}class yf extends Be{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fl(n){return"IndexedDbTransactionError"===n.name}class e1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gc(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Gc(this.store.add(e))}get(e){return Gc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Gc(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Gc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(d,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new de((u,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=u=>{const d=fb(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new de((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new AA(f),w=t(f.primaryKey,f.value,y);if(w instanceof de){const D=w.catch(C=>(y.done(),de.reject(C)));r.push(D)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gc(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=fb(r.target.error);t(i)}})}let SA=!1;function fb(n){const e=js.D((0,bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SA||(SA=!0,setTimeout(()=>{throw r},0)),r}}return n}class MA{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){fl(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield za(r)}yield t.nt(6e4)}))}}class t1{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return de.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ge("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,u)).next(f=>(Ge("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=Uv(u);hb(d,r)>0&&(r=d)}),new wi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function xA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Zi.at=-1;class Er{constructor(e,t){this.comparator=e,this.root=t||o.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,o.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,o.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new s(this.root,e,this.comparator,!1)}getReverseIterator(){return new s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new s(this.root,e,this.comparator,!0)}}class s{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class o{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??o.RED,this.left=i??o.EMPTY,this.right=u??o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new o(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return o.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}o.EMPTY=null,o.RED=!0,o.BLACK=!1,o.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,i){return this}insert(n,e,t){return new o(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class a{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l(this.data.getIterator())}getIteratorFrom(e){return new l(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof a)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new a(this.comparator);return t.data=e,t}}class l{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function h(n){return n.hasNext()?n.getNext():void 0}class p{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new p([])}unionWith(e){let t=new a(nr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new p(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class E{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new E(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new E(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}E.EMPTY_BYTE_STRING=new E("");const b=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=b.exec(n);if(Ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:M(n.seconds),nanos:M(n.nanos)}}function M(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function L(n){return"string"==typeof n?E.fromBase64String(n):E.fromUint8Array(n)}function W(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ie(n){const e=n.mapValue.fields.__previous_value__;return W(e)?ie(e):e}function Ce(n){const e=T(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class ze{constructor(e,t,r,i,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Ke{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ke("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ke&&e.projectId===this.projectId&&e.database===this.database}}function lt(n){return null==n}function Tt(n){return 0===n&&1/n==-1/0}function Le(n){return"number"==typeof n&&Number.isInteger(n)&&!Tt(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const St={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yn={nullValue:"NULL_VALUE"};function Nn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W(n)?4:r1(n)?9007199254740991:10:ht()}function ui(n,e){if(n===e)return!0;const t=Nn(n);if(t!==Nn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ce(n).isEqual(Ce(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=T(r.timestampValue),d=T(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,L(n.bytesValue).isEqual(L(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return M(r.geoPointValue.latitude)===M(i.geoPointValue.latitude)&&M(r.geoPointValue.longitude)===M(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return M(r.integerValue)===M(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=M(r.doubleValue),d=M(i.doubleValue);return u===d?Tt(u)===Tt(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return qa(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(xA(u)!==xA(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!ui(u[f],d[f])))return!1;return!0}(n,e);default:return ht()}var i}function pl(n,e){return void 0!==(n.values||[]).find(t=>ui(t,e))}function _o(n,e){if(n===e)return 0;const t=Nn(n),r=Nn(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=M(i.integerValue||i.doubleValue),f=M(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return em(n.timestampValue,e.timestampValue);case 4:return em(Ce(n),Ce(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=L(i),f=L(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Yt(d[y],f[y]);if(0!==w)return w}return Yt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=Yt(M(i.latitude),M(u.latitude));return 0!==d?d:Yt(M(i.longitude),M(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],f=u.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=_o(d[y],f[y]);if(w)return w}return Yt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===St.mapValue&&u===St.mapValue)return 0;if(i===St.mapValue)return 1;if(u===St.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const C=Yt(f[D],w[D]);if(0!==C)return C;const V=_o(d[f[D]],y[w[D]]);if(0!==V)return V}return Yt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ht()}}function em(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=T(n),r=T(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function Za(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=T(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?L(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=_f(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const f of i)d?d=!1:u+=",",u+=`${f}:${_f(r.fields[f])}`;return u+"}"}(n.mapValue):ht();var e}function aa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vf(n){return!!n&&"integerValue"in n}function gl(n){return!!n&&"arrayValue"in n}function tm(n){return!!n&&"nullValue"in n}function n1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pb(n){return!!n&&"mapValue"in n}function Hv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function r1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function iO(n){return"nullValue"in n?yn:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?aa(Ke.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function sO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?aa(Ke.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?St:ht()}function i1(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function s1(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hv(t)}setAll(e){let t=nr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Hv(d):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());pb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];pb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){qc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ii(Hv(this.value))}}function o1(n){const e=[];return qc(n.fields,(t,r)=>{const i=new nr([t]);if(pb(r)){const u=o1(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new p(e)}class er{constructor(e,t,r,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new er(e,0,Ht.min(),Ht.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new er(e,1,t,Ht.min(),r,0)}static newNoDocument(e,t){return new er(e,2,t,Ht.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Ht.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oO{constructor(e,t=null,r=[],i=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=f,this.ht=null}}function a1(n,e=null,t=[],r=[],i=null,u=null,d=null){return new oO(n,e,t,r,i,u,d)}function Ef(n){const e=it(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Za(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),lt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Za(r)).join(",")),e.ht=t}return e.ht}function Gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!gO(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ui(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h1(n.startAt,e.startAt)&&h1(n.endAt,e.endAt)}function gb(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function mb(n,e){return n.filters.filter(t=>t instanceof bi&&t.field.isEqual(e))}function u1(n,e,t){let r=yn,i=!0;for(const u of mb(n,e)){let d=yn,f=!0;switch(u.op){case"<":case"<=":d=iO(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,f=!1;break;case"!=":case"not-in":d=yn}i1({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];i1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function l1(n,e,t){let r=St,i=!0;for(const u of mb(n,e)){let d=St,f=!0;switch(u.op){case">=":case">":d=sO(u.value),f=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,f=!1;break;case"!=":case"not-in":d=St}s1({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];s1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new uO(e,t,r):"array-contains"===t?new dO(e,r):"in"===t?new hO(e,r):"not-in"===t?new fO(e,r):"array-contains-any"===t?new pO(e,r):new bi(e,t,r)}static lt(e,t,r){return"in"===t?new lO(e,r):new cO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(_o(t,this.value)):null!==t&&Nn(this.value)===Nn(t)&&this.ft(_o(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uO extends bi{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.ft(t)}}class lO extends bi{constructor(e,t){super(e,"in",t),this.keys=c1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cO extends bi{constructor(e,t){super(e,"not-in",t),this.keys=c1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class dO extends bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gl(t)&&pl(t.arrayValue,this.value)}}class hO extends bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pl(this.value.arrayValue,t)}}class fO extends bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pl(this.value.arrayValue,t)}}class pO extends bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}class zc{constructor(e,t){this.position=e,this.inclusive=t}}class nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function gO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function d1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?nt.comparator(nt.fromName(d.referenceValue),t.key):_o(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function h1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}class ml{constructor(e,t=null,r=[],i=[],u=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=y,this._t=null,this.wt=null}}function f1(n,e,t,r,i,u,d,f){return new ml(n,e,t,r,i,u,d,f)}function rm(n){return new ml(n)}function p1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function RA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PA(n){for(const e of n.filters)if(e.dt())return e.field;return null}function OA(n){return null!==n.collectionGroup}function im(n){const e=it(n);if(null===e._t){e._t=[];const t=PA(e),r=RA(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new nm(t)),e._t.push(new nm(nr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nm(nr.keyField(),u))}}}return e._t}function Wi(n){const e=it(n);if(!e.wt)if("F"===e.limitType)e.wt=a1(e.path,e.collectionGroup,im(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of im(e))t.push(new nm(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;e.wt=a1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function yb(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qv(n,e){return Gv(Wi(n),Wi(e))&&n.limitType===e.limitType}function g1(n){return`${Ef(Wi(n))}|lt:${n.limitType}`}function kA(n){return`Query(target=${function aO(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Za(r.value)}`;var r}).join(", ")}]`),lt(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Za(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Za(t)).join(",")),`Target(${e})`}(Wi(n))}; limitType=${n.limitType})`}function FA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const f=d1(i,u,d);return i.inclusive?f<=0:f<0}(t.startAt,im(t),r)||t.endAt&&!function(i,u,d){const f=d1(i,u,d);return i.inclusive?f>=0:f>0}(t.endAt,im(t),r)));var t,r}function m1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function y1(n){return(e,t)=>{let r=!1;for(const i of im(n)){const u=mO(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function mO(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,u,d){const f=u.data.field(i),y=d.data.field(i);return null!==f&&null!==y?_o(f,y):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}function _1(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tt(e)?"-0":e}}function v1(n){return{integerValue:""+n}}function E1(n,e){return Le(e)?v1(e):_1(n,e)}class _b{constructor(){this._=void 0}}function yO(n,e,t){return n instanceof sm?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof wf?I1(n,e):n instanceof If?b1(n,e):function(r,i){const u=w1(r,i),d=D1(u)+D1(r.yt);return vf(u)&&vf(r.yt)?v1(d):_1(r.It,d)}(n,e)}function _O(n,e,t){return n instanceof wf?I1(n,e):n instanceof If?b1(n,e):t}function w1(n,e){return n instanceof om?vf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sm extends _b{}class wf extends _b{constructor(e){super(),this.elements=e}}function I1(n,e){const t=T1(e);for(const r of n.elements)t.some(i=>ui(i,r))||t.push(r);return{arrayValue:{values:t}}}class If extends _b{constructor(e){super(),this.elements=e}}function b1(n,e){let t=T1(e);for(const r of n.elements)t=t.filter(i=>!ui(i,r));return{arrayValue:{values:t}}}class om extends _b{constructor(e,t){super(),this.It=e,this.yt=t}}function D1(n){return M(n.integerValue||n.doubleValue)}function T1(n){return gl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class zv{constructor(e,t){this.field=e,this.transform=t}}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Eb{}function C1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new um(n.key,dr.none()):new am(n.key,n.data,dr.none());{const t=n.data,r=Ii.empty();let i=new a(nr.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new yl(n.key,r,new p(i.toArray()),dr.none())}}function wO(n,e,t){n instanceof am?function(r,i,u){const d=r.value.clone(),f=M1(r.fieldTransforms,i,u.transformResults);d.setAll(f),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof yl?function(r,i,u){if(!vb(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=M1(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(S1(r)),f.setAll(d),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zv(n,e,t,r){return n instanceof am?function(i,u,d,f){if(!vb(i.precondition,u))return d;const y=i.value.clone(),w=x1(i.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof yl?function(i,u,d,f){if(!vb(i.precondition,u))return d;const y=x1(i.fieldTransforms,f,u),w=u.data;return w.setAll(S1(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(d=t,vb(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function IO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=w1(r.transform,i||null);null!=u&&(null===t&&(t=Ii.empty()),t.set(r.field,u))}return t||null}function A1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&qa(t,r,(i,u)=>function vO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wf&&r instanceof wf||t instanceof If&&r instanceof If?qa(t.elements,r.elements,ui):t instanceof om&&r instanceof om?ui(t.yt,r.yt):t instanceof sm&&r instanceof sm);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class am extends Eb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends Eb{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M1(n,e,t){const r=new Map;Ut(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,f=e.data.field(u.field);r.set(u.field,_O(d,f,t[i]))}return r}function x1(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,yO(u,d,e))}return r}class um extends Eb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LA extends Eb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bO{constructor(e){this.count=e}}var qr,Dn;function N1(n){switch(n){default:return ht();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function R1(n){if(void 0===n)return vr("GRPC error has no .code"),_e.UNKNOWN;switch(n){case qr.OK:return _e.OK;case qr.CANCELLED:return _e.CANCELLED;case qr.UNKNOWN:return _e.UNKNOWN;case qr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case qr.INTERNAL:return _e.INTERNAL;case qr.UNAVAILABLE:return _e.UNAVAILABLE;case qr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case qr.NOT_FOUND:return _e.NOT_FOUND;case qr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case qr.ABORTED:return _e.ABORTED;case qr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case qr.DATA_LOSS:return _e.DATA_LOSS;default:return ht()}}(Dn=qr||(qr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return NA(this.inner)}size(){return this.innerSize}}const DO=new Er(nt.comparator);function ms(){return DO}const P1=new Er(nt.comparator);function Wv(...n){let e=P1;for(const t of n)e=e.insert(t.key,t);return e}function O1(n){let e=P1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wa(){return Kv()}function k1(){return Kv()}function Kv(){return new Zc(n=>n.toString(),(n,e)=>n.isEqual(e))}const TO=new Er(nt.comparator),CO=new a(nt.comparator);function sn(...n){let e=CO;for(const t of n)e=e.add(t);return e}const AO=new a(Yt);function wb(){return AO}class Yv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Qv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yv(Ht.min(),r,wb(),ms(),sn())}}class Qv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Qv(E.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class Ib{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class F1{constructor(e,t){this.targetId=e,this.At=t}}class L1{constructor(e,t,r=E.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class V1{constructor(){this.Rt=0,this.bt=B1(),this.Pt=E.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),r=sn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ht()}}),new Qv(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=B1()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class SO{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ms(),this.qt=U1(),this.Kt=new a(Yt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(gb(u))if(0===r){const d=new nt(u.path);this.jt(t,d,er.newNoDocument(d,Ht.min()))}else Ut(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const f=this.Xt(d);if(f){if(u.current&&gb(f.target)){const y=new nt(f.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,er.newNoDocument(y,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=sn();this.qt.forEach((u,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const i=new Yv(e,t,this.Kt,this.Ut,r);return this.Ut=ms(),this.qt=U1(),this.Kt=new a(Yt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new V1,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new a(Yt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new V1),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function U1(){return new Er(nt.comparator)}function B1(){return new Er(nt.comparator)}const MO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class NO{constructor(e,t){this.databaseId=e,this.gt=t}}function Jv(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(n,e){return n.gt?e.toBase64():e.toUint8Array()}function RO(n,e){return Jv(n,e.toTimestamp())}function li(n){return Ut(!!n),Ht.fromTimestamp(function(e){const t=T(e);return new Un(t.seconds,t.nanos)}(n))}function VA(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $1(n){const e=En.fromString(n);return Ut(Y1(e)),e}function Xv(n,e){return VA(n.databaseId,e.path)}function Ka(n,e){const t=$1(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(G1(t))}function UA(n,e){return VA(n.databaseId,e)}function H1(n){const e=$1(n);return 4===e.length?En.emptyPath():G1(e)}function e0(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G1(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function q1(n,e,t){return{name:Xv(n,e),fields:t.value.mapValue.fields}}function z1(n,e,t){const r=Ka(n,e.name),i=li(e.updateTime),u=new Ii({mapValue:{fields:e.fields}}),d=er.newFoundDocument(r,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function t0(n,e){let t;if(e instanceof am)t={update:q1(n,e.key,e.value)};else if(e instanceof um)t={delete:Xv(n,e.key)};else if(e instanceof yl)t={update:q1(n,e.key,e.data),updateMask:jO(e.fieldMask)};else{if(!(e instanceof LA))return ht();t={verify:Xv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof sm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof If)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof om)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:RO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ht()),t;var i}function BA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?dr.updateTime(li(i.updateTime)):void 0!==i.exists?dr.exists(i.exists):dr.none():dr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let f=null;"setToServerValue"in d?(Ut("REQUEST_TIME"===d.setToServerValue),f=new sm):"appendMissingElements"in d?f=new wf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new If(d.removeAllFromArray.values||[]):"increment"in d?f=new om(u,d.increment):ht();const y=nr.fromServerFormat(d.fieldPath);return new zv(y,f)}(n,i)):[];var i;if(e.update){const i=Ka(n,e.update.name),u=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new p((e.updateMask.fieldPaths||[]).map(w=>nr.fromServerFormat(w)));return new yl(i,u,d,t,r)}return new am(i,u,t,r)}if(e.delete){const i=Ka(n,e.delete);return new um(i,t)}if(e.verify){const i=Ka(n,e.verify);return new LA(i,t)}return ht()}function Z1(n,e){return{documents:[UA(n,e.path)]}}function jA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(C){if("=="===C.op){if(n1(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NAN"}};if(tm(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(n1(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NOT_NAN"}};if(tm(C.value))return{unaryFilter:{field:lm(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lm(C.field),op:VO(C.op),value:C.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:lm((D=w).field),direction:LO(D.dir)};var D})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=e.limit,n.gt||lt(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function W1(n){let e=H1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let u=[];t.where&&(u=K1(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new nm(cm((C=D).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let f=null;t.limit&&(f=function(D){let C;return C="object"==typeof D?D.value:D,lt(C)?null:C}(t.limit));let y=null;var D;t.startAt&&(y=new zc((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new zc(D.values||[],!D.before)}(t.endAt)),f1(e,i,d,u,f,"F",y,w)}function K1(n){return n?void 0!==n.unaryFilter?[BO(n)]:void 0!==n.fieldFilter?[UO(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>K1(e)).reduce((e,t)=>e.concat(t)):ht():[]}function LO(n){return MO[n]}function VO(n){return xO[n]}function lm(n){return{fieldPath:n.canonicalString()}}function cm(n){return nr.fromServerFormat(n.fieldPath)}function UO(n){return bi.create(cm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function BO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=cm(n.unaryFilter.field);return bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cm(n.unaryFilter.field);return bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cm(n.unaryFilter.field);return bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cm(n.unaryFilter.field);return bi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function jO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q1(e)),e=$O(n.get(t),e);return Q1(e)}function $O(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Q1(n){return n+"\x01\x01"}function Ya(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ht(),n.charAt(d+1)){case"\x01":const f=n.substring(u,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:ht()}u=d+2}return new En(r)}const J1=["userId","batchId"];function bb(n,e){return[n,Ki(e)]}function X1(n,e,t){return[n,Ki(e),t]}const HO={},GO=["prefixPath","collectionGroup","readTime","documentId"],qO=["prefixPath","collectionGroup","documentId"],zO=["collectionGroup","readTime","prefixPath","documentId"],ZO=["canonicalId","targetId"],WO=["targetId","path"],KO=["path","targetId"],YO=["collectionId","parent"],QO=["indexId","uid"],JO=["uid","sequenceNumber"],XO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ek=["indexId","uid","orderedDocumentKey"],tk=["userId","collectionPath","documentId"],nk=["userId","collectionPath","largestBatchId"],rk=["userId","collectionGroup","largestBatchId"],eN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ik=[...eN,"documentOverlays"],tN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nN=tN,sk=[...nN,"indexConfiguration","indexState","indexEntries"];class $A extends Xg{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ci(n,e){const t=it(n);return js.M(t.ie,e)}class HA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&wO(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=k1();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(i.key)?null:f;const y=C1(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(t,r)=>A1(t,r))&&qa(this.baseMutations,e.baseMutations,(t,r)=>A1(t,r))}}class GA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length);let i=TO;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new GA(e,t,r,i)}}class qA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wc{constructor(e,t,r,i,u=Ht.min(),d=Ht.min(),f=E.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Wc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rN{constructor(e){this.re=e}}function iN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Db(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Xv(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Jv(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bf(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:bf(e.version)}}var i,u;return r}function Db(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Df(n){const e=new Un(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function Tf(n,e){const t=(e.baseMutations||[]).map(u=>BA(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>BA(n.re,u)),i=Un.fromMillis(e.localWriteTimeMs);return new HA(e.batchId,i,t,r)}function n0(n){const e=Df(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Df(n.lastLimboFreeSnapshotVersion):Ht.min();let r;var i;return void 0!==n.query.documents?(Ut(1===(i=n.query).documents.length),r=Wi(rm(H1(i.documents[0])))):r=Wi(W1(n.query)),new Wc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,E.fromBase64String(n.resumeToken))}function sN(n,e){const t=bf(e.snapshotVersion),r=bf(e.lastLimboFreeSnapshotVersion);let i;i=gb(e.target)?Z1(n.re,e.target):jA(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ef(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zA(n){const e=W1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yb(e,e.limit,"L"):e}function ZA(n,e){return new qA(e.largestBatchId,BA(n.re,e.overlayMutation))}function oN(n,e){const t=e.path.lastSegment();return[n,Ki(e.path.popLast()),t]}function aN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:bf(r.readTime),documentKey:Ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class ak{getBundleMetadata(e,t){return uN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Df(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return uN(e).put({bundleId:(r=t).id,createTime:bf(li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return lN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:zA(i.bundledQuery),readTime:Df(i.readTime)};var i})}saveNamedQuery(e,t){return lN(e).put({name:(r=t).name,readTime:bf(li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uN(n){return ci(n,"bundles")}function lN(n){return ci(n,"namedQueries")}class Tb{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Tb(e,t.uid||"")}getOverlay(e,t){return r0(e).get(oN(this.userId,t)).next(r=>r?ZA(this.It,r):null)}getOverlays(e,t){const r=Wa();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const f=new qA(t,d);i.push(this.ue(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ki(d.getCollectionPath())));const u=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(r0(e).Y("collectionPathOverlayIndex",f))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Wa(),u=Ki(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return r0(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=ZA(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Wa();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return r0(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const C=ZA(this.It,w);u.size()<i||C.largestBatchId===d?(u.set(C.getKey(),C),d=C.largestBatchId):D.done()}).next(()=>u)}ue(e,t){return r0(e).put(function(r,i,u){const[d,f,y]=oN(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:t0(r.re,u.mutation)}}(this.It,this.userId,t))}}function r0(n){return ci(n,"documentOverlays")}class Cf{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(M(e.integerValue));else if("doubleValue"in e){const r=M(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Tt(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(L(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?r1(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ht()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),nt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function uk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function cN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=uk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Cf.Te=new Cf;class lk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=cN(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=cN(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ck{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class dk{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class s0{constructor(){this.Be=new lk,this.Le=new ck(this.Be),this.Ue=new dk(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Af{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Af(this.indexId,this.documentKey,this.arrayValue,r)}}function Sf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=dN(n.arrayValue,e.arrayValue),0!==t?t:(t=dN(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function dN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class hk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Vv(e);if(void 0!==t&&!this.ze(t))return!1;const r=hl(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class fk{constructor(){this.Ye=new WA}addToCollectionParentIndex(e,t){return this.Ye.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(wi.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class WA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new a(En.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new a(En.comparator)).toArray()}}const Cb=new Uint8Array(0);class pk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new WA,this.Ze=new Zc(r=>Ef(r),(r,i)=>Gv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Ki(i)};return hN(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Yg(t),""],!1,!0);return hN(e).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Ya(d.parent))}return r})}addFieldIndex(e,t){const r=Ab(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=a0(e);return u.next(f=>{d.put(aN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ab(e),i=a0(e),u=o0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=o0(e);let i=!0;const u=new Map;return de.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),u.set(d,f)})).next(()=>{if(i){let d=sn();const f=[];return de.forEach(u,(y,w)=>{var D;Ge("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Ef(t)}`);const C=function(Nt,wt){const Bt=Vv(wt);if(void 0===Bt)return null;for(const Zt of mb(Nt,Bt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(w,y),V=function(Nt,wt){const Bt=new Map;for(const Zt of hl(wt))for(const wn of mb(Nt,Zt.fieldPath))switch(wn.op){case"==":case"in":Bt.set(Zt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Bt.set(Zt.fieldPath.canonicalString(),wn.value),Array.from(Bt.values())}return null}(w,y),H=function(Nt,wt){const Bt=[];let Zt=!0;for(const wn of hl(wt)){const Xi=0===wn.kind?u1(Nt,wn.fieldPath,Nt.startAt):l1(Nt,wn.fieldPath,Nt.startAt);Bt.push(Xi.value),Zt&&(Zt=Xi.inclusive)}return new zc(Bt,Zt)}(w,y),Z=function(Nt,wt){const Bt=[];let Zt=!0;for(const wn of hl(wt)){const Xi=0===wn.kind?l1(Nt,wn.fieldPath,Nt.endAt):u1(Nt,wn.fieldPath,Nt.endAt);Bt.push(Xi.value),Zt&&(Zt=Xi.inclusive)}return new zc(Bt,Zt)}(w,y),ae=this.nn(y,w,H),be=this.nn(y,w,Z),tt=this.sn(y,w,V),at=this.rn(y.indexId,C,ae,H.inclusive,be,Z.inclusive,tt);return de.forEach(at,Nt=>r.J(Nt,t.limit).next(wt=>{wt.forEach(Bt=>{const Zt=nt.fromSegments(Bt.documentKey);d.has(Zt)||(d=d.add(Zt),f.push(Zt))})}))}).next(()=>f)}return de.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),w=y/(null!=t?t.length:1),D=[];for(let C=0;C<y;++C){const V=t?this.on(t[C/w]):Cb,H=this.un(e,V,r[C%w],i),Z=this.cn(e,V,u[C%w],d),ae=f.map(be=>this.un(e,V,be,!0));D.push(...this.createRange(H,Z,ae))}return D}un(e,t,r,i){const u=new Af(e,nt.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new Af(e,nt.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new hk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const f of u)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return de.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(d){let f=new a(nr.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:f=f.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new s0;for(const i of hl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.qe(i.kind);Cf.Te.ce(u,d)}return r.$e()}on(e){const t=new s0;return Cf.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new s0;return Cf.Te.ce(aa(this.databaseId,t),r.qe(function(i){const u=hl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new s0);let u=0;for(const d of hl(e)){const f=r[u++];for(const y of i)if(this.ln(t,d.fieldPath)&&gl(f))i=this.fn(i,d,f);else{const w=y.qe(d.kind);Cf.Te.ce(f,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new s0;y.seed(f.$e()),Cf.Te.ce(d,y.qe(t.kind)),u.push(y)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ab(e),i=a0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return de.forEach(u,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,D){const C=D?new mf(D.sequenceNumber,new wi(Df(D.readTime),new nt(Ya(D.documentKey)),D.largestBatchId)):mf.empty(),V=w.fields.map(([H,Z])=>new gf(nr.fromServerFormat(H),Z));return new Jg(w.indexId,w.collectionGroup,V,C)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ab(e),u=a0(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,y=>u.put(aN(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,y=>this.wn(e,i,y).next(w=>{const D=this.mn(u,y);return w.isEqual(D)?de.resolve():this.gn(e,u,y,w,D)}))))})}yn(e,t,r,i){return o0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return o0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=o0(e);let u=new a(Sf);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{u=u.add(new Af(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}mn(e,t){let r=new a(Sf);const i=this.an(t,e);if(null==i)return r;const u=Vv(t);if(null!=u){const d=e.data.field(u.fieldPath);if(gl(d))for(const f of d.arrayValue.values||[])r=r.add(new Af(t.indexId,e.key,this.on(f),i))}else r=r.add(new Af(t.indexId,e.key,Cb,i));return r}gn(e,t,r,i,u){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,D,C){const V=f.getIterator(),H=y.getIterator();let Z=h(V),ae=h(H);for(;Z||ae;){let be=!1,tt=!1;if(Z&&ae){const at=w(Z,ae);at<0?tt=!0:at>0&&(be=!0)}else null!=Z?tt=!0:be=!0;be?(D(ae),ae=h(H)):tt?(C(Z),Z=h(V)):(Z=h(V),ae=h(H))}}(i,u,Sf,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),de.waitFor(d)}_n(e){let t=1;return a0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Sf(d,f)).filter((d,f,y)=>!f||0!==Sf(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=Sf(d,e),y=Sf(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Cb,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Cb,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fN)}getMinOffset(e,t){return de.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ht())).next(fN)}}function hN(n){return ci(n,"collectionParents")}function o0(n){return ci(n,"indexEntries")}function Ab(n){return ci(n,"indexConfiguration")}function a0(n){return ci(n,"indexState")}function fN(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;hb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wi(e.readTime,e.documentKey,t)}const pN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ys(e,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(D,C,V)=>(f++,V.delete()));u.push(y.next(()=>{Ut(1===f)}));const w=[];for(const D of t.mutations){const C=X1(e,D.key.path,t.batchId);u.push(i.delete(C)),w.push(D.key)}return de.waitFor(u).next(()=>w)}function Sb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class Mb{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Mb(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Z({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=dm(e),d=Kc(e);return d.add({}).next(f=>{Ut("number"==typeof f);const y=new HA(f,t,r,i),w=function(V,H,Z){const ae=Z.baseMutations.map(tt=>t0(V.re,tt)),be=Z.mutations.map(tt=>t0(V.re,tt));return{userId:H,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ae,mutations:be}}(this.It,this.userId,y),D=[];let C=new a((V,H)=>Yt(V.canonicalString(),H.canonicalString()));for(const V of i){const H=X1(this.userId,V.key.path,f);C=C.add(V.key.path.popLast()),D.push(d.put(w)),D.push(u.put(H,HO))}return C.forEach(V=>{D.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),de.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(r=>r?(Ut(r.userId===this.userId),Tf(this.It,r)):null)}Tn(e,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Kc(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(Ut(f.batchId>=r),u=Tf(this.It,f)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).W("userMutationsIndex",t).next(r=>r.map(i=>Tf(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=bb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return dm(e).Z({range:i},(d,f,y)=>{const[w,D,C]=d,V=Ya(D);if(w===this.userId&&t.path.isEqual(V))return Kc(e).get(C).next(H=>{if(!H)throw ht();Ut(H.userId===this.userId),u.push(Tf(this.It,H))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a(Yt);const i=[];return t.forEach(u=>{const d=bb(this.userId,u.path),f=IDBKeyRange.lowerBound(d),y=dm(e).Z({range:f},(w,D,C)=>{const[V,H,Z]=w,ae=Ya(H);V===this.userId&&u.path.isEqual(ae)?r=r.add(Z):C.done()});i.push(y)}),de.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=bb(this.userId,r),d=IDBKeyRange.lowerBound(u);let f=new a(Yt);return dm(e).Z({range:d},(y,w,D)=>{const[C,V,H]=y,Z=Ya(V);C===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(f=f.add(H)):D.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Kc(e).get(u).next(d=>{if(null===d)throw ht();Ut(d.userId===this.userId),r.push(Tf(this.It,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return gN(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dm(e).Z({range:r},(u,d,f)=>{if(u[0]===this.userId){const y=Ya(u[1]);i.push(y)}else f.done()}).next(()=>{Ut(0===i.length)})})}containsKey(e,t){return mN(e,this.userId,t)}Rn(e){return yN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mN(n,e,t){const r=bb(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return dm(n).Z({range:u,X:!0},(f,y,w)=>{const[D,C,V]=f;D===e&&C===i&&(d=!0),w.done()}).next(()=>d)}function Kc(n){return ci(n,"mutations")}function dm(n){return ci(n,"documentMutations")}function yN(n){return ci(n,"mutationQueues")}class Mf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Mf(0)}static vn(){return new Mf(-1)}}class gk{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Mf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ht.fromTimestamp(new Un(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hm(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return hm(e).Z((d,f)=>{const y=n0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(e,t){return hm(e).Z((r,i)=>{const u=n0(i);t(u)})}Vn(e){return _N(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}Sn(e,t){return _N(e).put("targetGlobalKey",t)}Dn(e,t){return hm(e).put(sN(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ef(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return hm(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=n0(f);Gv(t,w.target)&&(u=w,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Yc(e);return t.forEach(d=>{const f=Ki(d.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yc(e);return de.forEach(t,u=>{const d=Ki(u.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Yc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yc(e);let u=sn();return i.Z({range:r,X:!0},(d,f,y)=>{const w=Ya(d[1]),D=new nt(w);u=u.add(D)}).next(()=>u)}containsKey(e,t){const r=Ki(t.path),i=IDBKeyRange.bound([r],[Yg(r)],!1,!0);let u=0;return Yc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}se(e,t){return hm(e).get(t).next(r=>r?n0(r):null)}}function hm(n){return ci(n,"targets")}function _N(n){return ci(n,"targetGlobal")}function Yc(n){return ci(n,"targetDocuments")}function vN([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class mk{constructor(e){this.xn=e,this.buffer=new a(vN),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){fl(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield za(r)}yield t.Fn(3e5)}))}}class _k{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Zi.at);const r=new mk(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(pN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pN):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,d,f,y,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,d=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,f=Date.now(),this.removeTargets(e,r,t))).next(C=>(u=C,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(w=Date.now(),Zg()<=ja.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${u} targets in `+(y-f)+`ms\n\tRemoved ${C} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:C})))}}class vk{constructor(e,t){this.db=e,this.garbageCollector=new _k(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return xb(e,r)}removeReference(e,t,r){return xb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return xb(e,t)}Gn(e,t){return function(r,i){let u=!1;return yN(r).tt(d=>mN(r,d,i).next(f=>(f&&(u=!0),de.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(w=>{if(!w)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ht.min()),Yc(e).delete([0,Ki(d.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return xb(e,t)}Kn(e,t){const r=Yc(e);let i,u=Zi.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(u!==Zi.at&&t(new nt(Ya(i)),u),u=w,i=y):u=Zi.at}).next(()=>{u!==Zi.at&&t(new nt(Ya(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xb(n,e){return Yc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:r}));var r}class EN{constructor(){this.changes=new Zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ek{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xf(e).put(r)}removeEntry(e,t,r){return xf(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Db(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=er.newInvalidDocument(t);return xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(u0(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:er.newInvalidDocument(t)};return xf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(u0(t))},(i,u)=>{r={document:this.jn(t,u),size:Sb(u)}}).next(()=>r)}getEntries(e,t){let r=ms();return this.zn(e,t,(i,u)=>{const d=this.jn(i,u);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=ms(),i=new Er(nt.comparator);return this.zn(e,t,(u,d)=>{const f=this.jn(u,d);r=r.insert(u,f),i=i.insert(u,Sb(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return de.resolve();let i=new a(DN);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(u0(i.first()),u0(i.last())),d=i.getIterator();let f=d.getNext();return xf(e).Z({index:"documentKeyIndex",range:u},(y,w,D)=>{const C=nt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&DN(f,C)<0;)r(f,null),f=d.getNext();f&&f.isEqual(C)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?D.j(u0(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Db(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xf(e).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let f=ms();for(const y of d){const w=this.jn(nt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=ms();const d=bN(t,r),f=bN(t,wi.max());return xf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,D)=>{const C=this.jn(nt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(C.key,C),u.size===i&&D.done()}).next(()=>u)}newChangeBuffer(e){return new wk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return IN(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Qn(e,t){return IN(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ok(n,e){let t;if(e.document)t=z1(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),i=Df(e.noDocument.readTime);t=er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=nt.fromSegments(e.unknownDocument.path),i=Df(e.unknownDocument.version);t=er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Un(r[0],r[1]);return Ht.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ht.min()))return r}return er.newInvalidDocument(e)}}function wN(n){return new Ek(n)}class wk extends EN{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Zc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new a((u,d)=>Yt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),d.isValidDocument()){const y=iN(this.Yn.It,d);i=i.add(u.path.popLast()),r+=Sb(y)-f.size,t.push(this.Yn.addEntry(e,u,y))}else if(r-=f.size,this.trackRemovals){const y=iN(this.Yn.It,d.convertToNoDocument(Ht.min()));t.push(this.Yn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function IN(n){return ci(n,"remoteDocumentGlobal")}function xf(n){return ci(n,"remoteDocumentsV14")}function u0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bN(n,e){const t=e.documentKey.path.toArray();return[n,Db(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Yt(t[u],r[u]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class Ik{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class TN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Zv(r.mutation,i,p.empty(),Un.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const i=Wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=Wv();return u.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let u=ms();const d=Kv(),f=Kv();return t.forEach((y,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof yl)?u=u.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),Zv(D.mutation,w,D.mutation.getFieldMask(),Un.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var C;return f.set(w,new Ik(D,null!==(C=d.get(w))&&void 0!==C?C:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Kv();let i=new Er((d,f)=>d-f),u=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=r.get(y)||p.empty();D=f.applyToLocalView(w,D),r.set(y,D);const C=(i.get(f.batchId)||sn()).add(y);i=i.insert(f.batchId,C)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,C=k1();D.forEach(V=>{if(!u.has(V)){const H=C1(t.get(V),r.get(V));null!==H&&C.set(V,H),u=u.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,C))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):OA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):de.resolve(Wa());let f=-1,y=u;return d.next(w=>de.forEach(w,(D,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),u.get(D)?de.resolve():this.getBaseDocument(e,D,C).next(V=>{y=y.insert(D,V)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,y,w,sn())).next(D=>({batchId:f,changes:O1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let i=Wv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Wv();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,f=>{const y=(w=t,D=f.child(i),new ml(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((D,C)=>{u=u.insert(D,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,er.newInvalidDocument(w)))});let d=Wv();return i.forEach((f,y)=>{const w=u.get(f);void 0!==w&&Zv(w.mutation,y,p.empty(),Un.now()),FA(t,y)&&(d=d.insert(f,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(er.newInvalidDocument(t))}}class bk{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:li(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:zA(r.bundledQuery),readTime:li(r.readTime)}),de.resolve();var r}}class Dk{constructor(){this.overlays=new Er(nt.comparator),this.es=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wa();return de.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=Wa(),u=t.length+1,d=new nt(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Er((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=u.get(w.largestBatchId);null===D&&(D=Wa(),u=u.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Wa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return de.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qA(t,r));let u=this.es.get(t);void 0===u&&(u=sn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class KA{constructor(){this.ns=new a(di.ss),this.rs=new a(di.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new di(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new di(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new nt(new En([])),r=new di(t,e),i=new di(t,e+1),u=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new nt(new En([])),r=new di(t,e),i=new di(t,e+1);let u=sn();return this.rs.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new di(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return nt.comparator(e.key,t.key)||Yt(e._s,t._s)}static os(e,t){return Yt(e._s,t._s)||nt.comparator(e.key,t.key)}}class Tk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new a(di.ss)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const d=new HA(u,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new di(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);u.push(f)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new a(Yt);return t.forEach(i=>{const u=new di(i,0),d=new di(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],f=>{r=r.add(f._s)})}),de.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;nt.isDocumentKey(u)||(u=u.child(""));const d=new di(new nt(u),0);let f=new a(Yt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y._s)),!0)},d),de.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return de.forEach(t.mutations,i=>{const u=new di(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new di(t,0),i=this.gs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ck{constructor(e){this.Es=e,this.docs=new Er(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=ms();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():er.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=ms();const u=new nt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||hb(Uv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ht()}As(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ak(this)}getSize(e){return de.resolve(this.size)}}class Ak extends EN{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Sk{constructor(e){this.persistence=e,this.Rs=new Zc(t=>Ef(t),Gv),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.bs=0,this.Ps=new KA,this.targetCount=0,this.vs=Mf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),de.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Mf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Dn(t),de.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ps.containsKey(t))}}class CN{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Zi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Sk(this),this.indexManager=new fk,this.remoteDocumentCache=new Ck(r=>this.referenceDelegate.xs(r)),this.It=new rN(t),this.Ns=new bk(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Tk(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new Mk(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return de.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Mk extends Xg{constructor(e){super(),this.currentSequenceNumber=e}}class Nb{constructor(e){this.persistence=e,this.Fs=new KA,this.$s=null}static Bs(e){return new Nb(e)}get Ls(){if(this.$s)return this.$s;throw ht()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,r=>{const i=nt.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,Ht.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class xk{constructor(e){this.It=e}$(e,t,r,i){const u=new $v("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",J1,{unique:!0}),f.createObjectStore("documentMutations"),AN(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),AN(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",J1,{unique:!0});const D=y.store("mutations"),C=w.map(V=>D.put(V));return de.waitFor(C)})}(e,u))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(u))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(u))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(u))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:tk});y.createIndex("collectionPathOverlayIndex",nk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",rk,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:GO});y.createIndex("documentKeyIndex",qO),y.createIndex("collectionGroupIndex",zO)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QO}).createIndex("sequenceNumberIndex",JO,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:XO}).createIndex("documentKeyIndex",ek,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Sb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>de.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>de.forEach(f,y=>{Ut(y.userId===u.userId);const w=Tf(this.It,y);return gN(e,u.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((d,f)=>{const y=new En(d),w=[0,Ki(y)];u.push(t.get(w).next(D=>D?de.resolve():t.put({targetId:0,path:Ki(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:YO});const r=t.store("collectionParents"),i=new WA,u=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:Ki(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new En(d);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],w)=>{const D=Ya(f);return u(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=n0(i),d=sN(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new nt(En.fromString(w.document.name).popFirst(5)):w.noDocument?nt.fromSegments(w.noDocument.path):w.unknownDocument?nt.fromSegments(w.unknownDocument.path):ht()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>de.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=wN(this.It),u=new CN(Nb.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:sn();Tf(this.It,y).keys().forEach(C=>D=D.add(C)),f.set(y.userId,D)}),de.forEach(f,(y,w)=>{const D=new _r(w),C=Tb.oe(this.It,D),V=u.getIndexManager(D),H=Mb.oe(D,this.It,V,u.referenceDelegate);return new TN(i,H,C,V).recalculateAndSaveOverlaysForDocumentKeys(new $A(t,Zi.at),y).next()})})}}function AN(n){n.createObjectStore("targetDocuments",{keyPath:WO}).createIndex("documentTargetsIndex",KO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZO,{unique:!0}),n.createObjectStore("targetGlobal")}const YA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QA{constructor(e,t,r,i,u,d,f,y,w,D,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=f,this.Js=w,this.Ys=D,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!QA.C())throw new Be(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vk(this,i),this.ii=t+"main",this.It=new rN(y),this.ri=new js(this.ii,this.Xs,new xk(this.It)),this.Cs=new gk(this.referenceDelegate,this.It),this.remoteDocumentCache=wN(this.It),this.Ns=new ak,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,YA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Zi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Me.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(fl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return l0(e).get("owner").next(t=>de.resolve(this.mi(t)))}gi(e){return Rb(e).delete(this.clientId)}yi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.W().next(u=>{const d=e.Ii(u,18e5),f=u.filter(y=>-1===d.indexOf(y));return de.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?de.resolve(!0):l0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Be(_e.FAILED_PRECONDITION,YA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rb(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $A(t,Zi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rb(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Mb.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Tb.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?sk:14===d?nN:13===d?tN:12===d?ik:11===d?eN:void ht();var d;let f;return this.ri.runTransaction(e,i,u,y=>(f=new $A(y,this.Ss?this.Ss.next():Zi.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(_e.FAILED_PRECONDITION,Bv);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return l0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(_e.FAILED_PRECONDITION,YA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return l0(e).put("owner",t)}static C(){return js.C()}_i(e){const t=l0(e);return t.get("owner").next(r=>this.mi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(vr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,bn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return vr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function l0(n){return ci(n,"owner")}function Rb(n){return ci(n,"clientMetadata")}function JA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class XA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=sn(),i=sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new XA(e,t.fromCache,r,i)}}class SN{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(p1(t))return de.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=yb(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=sn(...u);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,f);return this.$i(t,w,d,y.readTime)?this.ki(e,yb(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return p1(t)||i.isEqual(Ht.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,i)?this.Mi(e,t):(Zg()<=ja.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kA(t)),this.Bi(e,d,t,db(i,-1)))})}Fi(e,t){let r=new a(y1(e));return t.forEach((i,u)=>{FA(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return Zg()<=ja.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",kA(t)),this.Ni.getDocumentsMatchingQuery(e,t,wi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Nk{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Er(Yt),this.qi=new Zc(u=>Ef(u),Gv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function MN(n,e,t,r){return new Nk(n,e,t,r)}function xN(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,Me.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],f=[];let y=sn();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of u){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),eS.apply(this,arguments)}function Rk(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const D=y.batch,C=D.keys();let V=de.resolve();return C.forEach(H=>{V=V.next(()=>w.getEntry(f,H)).next(Z=>{const ae=y.docVersions.get(H);Ut(null!==ae),Z.version.compareTo(ae)<0&&(D.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),w.addEntry(Z)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(f,D))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=sn();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NN(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Pk(n,e){const t=it(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((D,C)=>{const V=i.get(C);if(!V)return;f.push(t.Cs.removeMatchingKeys(u,D.removedDocuments,C).next(()=>t.Cs.addMatchingKeys(u,D.addedDocuments,C)));let H=V.withSequenceNumber(u.currentSequenceNumber);var Z,ae,be;e.targetMismatches.has(C)?H=H.withResumeToken(E.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),i=i.insert(C,H),ae=H,be=D,(0===(Z=V).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,H))});let y=ms(),w=sn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),f.push(RN(u,d,e.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!r.isEqual(Ht.min())){const D=t.Cs.getLastRemoteSnapshotVersion(u).next(C=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(D)}return de.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.Ui=i,u))}function RN(n,e,t){let r=sn(),i=sn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=ms();return t.forEach((f,y)=>{const w=u.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Ht.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function Ok(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fm(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,de.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Wc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function pm(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,Me.Z)(function*(n,e,t){const r=it(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!fl(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),tS.apply(this,arguments)}function Pb(n,e,t){const r=it(n);let i=Ht.min(),u=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const D=it(f),C=D.qi.get(w);return void 0!==C?de.resolve(D.Ui.get(C)):D.Cs.getTargetData(y,w)}(r,d,Wi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{u=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Ht.min(),t?u:sn())).next(f=>(kN(r,m1(e),f),{documents:f,Hi:u})))}function PN(n,e){const t=it(n),r=it(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function ON(n,e){const t=it(n),r=t.Ki.get(e)||Ht.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,db(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(kN(t,e,i),i))}function kN(n,e,t){let r=n.Ki.get(e)||Ht.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function nS(){return nS=(0,Me.Z)(function*(n,e,t,r){const i=it(n);let u=sn(),d=ms();for(const w of t){const D=e.Ji(w.metadata.name);w.document&&(u=u.add(D));const C=e.Yi(w);C.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(D,C)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield fm(i,(w=r,Wi(rm(En.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>RN(w,f,d).next(D=>(f.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),nS.apply(this,arguments)}function Fk(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,Me.Z)(function*(n,e,t=sn()){const r=yield fm(n,Wi(zA(e.bundledQuery))),i=it(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=li(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(E.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(u,f).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),rS.apply(this,arguments)}function FN(n,e){return`firestore_clients_${n}_${e}`}function LN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function iS(n,e){return`firestore_targets_${n}_${e}`}class Ob{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Be(i.error.code,i.error.message))),d?new Ob(e,t,i.state,u):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class c0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Be(r.error.code,r.error.message))),u?new c0(e,r.state,i):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=wb();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Le(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new kb(e,u):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sS(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oS{constructor(){this.activeTargetIds=wb()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aS{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Er(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=FN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new oS),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(FN(e.persistenceKey,i));if(u){const d=kb.Zi(i,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(iS(this.persistenceKey,e));if(r){const i=c0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let d=Zi.at;if(null!=u)try{const f=JSON.parse(u);Ut("number"==typeof f),d=f}catch(f){vr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Zi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Ob(this.currentUser,e,t,r),u=LN(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=LN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=iS(this.persistenceKey,e),u=new c0(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return kb.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Ob.Zi(new _r(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return c0.Zi(i,t)}yr(e){return sS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),d=[],f=[];return u.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{u.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=wb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class VN{constructor(){this.Lr=new oS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lk{qr(e){}shutdown(){}}class UN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uk{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Bk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const d=this.ho(e,t);Ge("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,u),this.fo(e,d,f,r).then(y=>(Ge("RestConnection","Received: ",y),y),y=>{throw Hc("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,u,d){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Vk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,d)=>{const f=new ob;f.listenOnce(Ov.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rb.NO_ERROR:const w=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),u(w);break;case rb.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),d(new Be(_e.DEADLINE_EXCEEDED,"Request time out"));break;case rb.HTTP_ERROR:const D=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const C=f.getResponseJson().error;if(C&&C.status&&C.message){const V=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(Z)>=0?Z:_e.UNKNOWN}(C.status);d(new Be(V,C.message))}else d(new Be(_e.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Be(_e.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=EA(),d=nb(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new sb({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Ge("Connection","Creating WebChannel: "+y,f);const w=u.createWebChannel(y,f);let D=!1,C=!1;const V=new Uk({Hr:Z=>{C?Ge("Connection","Not sending because WebChannel is closed:",Z):(D||(Ge("Connection","Opening WebChannel transport."),w.open(),D=!0),Ge("Connection","WebChannel sending:",Z),w.send(Z))},Jr:()=>w.close()}),H=(Z,ae,be)=>{Z.listen(ae,tt=>{try{be(tt)}catch(at){setTimeout(()=>{throw at},0)}})};return H(w,ff.EventType.OPEN,()=>{C||Ge("Connection","WebChannel transport opened.")}),H(w,ff.EventType.CLOSE,()=>{C||(C=!0,Ge("Connection","WebChannel transport closed"),V.io())}),H(w,ff.EventType.ERROR,Z=>{C||(C=!0,Hc("Connection","WebChannel transport errored:",Z),V.io(new Be(_e.UNAVAILABLE,"The operation could not be completed")))}),H(w,ff.EventType.MESSAGE,Z=>{var ae;if(!C){const be=Z.data[0];Ut(!!be);const tt=be,at=tt.error||(null===(ae=tt[0])||void 0===ae?void 0:ae.error);if(at){Ge("Connection","WebChannel received error:",at);const Nt=at.status;let wt=function(Zt){const wn=qr[Zt];if(void 0!==wn)return R1(wn)}(Nt),Bt=at.message;void 0===wt&&(wt=_e.INTERNAL,Bt="Unknown error status: "+Nt+" with message "+at.message),C=!0,V.io(new Be(wt,Bt)),w.close()}else Ge("Connection","WebChannel received:",be),V.ro(be)}}),H(d,ib.STAT_EVENT,Z=>{Z.stat===kv.PROXY?Ge("Connection","Detected buffering proxy"):Z.stat===kv.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function BN(){return typeof window<"u"?window:null}function Fb(){return typeof document<"u"?document:null}function d0(n){return new NO(n,!0)}class uS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class jN{constructor(e,t,r,i,u,d,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new uS(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Me.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Me.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Me.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Be(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,Me.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jk extends jN{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function OO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ht(),i=e.targetChange.targetIds||[],u=function(y,w){return y.gt?(Ut(void 0===w||"string"==typeof w),E.fromBase64String(w||"")):(Ut(void 0===w||w instanceof Uint8Array),E.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const w=void 0===y.code?_e.UNKNOWN:R1(y.code);return new Be(w,y.message||"")}(d);t=new L1(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ka(n,r.document.name),u=li(r.document.updateTime),d=new Ii({mapValue:{fields:r.document.fields}}),f=er.newFoundDocument(i,u,d);t=new Ib(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ka(n,r.document),u=r.readTime?li(r.readTime):Ht.min(),d=er.newNoDocument(i,u);t=new Ib([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ka(n,r.document);t=new Ib([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ht();{const r=e.filter,u=new bO(r.count||0);t=new F1(r.targetId,u)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Ht.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Ht.min():u.readTime?li(u.readTime):Ht.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=e0(this.It),t.addTarget=function(i,u){let d;const f=u.target;return d=gb(f)?{documents:Z1(i,f)}:{query:jA(i,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=j1(i,u.resumeToken):u.snapshotVersion.compareTo(Ht.min())>0&&(d.readTime=Jv(i,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function FO(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=e0(this.It),t.removeTarget=e,this.Lo(t)}}class $k extends jN{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function kO(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,i){let u=li(r.updateTime?r.updateTime:i);return u.isEqual(Ht.min())&&(u=li(i)),new EO(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.tu(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=e0(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>t0(this.It,r))};this.Lo(t)}}class Hk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(_e.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Be(_e.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(vr(t),this.uu=!1):Ge("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class zk{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(f=>{r.enqueueAndForget((0,Me.Z)(function*(){var y;_l(d)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Me.Z)(function*(w){const D=it(w);D.wu.add(4),yield gm(D),D.yu.set("Unknown"),D.wu.delete(4),yield h0(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new qk(r,i)}}function h0(n){return cS.apply(this,arguments)}function cS(){return cS=(0,Me.Z)(function*(n){if(_l(n))for(const e of n.mu)yield e(!0)}),cS.apply(this,arguments)}function gm(n){return dS.apply(this,arguments)}function dS(){return dS=(0,Me.Z)(function*(n){for(const e of n.mu)yield e(!1)}),dS.apply(this,arguments)}function Lb(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),pS(t)?fS(t):ym(t).Oo()&&hS(t,e))}function f0(n,e){const t=it(n),r=ym(t);t._u.delete(e),r.Oo()&&$N(t,e),0===t._u.size&&(r.Oo()?r.$o():_l(t)&&t.yu.set("Unknown"))}function hS(n,e){n.pu.Mt(e.targetId),ym(n).Ho(e)}function $N(n,e){n.pu.Mt(e),ym(n).Jo(e)}function fS(n){n.pu=new SO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),ym(n).start(),n.yu.cu()}function pS(n){return _l(n)&&!ym(n).ko()&&n._u.size>0}function _l(n){return 0===it(n).wu.size}function HN(n){n.pu=void 0}function Zk(n){return gS.apply(this,arguments)}function gS(){return gS=(0,Me.Z)(function*(n){n._u.forEach((e,t)=>{hS(n,e)})}),gS.apply(this,arguments)}function Wk(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,Me.Z)(function*(n,e){HN(n),pS(n)?(n.yu.lu(e),fS(n)):n.yu.set("Unknown")}),mS.apply(this,arguments)}function Kk(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=(0,Me.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof L1&&2===e.state&&e.cause)try{yield(r=(0,Me.Z)(function*(i,u){const d=u.cause;for(const f of u.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vb(n,r)}else if(e instanceof Ib?n.pu.Gt(e):e instanceof F1?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Ht.min()))try{const r=yield NN(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.pu.te(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(f=>{const y=i._u.get(f);if(!y)return;i._u.set(f,y.withResumeToken(E.EMPTY_BYTE_STRING,y.snapshotVersion)),$N(i,f);const w=new Wc(y.target,f,1,y.sequenceNumber);hS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield Vb(n,r)}var r}),yS.apply(this,arguments)}function Vb(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=(0,Me.Z)(function*(n,e,t){if(!fl(e))throw e;n.wu.add(1),yield gm(n),n.yu.set("Offline"),t||(t=()=>NN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield h0(n)}))}),_S.apply(this,arguments)}function GN(n,e){return e().catch(t=>Vb(n,t,e))}function mm(n){return vS.apply(this,arguments)}function vS(){return vS=(0,Me.Z)(function*(n){const e=it(n),t=Qc(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Yk(e);)try{const i=yield Ok(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Qk(e,i)}catch(i){yield Vb(e,i)}qN(e)&&zN(e)}),vS.apply(this,arguments)}function Yk(n){return _l(n)&&n.du.length<10}function Qk(n,e){n.du.push(e);const t=Qc(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function qN(n){return _l(n)&&!Qc(n).ko()&&n.du.length>0}function zN(n){Qc(n).start()}function Jk(n){return ES.apply(this,arguments)}function ES(){return ES=(0,Me.Z)(function*(n){Qc(n).nu()}),ES.apply(this,arguments)}function Xk(n){return wS.apply(this,arguments)}function wS(){return wS=(0,Me.Z)(function*(n){const e=Qc(n);for(const t of n.du)e.Zo(t.mutations)}),wS.apply(this,arguments)}function eF(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,Me.Z)(function*(n,e,t){const r=n.du.shift(),i=GA.from(r,e,t);yield GN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield mm(n)}),IS.apply(this,arguments)}function tF(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,Me.Z)(function*(n,e){var t;e&&Qc(n).Xo&&(yield(t=(0,Me.Z)(function*(r,i){if(N1(u=i.code)&&u!==_e.ABORTED){const d=r.du.shift();Qc(r).Fo(),yield GN(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield mm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),qN(n)&&zN(n)}),bS.apply(this,arguments)}function ZN(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,Me.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=_l(t);t.wu.add(3),yield gm(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield h0(t)}),DS.apply(this,arguments)}function TS(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,Me.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield h0(t)):e||(t.wu.add(2),yield gm(t),t.yu.set("Unknown"))}),CS.apply(this,arguments)}function ym(n){return n.Iu||(n.Iu=function(e,t,r){const i=it(e);return i.iu(),new jk(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Zk.bind(null,n),Zr:Wk.bind(null,n),zo:Kk.bind(null,n)}),n.mu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Iu.Fo(),pS(n)?fS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),HN(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Qc(n){return n.Tu||(n.Tu=function(e,t,r){const i=it(e);return i.iu(),new $k(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Jk.bind(null,n),Zr:tF.bind(null,n),eu:Xk.bind(null,n),tu:eF.bind(null,n)}),n.mu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Tu.Fo(),yield mm(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class AS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,f=new AS(e,t,d,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(n,e){if(vr("AsyncQueue",`${e}: ${n}`),fl(n))return new Be(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class vm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Wv(),this.sortedSet=new Er(this.comparator)}static emptySet(e){return new vm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class WN{constructor(){this.Eu=new Er(nt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ht():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Em{constructor(e,t,r,i,u,d,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Em(e,t,vm.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class nF{constructor(){this.Ru=void 0,this.listeners=[]}}class rF{constructor(){this.queries=new Zc(e=>g1(e),qv),this.onlineState="Unknown",this.bu=new Set}}function SS(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new nF),i)try{u.Ru=yield t.onListen(r)}catch(d){const f=_m(d,`Initialization of query '${kA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&RS(t)}),MS.apply(this,arguments)}function xS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),NS.apply(this,arguments)}function iF(n,e){const t=it(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.vu(i)&&(r=!0);d.Ru=i}}r&&RS(t)}function sF(n,e,t){const r=it(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function RS(n){n.bu.forEach(e=>{e.next()})}class PS{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Em(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class oF{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class KN{constructor(e){this.It=e}Ji(e){return Ka(this.It,e)}Yi(e){return e.metadata.exists?z1(this.It,e.document,!1):er.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return li(e)}}class aF{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=En.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new KN(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||sn()).add(u);t.set(d,f)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function kk(n,e,t,r){return nS.apply(this,arguments)}(e.localStore,new KN(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Fk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function YN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QN{constructor(e){this.key=e}}class JN{constructor(e){this.key=e}}class XN{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=y1(e),this.Qu=new vm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new WN,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,C)=>{const V=i.get(D),H=FA(this.query,C)?C:null,Z=!!V&&this.mutatedKeys.has(V.key),ae=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let be=!1;V&&H?V.data.isEqual(H.data)?Z!==ae&&(r.track({type:3,doc:H}),be=!0):this.Hu(V,H)||(r.track({type:2,doc:H}),be=!0,(y&&this.Gu(H,y)>0||w&&this.Gu(H,w)<0)&&(f=!0)):!V&&H?(r.track({type:0,doc:H}),be=!0):V&&!H&&(r.track({type:1,doc:V}),be=!0,(y||w)&&(f=!0)),be&&(H?(d=d.add(H),u=ae?u.add(D):u.delete(D)):(d=d.delete(D),u=u.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),u=u.delete(D.key),r.track({type:1,doc:D})}return{Qu:d,zu:r,$i:f,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((w,D)=>function(C,V){const H=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return H(C)-H(V)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==u.length||y?{snapshot:new Em(this.query,e.Qu,i,u,e.mutatedKeys,0===f,y,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new WN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new JN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new QN(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Em.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class uF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lF{constructor(e){this.key=e,this.nc=!1}}class cF{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Zc(f=>g1(f),qv),this.rc=new Map,this.oc=new Set,this.uc=new Er(nt.comparator),this.cc=new Map,this.ac=new KA,this.hc={},this.lc=new Map,this.fc=Mf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function dF(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,Me.Z)(function*(n,e){const t=rM(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const d=yield fm(t.localStore,Wi(e));t.isPrimaryClient&&Lb(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield kS(t,e,r,"current"===f)}return i}),OS.apply(this,arguments)}function kS(n,e,t,r){return FS.apply(this,arguments)}function FS(){return FS=(0,Me.Z)(function*(n,e,t,r){n._c=(D,C,V)=>{return(H=(0,Me.Z)(function*(Z,ae,be,tt){let at=ae.view.Wu(be);at.$i&&(at=yield Pb(Z.localStore,ae.query,!1).then(({documents:Bt})=>ae.view.Wu(Bt,at)));const Nt=tt&&tt.targetChanges.get(ae.targetId),wt=ae.view.applyChanges(at,Z.isPrimaryClient,Nt);return zS(Z,ae.targetId,wt.Xu),wt.snapshot}),function(Z,ae,be,tt){return H.apply(this,arguments)})(n,D,C,V);var H};const i=yield Pb(n.localStore,e,!0),u=new XN(e,i.Hi),d=u.Wu(i.documents),f=Qv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(d,n.isPrimaryClient,f);zS(n,t,y.Xu);const w=new uF(e,t,u);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),y.snapshot}),FS.apply(this,arguments)}function hF(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,Me.Z)(function*(n,e){const t=it(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!qv(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),f0(t.remoteStore,r.targetId),wm(t,r.targetId)}).catch(za))):(wm(t,r.targetId),yield pm(t.localStore,r.targetId,!0))}),LS.apply(this,arguments)}function VS(){return VS=(0,Me.Z)(function*(n,e,t){const r=iM(n);try{const i=yield function(u,d){const f=it(u),y=Un.now(),w=d.reduce((V,H)=>V.add(H.key),sn());let D,C;return f.persistence.runTransaction("Locally write mutations","readwrite",V=>{let H=ms(),Z=sn();return f.Gi.getEntries(V,w).next(ae=>{H=ae,H.forEach((be,tt)=>{tt.isValidDocument()||(Z=Z.add(be))})}).next(()=>f.localDocuments.getOverlayedDocuments(V,H)).next(ae=>{D=ae;const be=[];for(const tt of d){const at=IO(tt,D.get(tt.key).overlayedDocument);null!=at&&be.push(new yl(tt.key,at,o1(at.value.mapValue),dr.exists(!0)))}return f.mutationQueue.addMutationBatch(V,y,be,d)}).next(ae=>{C=ae;const be=ae.applyToLocalDocumentSet(D,Z);return f.documentOverlayCache.saveOverlays(V,ae.batchId,be)})}).then(()=>({batchId:C.batchId,changes:O1(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let y=u.hc[u.currentUser.toKey()];y||(y=new Er(Yt)),y=y.insert(d,f),u.hc[u.currentUser.toKey()]=y}(r,i.batchId,t),yield vl(r,i.changes),yield mm(r.remoteStore)}catch(i){const u=_m(i,"Failed to persist write");t.reject(u)}}),VS.apply(this,arguments)}function eR(n,e){return US.apply(this,arguments)}function US(){return US=(0,Me.Z)(function*(n,e){const t=it(n);try{const r=yield Pk(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.cc.get(u);d&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Ut(d.nc):i.removedDocuments.size>0&&(Ut(d.nc),d.nc=!1))}),yield vl(t,r,e)}catch(r){yield za(r)}}),US.apply(this,arguments)}function tR(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(u,d){const f=it(u);f.onlineState=d;let y=!1;f.queries.forEach((w,D)=>{for(const C of D.listeners)C.Pu(d)&&(y=!0)}),y&&RS(f)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pF(n,e,t){return BS.apply(this,arguments)}function BS(){return BS=(0,Me.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let d=new Er(nt.comparator);d=d.insert(u,er.newNoDocument(u,Ht.min()));const f=sn().add(u),y=new Yv(Ht.min(),new Map,new a(Yt),d,f);yield eR(r,y),r.uc=r.uc.remove(u),r.cc.delete(e),ZS(r)}else yield pm(r.localStore,e,!1).then(()=>wm(r,e,t)).catch(za)}),BS.apply(this,arguments)}function gF(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,Me.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const i=yield Rk(t.localStore,e);qS(t,r,null),GS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vl(t,i)}catch(i){yield za(i)}}),jS.apply(this,arguments)}function mF(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,Me.Z)(function*(n,e,t){const r=it(n);try{const i=yield function(u,d){const f=it(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(D=>(Ut(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);qS(r,e,t),GS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vl(r,i)}catch(i){yield za(i)}}),$S.apply(this,arguments)}function HS(){return HS=(0,Me.Z)(function*(n,e){const t=it(n);_l(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=it(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=_m(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),HS.apply(this,arguments)}function GS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function qS(n,e,t){const r=it(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function wm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||nR(n,r)})}function nR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(f0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),ZS(n))}function zS(n,e,t){for(const r of t)r instanceof QN?(n.ac.addReference(r.key,e),_F(n,r)):r instanceof JN?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||nR(n,r.key)):ht()}function _F(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.oc.add(r),ZS(n))}function ZS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new nt(En.fromString(e)),r=n.fc.next();n.cc.set(r,new lF(t)),n.uc=n.uc.insert(t,r),Lb(n.remoteStore,new Wc(Wi(rm(t.path)),r,2,Zi.at))}}function vl(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,Me.Z)(function*(n,e,t){const r=it(n),i=[],u=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=XA.Ci(y.targetId,w);u.push(D)}}))}),yield Promise.all(d),r.sc.zo(i),yield(f=(0,Me.Z)(function*(y,w){const D=it(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>de.forEach(w,V=>de.forEach(V.Si,H=>D.persistence.referenceDelegate.addReference(C,V.targetId,H)).next(()=>de.forEach(V.Di,H=>D.persistence.referenceDelegate.removeReference(C,V.targetId,H)))))}catch(C){if(!fl(C))throw C;Ge("LocalStore","Failed to update sequence numbers: "+C)}for(const C of w){const V=C.targetId;if(!C.fromCache){const H=D.Ui.get(V),ae=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.Ui=D.Ui.insert(V,ae)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,u))}),WS.apply(this,arguments)}function vF(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,Me.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield xN(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new Be(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vl(t,r.ji)}var i}),KS.apply(this,arguments)}function EF(n,e){const t=it(n),r=t.cc.get(e);if(r&&r.nc)return sn().add(r.key);{let i=sn();const u=t.rc.get(e);if(!u)return i;for(const d of u){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function wF(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,Me.Z)(function*(n,e){const t=it(n),r=yield Pb(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&zS(t,e.targetId,i.Xu),i}),YS.apply(this,arguments)}function IF(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,Me.Z)(function*(n,e){const t=it(n);return ON(t.localStore,e).then(r=>vl(t,r))}),QS.apply(this,arguments)}function bF(n,e,t,r){return JS.apply(this,arguments)}function JS(){return JS=(0,Me.Z)(function*(n,e,t,r){const i=it(n),u=yield function(d,f){const y=it(d),w=it(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,f).next(C=>C?y.localDocuments.getDocuments(D,C):de.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield mm(i.remoteStore):"acknowledged"===t||"rejected"===t?(qS(i,e,r||null),GS(i,e),f=e,it(it(i.localStore).mutationQueue).An(f)):ht(),yield vl(i,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),JS.apply(this,arguments)}function XS(){return XS=(0,Me.Z)(function*(n,e){const t=it(n);if(rM(t),iM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield rR(t,r.toArray());t.dc=!0,yield TS(t.remoteStore,!0);for(const u of i)Lb(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(wm(t,d),pm(t.localStore,d,!0))),f0(t.remoteStore,d)}),yield i,yield rR(t,r),function(u){const d=it(u);d.cc.forEach((f,y)=>{f0(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Er(nt.comparator)}(t),t.dc=!1,yield TS(t.remoteStore,!1)}}),XS.apply(this,arguments)}function rR(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,Me.Z)(function*(n,e,t){const r=it(n),i=[],u=[];for(const d of e){let f;const y=r.rc.get(d);if(y&&0!==y.length){f=yield fm(r.localStore,Wi(y[0]));for(const w of y){const D=r.ic.get(w),C=yield wF(r,D);C.snapshot&&u.push(C.snapshot)}}else{const w=yield PN(r.localStore,d);f=yield fm(r.localStore,w),yield kS(r,iR(w),d,!1)}i.push(f)}return r.sc.zo(u),i}),eM.apply(this,arguments)}function iR(n){return f1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TF(n){const e=it(n);return it(it(e.localStore).persistence).vi()}function CF(n,e,t,r){return tM.apply(this,arguments)}function tM(){return tM=(0,Me.Z)(function*(n,e,t,r){const i=it(n);if(i.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield ON(i.localStore,m1(u[0])),f=Yv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield vl(i,d,f);break}case"rejected":yield pm(i.localStore,e,!0),wm(i,e,r);break;default:ht()}}),tM.apply(this,arguments)}function AF(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,Me.Z)(function*(n,e,t){const r=rM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const u=yield PN(r.localStore,i),d=yield fm(r.localStore,u);yield kS(r,iR(u),d.targetId,!1),Lb(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield pm(r.localStore,i,!1).then(()=>{f0(r.remoteStore,i),wm(r,i)}).catch(za))}}),nM.apply(this,arguments)}function rM(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pF.bind(null,e),e.sc.zo=iF.bind(null,e.eventManager),e.sc.wc=sF.bind(null,e.eventManager),e}function iM(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mF.bind(null,e),e}class sR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.It=d0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return MN(this.persistence,new SN,e.initialUser,this.It)}yc(e){return new CN(Nb.Bs,this.It)}gc(e){return new VN}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oR extends sR{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield iM(r.Ac.syncEngine),yield mm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return MN(this.persistence,new SN,e.initialUser,this.It)}Tc(e,t){return new yk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new t1(t,this.persistence);return new MA(e.asyncQueue,r)}yc(e){const t=JA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new QA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,BN(),Fb(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new VN}}class MF extends oR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof aS&&(r.sharedClientState.syncEngine={Fr:bF.bind(null,i),$r:CF.bind(null,i),Br:AF.bind(null,i),vi:TF.bind(null,i),Mr:IF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Me.Z)(function*(d){yield function DF(n,e){return XS.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=BN();if(!aS.C(t))throw new Be(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=JA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sM{initialize(e,t){var r=this;return(0,Me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>tR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=vF.bind(null,r.syncEngine),yield TS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rF}createDatastore(e){const t=d0(e.databaseInfo.databaseId),r=new Bk(e.databaseInfo);return new Hk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>tR(this.syncEngine,f,0),d=UN.C()?new UN:new Lk,new zk(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,f,y,w){const D=new cF(r,i,u,d,f,y);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const r=it(t);Ge("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield gm(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oM(n,e,t){if(!t)throw new Be(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aR(n,e,t,r){if(!0===e&&!0===r)throw new Be(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uR(n){if(!nt.isDocumentKey(n))throw new Be(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lR(n){if(nt.isDocumentKey(n))throw new Be(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ub(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ub(n);throw new Be(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cR(n,e){if(e<=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const dR=new Map;class hR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Jx;switch(t.type){case"gapi":return new TA(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dR.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),dR.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Qa extends Mi{constructor(e,t,r){super(e,t,rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new nt(e))}withConverter(e){return new Qa(this.firestore,e,this._path)}}function pR(n,e,...t){if(n=(0,bn.m9)(n),oM("collection","path",e),n instanceof p0){const r=En.fromString(e,...t);return lR(r),new Qa(n,null,r)}{if(!(n instanceof rr||n instanceof Qa))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return lR(r),new Qa(n.firestore,null,r)}}function Bb(n,e,...t){if(n=(0,bn.m9)(n),1===arguments.length&&(e=Kg.R()),oM("doc","path",e),n instanceof p0){const r=En.fromString(e,...t);return uR(r),new rr(n,null,new nt(r))}{if(!(n instanceof rr||n instanceof Qa))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return uR(r),new rr(n.firestore,n instanceof Qa?n.converter:null,new nt(r))}}function gR(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),(n instanceof rr||n instanceof Qa)&&(e instanceof rr||e instanceof Qa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aM(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),n instanceof Mi&&e instanceof Mi&&n.firestore===e.firestore&&qv(n._query,e._query)&&n.converter===e.converter}function mR(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NF{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new oF(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Me.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class OF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Me.Z)(function*(u,d){const f=it(u),y=e0(f.It)+"/documents",w={documents:d.map(H=>Xv(f.It,H))},D=yield f._o("BatchGetDocuments",y,w,d.length),C=new Map;D.forEach(H=>{const Z=function PO(n,e){return"found"in e?function(t,r){Ut(!!r.found);const i=Ka(t,r.found.name),u=li(r.found.updateTime),d=new Ii({mapValue:{fields:r.found.fields}});return er.newFoundDocument(i,u,d)}(n,e):"missing"in e?function(t,r){Ut(!!r.missing),Ut(!!r.readTime);const i=Ka(t,r.missing),u=li(r.readTime);return er.newNoDocument(i,u)}(n,e):ht()}(f.It,H);C.set(Z.key.toString(),Z)});const V=[];return d.forEach(H=>{const Z=C.get(H.toString());Ut(!!Z),V.push(Z)}),V}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=nt.fromPath(i);e.mutations.push(new LA(u,e.precondition(u)))}),yield(r=(0,Me.Z)(function*(i,u){const d=it(i),f=e0(d.It)+"/documents",y={writes:u.map(w=>t0(d.It,w))};yield d.ao("Commit",f,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=Ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ht.min())?dr.exists(!1):dr.updateTime(t):dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new Be(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dr.updateTime(t)}return dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kF{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.No=new uS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,Me.Z)(function*(){const t=new OF(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!lt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!N1(t)}return!1}}class FF{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=Kg.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Me.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_m(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yR(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Me.Z)(function*(u){r.isEqual(u)||(yield xN(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uM.apply(this,arguments)}function _R(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cM(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ZN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>ZN(e.remoteStore,u)),n.onlineComponents=e}),lM.apply(this,arguments)}function cM(n){return dM.apply(this,arguments)}function dM(){return dM=(0,Me.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield yR(n,new sR)),n.offlineComponents}),dM.apply(this,arguments)}function $b(n){return hM.apply(this,arguments)}function hM(){return hM=(0,Me.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield _R(n,new sM)),n.onlineComponents}),hM.apply(this,arguments)}function vR(n){return cM(n).then(e=>e.persistence)}function Hb(n){return cM(n).then(e=>e.localStore)}function fM(n){return $b(n).then(e=>e.remoteStore)}function pM(n){return $b(n).then(e=>e.syncEngine)}function Im(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Me.Z)(function*(n){const e=yield $b(n),t=e.eventManager;return t.onListen=dF.bind(null,e.syncEngine),t.onUnlisten=hF.bind(null,e.syncEngine),t}),gM.apply(this,arguments)}function wR(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(i,u,d,f,y){const w=new jb({next:C=>{u.enqueueAndForget(()=>xS(i,D));const V=C.docs.has(d);!V&&C.fromCache?y.reject(new Be(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&f&&"server"===f.source?y.reject(new Be(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),D=new PS(rm(d.path),w,{includeMetadataChanges:!0,ku:!0});return SS(i,D)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}function IR(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(i,u,d,f,y){const w=new jb({next:C=>{u.enqueueAndForget(()=>xS(i,D)),C.fromCache&&"server"===f.source?y.reject(new Be(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),D=new PS(d,w,{includeMetadataChanges:!0,ku:!0});return SS(i,D)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}class GF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new uS(this,"async_queue_retry"),this.Wc=()=>{const t=Fb();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Fb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Fb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Gr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!fl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=AS.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&ht()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function mM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class qF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ir extends p0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new GF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bR(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||bR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ze(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new FF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function DR(n,e,t){const r=new Gr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield yR(n,t),yield _R(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===_e.FAILED_PRECONDITION||d.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Hc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function TR(n){if(n._initialized||n._terminated)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(E.fromBase64String(e))}catch(t){throw new Be(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(E.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class El{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class Gb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const tL=/^__.*__$/;class nL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class CR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class qb{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new qb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Wb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(AR(this.sa)&&tL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class rL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||d0(e)}da(e,t,r,i=!1){return new qb({sa:e,methodName:t,fa:r,path:nr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Rf(n){const e=n._freezeSettings(),t=d0(n._databaseId);return new rL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zb(n,e,t,r,i,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,i);EM("Data must be an object, but it was:",d,r);const f=xR(r,d);let y,w;if(u.merge)y=new p(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const D=[];for(const C of u.mergeFields){const V=wM(e,C,t);if(!d.contains(V))throw new Be(_e.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);RR(D,V)||D.push(V)}y=new p(D),w=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,w=d.fieldTransforms;return new nL(new Ii(f),y,w)}class g0 extends Nf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function SR(n,e,t){return new qb({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class yM extends Nf{_toFieldTransform(e){return new zv(e.path,new sm)}isEqual(e){return e instanceof yM}}class iL extends Nf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=SR(this,e,!0),r=this._a.map(u=>Pf(u,t)),i=new wf(r);return new zv(e.path,i)}isEqual(e){return this===e}}class sL extends Nf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=SR(this,e,!0),r=this._a.map(u=>Pf(u,t)),i=new If(r);return new zv(e.path,i)}isEqual(e){return this===e}}class oL extends Nf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new om(e.It,E1(e.It,this.wa));return new zv(e.path,t)}isEqual(e){return this===e}}function _M(n,e,t,r){const i=n.da(1,e,t);EM("Data must be an object, but it was:",i,r);const u=[],d=Ii.empty();qc(r,(y,w)=>{const D=Zb(e,y,t);w=(0,bn.m9)(w);const C=i.ca(D);if(w instanceof g0)u.push(D);else{const V=Pf(w,C);null!=V&&(u.push(D),d.set(D,V))}});const f=new p(u);return new CR(d,f,i.fieldTransforms)}function vM(n,e,t,r,i,u){const d=n.da(1,e,t),f=[wM(e,r,t)],y=[i];if(u.length%2!=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)f.push(wM(e,u[V])),y.push(u[V+1]);const w=[],D=Ii.empty();for(let V=f.length-1;V>=0;--V)if(!RR(w,f[V])){const H=f[V];let Z=y[V];Z=(0,bn.m9)(Z);const ae=d.ca(H);if(Z instanceof g0)w.push(H);else{const be=Pf(Z,ae);null!=be&&(w.push(H),D.set(H,be))}}const C=new p(w);return new CR(D,C,d.fieldTransforms)}function MR(n,e,t,r=!1){return Pf(t,n.da(r?4:3,e))}function Pf(n,e){if(NR(n=(0,bn.m9)(n)))return EM("Unsupported field value:",e,n),xR(n,e);if(n instanceof Nf)return function(t,r){if(!AR(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let f=Pf(d,r.aa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,bn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return E1(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Un.fromDate(t);return{timestampValue:Jv(r.It,i)}}if(t instanceof Un){const i=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jv(r.It,i)}}if(t instanceof Gb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ja)return{bytesValue:j1(r.It,t._byteString)};if(t instanceof rr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Ub(t)}`)}(n,e)}function xR(n,e){const t={};return NA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qc(n,(r,i)=>{const u=Pf(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function NR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof Gb||n instanceof Ja||n instanceof rr||n instanceof Nf)}function EM(n,e,t){if(!NR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ub(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function wM(n,e,t){if((e=(0,bn.m9)(e))instanceof El)return e._internalPath;if("string"==typeof e)return Zb(n,e);throw Wb("Field path arguments must be of type string or ",n,!1,void 0,t)}const aL=new RegExp("[~\\*/\\[\\]]");function Zb(n,e,t){if(e.search(aL)>=0)throw Wb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new El(...e.split("."))._internalPath}catch{throw Wb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wb(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Be(_e.INVALID_ARGUMENT,f+n+y)}function RR(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uL extends m0{data(){return super.data()}}function Kb(n,e){return"string"==typeof e?Zb(n,e):e instanceof El?e._internalPath:e._delegate._internalPath}function PR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0{}function Jc(n,...e){for(const t of e)n=t._apply(n);return n}class lL extends y0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Rf(e.firestore),r=function(i,u,d,f,y,w,D){let C;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){UR(D,w);const H=[];for(const Z of D)H.push(VR(f,i,Z));C={arrayValue:{values:H}}}else C=VR(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||UR(D,w),C=MR(d,"where",D,"in"===w||"not-in"===w);const V=bi.create(y,w,C);return function(H,Z){if(Z.dt()){const be=PA(H);if(null!==be&&!be.isEqual(Z.field))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${Z.field.toString()}'`);const tt=RA(H);null!==tt&&BR(0,Z.field,tt)}const ae=function(be,tt){for(const at of be.filters)if(tt.indexOf(at.op)>=0)return at.op;return null}(H,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==ae)throw new Be(_e.INVALID_ARGUMENT,ae===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${ae.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Mi(e.firestore,e.converter,function(i,u){const d=i.filters.concat([u]);return new ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class dL extends y0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new nm(i,u);return function(f,y){if(null===RA(f)){const w=PA(f);null!==w&&BR(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Mi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new ml(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class OR extends y0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Mi(e.firestore,e.converter,yb(e._query,this.Ia,this.Ta))}}class kR extends y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=LR(e,this.type,this.Ea,this.Aa);return new Mi(e.firestore,e.converter,(i=t,new ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class FR extends y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=LR(e,this.type,this.Ea,this.Aa);return new Mi(e.firestore,e.converter,(i=t,new ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function LR(n,e,t,r){if(t[0]=(0,bn.m9)(t[0]),t[0]instanceof m0)return function(i,u,d,f,y){if(!f)throw new Be(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of im(i))if(D.field.isKeyField())w.push(aa(u,f.key));else{const C=f.data.field(D.field);if(W(C))throw new Be(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const V=D.field.canonicalString();throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(C)}return new zc(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rf(n.firestore);return function(u,d,f,y,w,D){const C=u.explicitOrderBy;if(w.length>C.length)throw new Be(_e.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<w.length;H++){const Z=w[H];if(C[H].field.isKeyField()){if("string"!=typeof Z)throw new Be(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!OA(u)&&-1!==Z.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const ae=u.path.child(En.fromString(Z));if(!nt.isDocumentKey(ae))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const be=new nt(ae);V.push(aa(d,be))}else{const ae=MR(f,y,Z);V.push(ae)}}return new zc(V,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function VR(n,e,t){if("string"==typeof(t=(0,bn.m9)(t))){if(""===t)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&-1!==t.indexOf("/"))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!nt.isDocumentKey(r))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aa(n,new nt(r))}if(t instanceof rr)return aa(n,t._key);throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ub(t)}.`)}function UR(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function BR(n,e,t){if(!t.isEqual(e))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class IM{convertValue(e,t="none"){switch(Nn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(L(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){const r={};return qc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Gb(M(e.latitude),M(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ie(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ce(e));default:return null}}convertTimestamp(e){const t=T(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Ut(Y1(r));const i=new Ke(r.get(1),r.get(3)),u=new nt(r.popFirst(5));return i.isEqual(t)||vr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Yb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class vL extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class Of{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends m0{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends wl{data(e={}){return super.data(e)}}class Xc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Of(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new Of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Of(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Of(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:EL(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function jR(n,e){return n instanceof wl&&e instanceof wl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xc&&e instanceof Xc&&n._firestore===e._firestore&&aM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ed extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function $R(n,e,t){n=_n(n,rr);const r=_n(n.firestore,ir),i=Yb(n.converter,e,t);return bm(r,[zb(Rf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,dr.none())])}function HR(n,e,t,...r){n=_n(n,rr);const i=_n(n.firestore,ir),u=Rf(i);let d;return d="string"==typeof(e=(0,bn.m9)(e))||e instanceof El?vM(u,"updateDoc",n._key,e,t,r):_M(u,"updateDoc",n._key,e),bm(i,[d.toMutation(n._key,dr.exists(!0))])}function GR(n,...e){var t,r,i;n=(0,bn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||mM(e[d])||(u=e[d],d++);const f={includeMetadataChanges:u.includeMetadataChanges};if(mM(e[d])){const C=e[d];e[d]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[d+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[d+2]=null===(i=C.complete)||void 0===i?void 0:i.bind(C)}let y,w,D;if(n instanceof rr)w=_n(n.firestore,ir),D=rm(n._key.path),y={next:C=>{e[d]&&e[d](bM(w,n,C))},error:e[d+1],complete:e[d+2]};else{const C=_n(n,Mi);w=_n(C.firestore,ir),D=C._query;const V=new ed(w);y={next:H=>{e[d]&&e[d](new Xc(w,V,C,H))},error:e[d+1],complete:e[d+2]},PR(n._query)}return function(C,V,H,Z){const ae=new jb(Z),be=new PS(V,ae,H);return C.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return SS(yield Im(C),be)})),()=>{ae.bc(),C.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return xS(yield Im(C),be)}))}}(Vr(w),D,f,y)}function bm(n,e){return function(t,r){const i=new Gr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function fF(n,e,t){return VS.apply(this,arguments)}(yield pM(t),r,i)})),i.promise}(Vr(n),e)}function bM(n,e,t){const r=t.docs.get(e._key),i=new ed(n);return new wl(n,i,e._key,r,new Of(t.hasPendingWrites,t.fromCache),e.converter)}const xL={maxAttempts:5};class qR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rf(e)}set(e,t,r){this._verifyNotCommitted();const i=td(e,this._firestore),u=Yb(i.converter,t,r),d=zb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,dr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=td(e,this._firestore);let d;return d="string"==typeof(t=(0,bn.m9)(t))||t instanceof El?vM(this._dataReader,"WriteBatch.update",u._key,t,r,i):_M(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=td(e,this._firestore);return this._mutations=this._mutations.concat(new um(t._key,dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function td(n,e){if((n=(0,bn.m9)(n)).firestore!==e)throw new Be(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class NL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rf(e)}get(e){const t=td(e,this._firestore),r=new vL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ht();const u=i[0];if(u.isFoundDocument())return new m0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new m0(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const i=td(e,this._firestore),u=Yb(i.converter,t,r),d=zb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=td(e,this._firestore);let d;return d="string"==typeof(t=(0,bn.m9)(t))||t instanceof El?vM(this._dataReader,"Transaction.update",u._key,t,r,i):_M(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=td(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=td(e,this._firestore),r=new ed(this._firestore);return super.get(e).then(i=>new wl(this._firestore,r,t._key,i._document,new Of(!1,!1),t.converter))}}function DM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZR(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function WR(){if(!function _(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cl=Ba.SDK_VERSION,(0,Ba._registerComponent)(new Ph.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new ir(new Wg(t.getProvider("auth-internal")),new dl(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Be(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ke(f.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Ba.registerVersion)(pf,"3.6.0",n),(0,Ba.registerVersion)(pf,"3.6.0","esm2017")}();class v0{constructor(e){this._delegate=e}static fromBase64String(e){return WR(),new v0(Ja.fromBase64String(e))}static fromUint8Array(e){return ZR(),new v0(Ja.fromUint8Array(e))}toBase64(){return WR(),this._delegate.toBase64()}toUint8Array(){return ZR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TM(n){return function BL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class jL{enableIndexedDbPersistence(e,t){return function ZF(n,e){TR(n=_n(n,ir));const t=Vr(n),r=n._freezeSettings(),i=new sM;return DR(t,i,new oR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function WF(n){TR(n=_n(n,ir));const e=Vr(n),t=n._freezeSettings(),r=new sM;return DR(e,r,new MF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function KF(n){if(n._initialized&&!n._terminated)throw new Be(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(r){if(!js.C())return Promise.resolve();const i=r+"main";yield js.delete(i)}),function(r){return t.apply(this,arguments)})(JA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class KR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ke||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function fR(n,e,t,r={}){var i;const u=(n=_n(n,p0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=_r.MOCK_USER;else{d=(0,bn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Be(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _r(y)}n._authCredentials=new bA(new IA(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function QF(n){return function LF(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield vR(n),t=yield fM(n);return e.setNetworkEnabled(!0),function(r){const i=it(r);return i.wu.delete(0),h0(i)}(t)}))}(Vr(n=_n(n,ir)))}(this._delegate)}disableNetwork(){return function JF(n){return function VF(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield vR(n),t=yield fM(n);return e.setNetworkEnabled(!1),(r=(0,Me.Z)(function*(i){const u=it(i);u.wu.add(0),yield gm(u),u.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Vr(n=_n(n,ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function YF(n){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function yF(n,e){return HS.apply(this,arguments)}(yield pM(e),t)})),t.promise}(Vr(n=_n(n,ir)))}(this._delegate)}onSnapshotsInSync(e){return function ML(n,e){return function jF(n,e){const t=new jb(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Im(n),i=t,it(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Im(n),i=t,void it(r).bu.delete(i);var r,i}))}}(Vr(n=_n(n,ir)),mM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dm(this,pR(this._delegate,e))}catch(t){throw Yi(t,"collection()","Firestore.collection()")}}doc(e){try{return new vo(this,Bb(this._delegate,e))}catch(t){throw Yi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qi(this,function xF(n,e){if(n=_n(n,p0),oM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mi(n,null,(t=e,new ml(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Yi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function RL(n,e,t){n=_n(n,ir);const r=Object.assign(Object.assign({},xL),t);return function(i){if(i.maxAttempts<1)throw new Be(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const f=new Gr;return i.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const y=yield function ER(n){return $b(n).then(e=>e.datastore)}(i);new kF(i.asyncQueue,y,d,u,f).run()})),f.promise}(Vr(n),i=>e(new NL(n,i)),r)}(this._delegate,t=>e(new YR(this,t)))}batch(){return Vr(this._delegate),new QR(new qR(this._delegate,e=>bm(this._delegate,e)))}loadBundle(e){return function XF(n,e){const t=Vr(n=_n(n,ir)),r=new qF;return function $F(n,e,t,r){const i=function(u,d){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,w){if(y instanceof Uint8Array)return mR(y,w);if(y instanceof ArrayBuffer)return mR(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new NF(y,d);var y}(t,d0(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function SF(n,e,t){const r=it(n);var i;(i=(0,Me.Z)(function*(u,d,f){try{const y=yield d.getMetadata();if(yield function(V,H){const Z=it(V),ae=li(H.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",be=>Z.Ns.getBundleMetadata(be,H.id)).then(be=>!!be&&be.createTime.compareTo(ae)>=0)}(u.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(YN(y));const w=new aF(y,u.localStore,d.It);let D=yield d.mc();for(;D;){const V=yield w.Fu(D);V&&f._updateProgress(V),D=yield d.mc()}const C=yield w.complete();return yield vl(u,C.Lu,void 0),yield function(V,H){const Z=it(V);return Z.persistence.runTransaction("Save bundle","readwrite",ae=>Z.Ns.saveBundleMetadata(ae,H))}(u.localStore,y),f._completeWith(C.progress),Promise.resolve(C.Bu)}catch(y){return Hc("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var V}),function(u,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield pM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function eL(n,e){return function HF(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,r){const i=it(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield Hb(n),e)}))}(Vr(n=_n(n,ir)),e).then(t=>t?new Mi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Qi(this,t):null)}}class Qb extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new v0(new Ja(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vo.forKey(t,this.firestore,null)}}class YR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Qb(e)}get(e){const t=Ff(e);return this._delegate.get(t).then(r=>new E0(this._firestore,new wl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ff(e);return r?(DM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Ff(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Ff(e);return this._delegate.delete(t),this}}class QR{constructor(e){this._delegate=e}set(e,t,r){const i=Ff(e);return r?(DM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Ff(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Ff(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new w0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kf(e,new Qb(e),t),i.set(t,u)),u}}kf.INSTANCES=new WeakMap;class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vo(t,new rr(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new vo(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dm(this.firestore,pR(this._delegate,e))}catch(t){throw Yi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,bn.m9)(e))instanceof rr&&gR(this._delegate,e)}set(e,t){t=DM("DocumentReference.set",t);try{return t?$R(this._delegate,e,t):$R(this._delegate,e)}catch(r){throw Yi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?HR(this._delegate,e):HR(this._delegate,e,t,...r)}catch(i){throw Yi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function AL(n){return bm(_n(n.firestore,ir),[new um(n._key,dr.none())])}(this._delegate)}onSnapshot(...e){const t=JR(e),r=XR(e,i=>new E0(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return GR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function IL(n){n=_n(n,rr);const e=_n(n.firestore,ir),t=Vr(e),r=new ed(e);return function UF(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(i,u,d){try{const f=yield function(y,w){const D=it(y);return D.persistence.runTransaction("read document","readonly",C=>D.localDocuments.getDocument(C,w))}(i,u);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Be(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=_m(f,`Failed to get document '${u} from cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield Hb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new wl(e,r,n._key,i,new Of(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function bL(n){n=_n(n,rr);const e=_n(n.firestore,ir);return wR(Vr(e),n._key,{source:"server"}).then(t=>bM(e,n,t))}(this._delegate):function wL(n){n=_n(n,rr);const e=_n(n.firestore,ir);return wR(Vr(e),n._key).then(t=>bM(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vo(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function Yi(n,e,t){return n.message=n.message.replace(e,t),n}function JR(n){for(const e of n)if("object"==typeof e&&!TM(e))return e;return{}}function XR(n,e){var t,r;let i;return i=TM(n[0])?n[0]:TM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jR(this._delegate,e._delegate)}}class w0 extends E0{data(e){const t=this._delegate.data(e);return function wA(n,e){n||ht()}(void 0!==t),t}}class Qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Qb(e)}where(e,t,r){try{return new Qi(this.firestore,Jc(this._delegate,function cL(n,e,t){const r=e,i=Kb("where",n);return new lL(i,r,t)}(e,t,r)))}catch(i){throw Yi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qi(this.firestore,Jc(this._delegate,function hL(n,e="asc"){const t=e,r=Kb("orderBy",n);return new dL(r,t)}(e,t)))}catch(r){throw Yi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qi(this.firestore,Jc(this._delegate,function fL(n){return cR("limit",n),new OR("limit",n,"F")}(e)))}catch(t){throw Yi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qi(this.firestore,Jc(this._delegate,function pL(n){return cR("limitToLast",n),new OR("limitToLast",n,"L")}(e)))}catch(t){throw Yi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qi(this.firestore,Jc(this._delegate,function gL(...n){return new kR("startAt",n,!0)}(...e)))}catch(t){throw Yi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qi(this.firestore,Jc(this._delegate,function mL(...n){return new kR("startAfter",n,!1)}(...e)))}catch(t){throw Yi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qi(this.firestore,Jc(this._delegate,function yL(...n){return new FR("endBefore",n,!1)}(...e)))}catch(t){throw Yi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qi(this.firestore,Jc(this._delegate,function _L(...n){return new FR("endAt",n,!0)}(...e)))}catch(t){throw Yi(t,"endAt()","Query.endAt()")}}isEqual(e){return aM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function TL(n){n=_n(n,Mi);const e=_n(n.firestore,ir),t=Vr(e),r=new ed(e);return function BF(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(i,u,d){try{const f=yield Pb(i,u,!0),y=new XN(u,f.Hi),w=y.Wu(f.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(f){const y=_m(f,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(i,u,d){return r.apply(this,arguments)})(yield Hb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xc(e,r,n,i))}(this._delegate):"server"===e?.source?function CL(n){n=_n(n,Mi);const e=_n(n.firestore,ir),t=Vr(e),r=new ed(e);return IR(t,n._query,{source:"server"}).then(i=>new Xc(e,r,n,i))}(this._delegate):function DL(n){n=_n(n,Mi);const e=_n(n.firestore,ir),t=Vr(e),r=new ed(e);return PR(n._query),IR(t,n._query).then(i=>new Xc(e,r,n,i))}(this._delegate),t.then(r=>new CM(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JR(e),r=XR(e,i=>new CM(this.firestore,new Xc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return GR(this._delegate,t,r)}withConverter(e){return new Qi(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}class HL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new w0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new w0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new w0(this._firestore,r))})}isEqual(e){return jR(this._delegate,e._delegate)}}class Dm extends Qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vo(this.firestore,e):null}doc(e){try{return new vo(this.firestore,void 0===e?Bb(this._delegate):Bb(this._delegate,e))}catch(t){throw Yi(t,"doc()","CollectionReference.doc()")}}add(e){return function SL(n,e){const t=_n(n.firestore,ir),r=Bb(n),i=Yb(n.converter,e);return bm(t,[zb(Rf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new vo(this.firestore,t))}isEqual(e){return gR(this._delegate,e._delegate)}withConverter(e){return new Dm(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function Ff(n){return _n(n,rr)}class AM{constructor(...e){this._delegate=new El(...e)}static documentId(){return new AM(nr.keyField().canonicalString())}isEqual(e){return(e=(0,bn.m9)(e))instanceof El&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OL(){return new yM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lf(e)}static delete(){const e=function PL(){return new g0("deleteField")}();return e._methodName="FieldValue.delete",new Lf(e)}static arrayUnion(...e){const t=function kL(...n){return new iL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lf(t)}static arrayRemove(...e){const t=function FL(...n){return new sL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lf(t)}static increment(e){const t=function LL(n){return new oL("increment",n)}(e);return t._methodName="FieldValue.increment",new Lf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const GL={Firestore:KR,GeoPoint:Gb,Timestamp:Un,Blob:v0,Transaction:YR,WriteBatch:QR,DocumentReference:vo,DocumentSnapshot:E0,Query:Qi,QueryDocumentSnapshot:w0,QuerySnapshot:CM,CollectionReference:Dm,FieldPath:AM,FieldValue:Lf,setLogLevel:function $L(n){!function ab(n){Ga.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function zL(n){(function qL(n,e){n.INTERNAL.registerComponent(new Ph.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GL)))})(n,(e,t)=>new KR(e,t,new jL)),n.registerVersion("@firebase/firestore-compat","0.1.26")}(UC.Z);var ZL=O(6451),Jb=O(5363),WL=O(6063);class KL extends Or.x{constructor(e=1/0,t=1/0,r=WL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var YL=O(3099);function eP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,YL.B)({connector:()=>new KL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function tP(n,e){return(0,Xy.m)(e)?Sr(()=>n,e):Sr(()=>n)}var SM=O(9468),Xb=O(5867);const nP=new Map,tV={activated:!1,tokenObservers:[]},nV={initialized:!1,enabled:!1};function hi(n){return nP.get(n)||tV}function Eo(n,e){nP.set(n,e)}function eD(){return nV}class aV{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new bn.BH,yield function uV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new bn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ji=new bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iP(n){if(!hi(n).activated)throw Ji.create("use-before-activation",{appName:n.name})}function RM(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,Me.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const H=yield d.getHeartbeatsHeader();H&&(u["X-Firebase-Client"]=H)}const f={method:"POST",body:JSON.stringify(e),headers:u};let y,w;try{y=yield fetch(n,f)}catch(H){throw Ji.create("fetch-network-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}if(200!==y.status)throw Ji.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(H){throw Ji.create("fetch-parse-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const C=1e3*Number(D[1]),V=Date.now();return{token:w.token,expireTimeMillis:V+C,issuedAtTimeMillis:V}}),PM.apply(this,arguments)}function hV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const I0="firebase-app-check-store";let rD=null;function oP(){return rD||(rD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(Ji.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(I0,{keyPath:"compositeKey"})}}catch(r){e(Ji.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),rD)}function OM(){return OM=(0,Me.Z)(function*(n,e){const r=(yield oP()).transaction(I0,"readwrite"),u=r.objectStore(I0).put({compositeKey:n,value:e});return new Promise((d,f)=>{u.onsuccess=y=>{d()},r.onerror=y=>{var w;f(Ji.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),OM.apply(this,arguments)}const b0=new ja.Yd("@firebase/app-check");function LM(n,e){return(0,bn.hl)()?function mV(n,e){return function aP(n,e){return OM.apply(this,arguments)}(function lP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{b0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cP(){return eD().enabled}function dP(){return UM.apply(this,arguments)}function UM(){return UM=(0,Me.Z)(function*(){const n=eD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UM.apply(this,arguments)}const IV={error:"UNKNOWN_ERROR"};function bV(n){return bn.US.encodeString(JSON.stringify(n),!1)}function iD(n){return BM.apply(this,arguments)}function BM(){return BM=(0,Me.Z)(function*(n,e=!1){const t=n.app;iP(t);const r=hi(t);let u,i=r.token;if(i&&!Cm(i)&&(Eo(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Cm(y)?i=y:yield LM(t,void 0))}if(!e&&i&&Cm(i))return{token:i.token};let f,d=!1;if(cP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RM(hV(t,yield dP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield LM(t,y),Eo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?b0.warn(y.message):b0.error(y),u=y}return i?u?f=Cm(i)?{token:i.token,internalError:u}:pP(u):(f={token:i.token},Eo(t,Object.assign(Object.assign({},r),{token:i})),yield LM(t,i)):f=pP(u),d&&fP(t,f),f}),BM.apply(this,arguments)}function $M(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Eo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function hP(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function DV(n){const{app:e}=n;return new aV((0,Me.Z)(function*(){let r;if(r=hi(e).token?yield iD(n,!0):yield iD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Eo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fP(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Cm(n){return n.expireTimeMillis-Date.now()>0}function pP(n){return{token:bV(IV),error:n}}class TV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)$M(this.app,t.next);return Promise.resolve()}}const IP="app-check-internal";!function UV(){(0,Ba._registerComponent)(new Ph.wA("app-check",n=>function CV(n,e){return new TV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IP).initialize()})),(0,Ba._registerComponent)(new Ph.wA(IP,n=>function AV(n){return{getToken:e=>iD(n,e),addTokenListener:e=>function jM(n,e,t,r){const{app:i}=n,u=hi(i),d={next:t,error:r,type:e};if(Eo(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Cm(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),hP(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hP(n))}(n,"INTERNAL",e),removeTokenListener:e=>$M(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ba.registerVersion)("@firebase/app-check","0.5.13")}();class zM{constructor(){return(0,Vn.vb)("app-check")}}typeof window<"u"&&window,O(127);const DP=new c.OlP("angularfire2.auth.use-emulator"),TP=new c.OlP("angularfire2.auth.settings"),CP=new c.OlP("angularfire2.auth.tenant-id"),AP=new c.OlP("angularfire2.auth.langugage-code"),SP=new c.OlP("angularfire2.auth.use-device-language"),MP=new c.OlP("angularfire.auth.persistence"),xP=(n,e,t,r,i,u,d,f)=>(0,Vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,r,i,u,d,f]);let NP=(()=>{class n{constructor(t,r,i,u,d,f,y,w,D,C,V,H){const Z=new Or.x,ae=vt(void 0).pipe((0,Jb.Q)(d.outsideAngular),Sr(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,Vt.U)(()=>(0,Vs.on)(t,u,r)),(0,Vt.U)(be=>xP(be,u,f,w,D,C,y,V)),eP({bufferSize:1,refCount:!1}));if(ws(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{ae.pipe(ea()).subscribe();const tt=ae.pipe(Sr(wt=>wt.getRedirectResult().then(Bt=>Bt,()=>null)),Vn.iC,eP({bufferSize:1,refCount:!1})),at=ae.pipe(Sr(wt=>new Wr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>wt.onAuthStateChanged(Zt=>Bt.next(Zt),Zt=>Bt.error(Zt),()=>Bt.complete()))})))),Nt=ae.pipe(Sr(wt=>new Wr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>wt.onIdTokenChanged(Zt=>Bt.next(Zt),Zt=>Bt.error(Zt),()=>Bt.complete()))}))));this.authState=tt.pipe(tP(at),(0,SM.R)(d.outsideAngular),(0,Jb.Q)(d.insideAngular)),this.user=tt.pipe(tP(Nt),(0,SM.R)(d.outsideAngular),(0,Jb.Q)(d.insideAngular)),this.idToken=this.user.pipe(Sr(wt=>wt?(0,Sn.D)(wt.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Sr(wt=>wt?(0,Sn.D)(wt.getIdTokenResult()):vt(null))),this.credential=(0,ZL.T)(tt,Z,this.authState.pipe(Ai(wt=>!wt))).pipe((0,Vt.U)(wt=>wt?.user?wt:null),(0,SM.R)(d.outsideAngular),(0,Jb.Q)(d.insideAngular))}return(0,Vs.pX)(this,ae,u,{spy:{apply:(be,tt,at)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&at.then(Nt=>Z.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs.Dh),c.LFG(Vs.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vn.HU),c.LFG(DP,8),c.LFG(TP,8),c.LFG(CP,8),c.LFG(AP,8),c.LFG(SP,8),c.LFG(MP,8),c.LFG(zM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function RP(n,e){return function qV(n,e=dI.z){return new Wr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function WM(n,e){return RP(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function oD(n,e){return WM(n,e).pipe(uh(void 0),Ig(),(0,Vt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),u}))}function PP(n,e,t){return oD(n,t).pipe(Gp((r,i)=>function ZV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function WV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),hI(),(0,Vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function KM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function OP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=oD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(uh(void 0),Ig(),Ai(([r,i])=>i.length>0||!r),(0,Vt.U)(([r,i])=>i),Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=OP(e);return PP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Vn.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Vn.iC)}add(e){return this.ref.add(e)}doc(e){return new FP(this.ref.doc(e),this.afs)}}class FP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=LP(r,t);return new kP(i,u,this.afs)}snapshotChanges(){return function zV(n,e){return RP(n,e).pipe(uh(void 0),Ig(),(0,Vt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Vn.iC)}}class KV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?oD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ai(t=>t.length>0),Vn.iC):oD(this.query,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=OP(e);return PP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Vn.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Vn.iC)}}const YV=new c.OlP("angularfire2.enableFirestorePersistence"),QV=new c.OlP("angularfire2.firestore.persistenceSettings"),JV=new c.OlP("angularfire2.firestore.settings"),XV=new c.OlP("angularfire2.firestore.use-emulator");function LP(n,e=(t=>t)){return{query:e(n),ref:n}}let eU=(()=>{class n{constructor(t,r,i,u,d,f,y,w,D,C,V,H,Z,ae,be,tt,at){this.schedulers=y;const Nt=(0,Vs.on)(t,f,r),wt=D;C&&xP(Nt,f,V,Z,ae,be,H,tt),[this.firestore,this.persistenceEnabled$]=(0,Vs.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Bt=f.runOutsideAngular(()=>Nt.firestore());if(u&&Bt.settings(u),wt&&Bt.useEmulator(...wt),i&&!ws(d)){const Zt=()=>{try{return(0,Sn.D)(Bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),vt(!1)}};return[Bt,f.runOutsideAngular(Zt)]}return[Bt,vt(!1)]},[u,wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=LP(i,r),f=this.schedulers.ngZone.run(()=>u);return new kP(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new KV(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new FP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs.Dh),c.LFG(Vs.xv,8),c.LFG(YV,8),c.LFG(JV,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Vn.HU),c.LFG(QV,8),c.LFG(XV,8),c.LFG(NP,8),c.LFG(DP,8),c.LFG(TP,8),c.LFG(CP,8),c.LFG(AP,8),c.LFG(SP,8),c.LFG(MP,8),c.LFG(zM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const VP=["toast-component",""];function tU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function nU(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function rU(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,nU,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function iU(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function sU(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function oU(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class fU{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class gU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Or.x,this._activate=new Or.x,this._manualClose=new Or.x,this._resetTimeout=new Or.x,this._countDuplicate=new Or.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class aD{constructor(e,t,r,i,u,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=d,this._onTap=new Or.x,this._onAction=new Or.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const BP=new c.OlP("ToastConfig");class mU extends class pU{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class yU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let _U=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vU=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new mU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new yU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_U),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(le))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YM=(()=>{class n{constructor(t,r,i,u,d){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts){const y=d&&f.title===t;if((!d||y)&&f.message===r)return f.toastRef.onDuplicate(i,u),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&u.enableHtml&&(w=this.sanitizer.sanitize(c.q3G.HTML,r));const D=new gU(y),C=new aD(this.index,u,w,i,t,D),H=c.zs3.create({providers:[{provide:aD,useValue:C}],parent:this._injector}),Z=new fU(u.toastComponent,H),ae=y.attach(Z,u.newestOnTop);D.componentInstance=ae.instance;const be={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:C.onTap(),onAction:C.onAction(),portal:ae};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BP),c.LFG(vU),c.LFG(c.zs3),c.LFG(Fo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(YM),c.Y36(aD),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",r.state),c.Tol(r.toastClasses),c.Udp("display",r.displayStyle))},attrs:VP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(c.YNc(0,tU,3,0,"button",0),c.YNc(1,rU,3,5,"div",1),c.YNc(2,iU,1,3,"div",2),c.YNc(3,sU,2,4,"div",3),c.YNc(4,oU,2,2,"div",4)),2&t&&(c.Q6J("ngIf",r.options.closeButton),c.xp6(1),c.Q6J("ngIf",r.title),c.xp6(1),c.Q6J("ngIf",r.message&&r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.message&&!r.options.enableHtml),c.xp6(1),c.Q6J("ngIf",r.options.progressBar))},dependencies:[qn],encapsulation:2,data:{animation:[vy("flyInOut",[Ey("inactive",jd({opacity:0})),Ey("active",jd({opacity:1})),Ey("removed",jd({opacity:0})),wy("inactive => active",X0("{{ easeTime }}ms {{ easing }}")),wy("active => removed",X0("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let wU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:BP,useValue:{default:EU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fa]}),n})();const IU=["skills"],bU=["contact"];function DU(n,e){1&n&&(c.TgZ(0,"small",172),c._uU(1,"Name is required"),c.qZA())}function TU(n,e){1&n&&(c.TgZ(0,"small",172),c._uU(1,"Email is required"),c.qZA())}function CU(n,e){1&n&&(c.TgZ(0,"small",172),c._uU(1,"Invalid email format"),c.qZA())}function AU(n,e){1&n&&(c.TgZ(0,"small",172),c._uU(1,"Subject is required"),c.qZA())}function SU(n,e){1&n&&(c.TgZ(0,"small",172),c._uU(1,"Message is required"),c.qZA())}const MU=[{path:"",component:(()=>{class n{constructor(t,r,i){this.fb=t,this.db=r,this.toastr=i,this.year=(new Date).getFullYear(),this.currentMenu="",this.sendClick=!1,this.messageSent=!1,this.yearsExperience=this.year-2018,this.skills={},this.contact={},this.messageFormGroup=t.group({name:[null,[Bo.required]],subject:[null,[Bo.required]],email:[null,[Bo.required,Bo.email]],message:[null,[Bo.required]]})}ngOnInit(){}scrollToSkills(){this.skills.nativeElement.scrollIntoView({behavior:"smooth"})}scrollToContact(){this.contact.nativeElement.scrollIntoView({behavior:"smooth"})}showSuccess(){this.toastr.success("Your message has been successfully sent","Message Sent!")}onSubmit(){this.sendClick||(this.sendClick=!0,this.messageFormGroup.valid?this.db.collection("messages").add({name:this.name?.value,subject:this.subject?.value,email:this.email?.value,message:this.message?.value,submittedDate:new Date}).then(()=>{this.showSuccess()}).finally(()=>{this.messageSent=!0,this.messageFormGroup.reset(),setTimeout(()=>{this.messageSent=!1},5e3),this.sendClick=!1}):(this.name?.markAsTouched(),this.subject?.markAsTouched(),this.email?.markAsTouched(),this.message?.markAsTouched()))}openResume(){window.open("assets/pdf/Ajit Kumar Baral - Resume.pdf")}get name(){return this.messageFormGroup.get("name")}get subject(){return this.messageFormGroup.get("subject")}get email(){return this.messageFormGroup.get("email")}get message(){return this.messageFormGroup.get("message")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lx),c.Y36(eU),c.Y36(YM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(1&t&&(c.Gf(IU,5),c.Gf(bU,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.skills=i.first),c.iGM(i=c.CRH())&&(r.contact=i.first)}},decls:576,vars:10,consts:[["id","colorlib-page"],[1,"container-wrap"],["href","#","data-toggle","collapse","data-target","#navbar","aria-expanded","false","aria-controls","navbar",1,"js-colorlib-nav-toggle","colorlib-nav-toggle"],["id","colorlib-aside","role","complementary",1,"border","js-fullheight"],[1,"text-center"],[1,"author-img",2,"background-image","url(assets/images/photo.png)"],["id","colorlib-logo"],["routerLink","/"],[1,"position"],["href","https://www.linkedin.com/in/ajitkbaral/"],["id","colorlib-main-menu","role","navigation",1,"navbar"],["id","navbar",1,"collapse"],[1,"active"],["href","#","data-nav-section","home"],["href","#","data-nav-section","about"],["href","#","data-nav-section","services"],["href","#","data-nav-section","skills"],["href","#","data-nav-section","experience"],["href","#","data-nav-section","education"],["href","#","data-nav-section","work"],["href","#","data-nav-section","contact"],[1,"colorlib-footer"],[2,"display","none"],["aria-hidden","true",1,"icon-heart"],["href","https://colorlib.com","target","_blank"],["href","https://www.github.com/ajitkbaral","target","_blank"],[1,"icon-github"],["href","https://www.linkedin.com/in/ajitkbaral","target","_blank"],[1,"icon-linkedin2"],["href","https://www.facebook.com/ajitkbaral","target","_blank"],[1,"icon-facebook2"],["href","https://www.twitter.com/ajitkbaral","target","_blank"],[1,"icon-twitter2"],["href","https://www.instagram.com/ajitkbaral","target","_blank"],[1,"icon-instagram"],["id","colorlib-main"],["id","colorlib-hero","data-section","home",1,"js-fullheight"],[1,"flexslider","js-fullheight"],[1,"slides"],[2,"background-image","url(assets/images/img_bg_1.jpg)"],[1,"overlay"],[1,"container-fluid"],[1,"row"],[1,"col-md-6","col-md-offset-3","col-md-pull-3","col-sm-12","col-xs-12","js-fullheight","slider-text"],[1,"slider-text-inner","js-fullheight"],[1,"desc"],["target","_blank",1,"btn","btn-primary","btn-learn",3,"click"],[1,"icon-download4"],[2,"background-image","url(assets/images/img_bg_2.jpg)"],[1,"slider-text-inner"],[1,"btn","btn-primary","btn-learn",3,"click"],[1,"icon-briefcase3"],["data-section","about",1,"colorlib-about"],[1,"colorlib-narrow-content"],[1,"col-md-12"],["data-animate-effect","fadeInLeft",1,"row","row-bottom-padded-sm","animate-box"],[1,"about-desc"],[1,"heading-meta"],[1,"colorlib-heading"],["data-animate-effect","fadeInLeft",1,"col-md-3","animate-box"],[1,"services","color-1"],[1,"icon2"],[1,"icon-bulb"],["data-animate-effect","fadeInRight",1,"col-md-3","animate-box"],[1,"services","color-2"],[1,"icon-globe-outline"],["data-animate-effect","fadeInTop",1,"col-md-3","animate-box"],[1,"services","color-3"],[1,"icon-data"],["data-animate-effect","fadeInBottom",1,"col-md-3","animate-box"],[1,"services","color-4"],[1,"icon-phone3"],["data-animate-effect","fadeInLeft",1,"col-md-12","animate-box"],[1,"hire"],[1,"btn-hire",2,"cursor","pointer",3,"click"],["data-section","services",1,"colorlib-services"],["data-animate-effect","fadeInLeft",1,"col-md-6","col-md-offset-3","col-md-pull-3","animate-box"],[1,"row","row-pt-md"],[1,"col-md-4","text-center","animate-box"],[1,"icon"],[1,"icon-monitor"],[1,"icon-box"],[1,"services","color-5"],[1,"icon-layers2"],[1,"services","color-6"],[1,"icon-book"],["id","colorlib-counter","data-stellar-background-ratio","0.5",1,"colorlib-counters",2,"background-image","url(assets/images/cover_bg_1.jpg)"],[1,"col-md-3","text-center","animate-box"],["data-from","0","data-to","309","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],[1,"colorlib-counter-label"],["data-from","0","data-to","104","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-from","0","data-to","15","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-from","0","data-to","5","data-speed","5000","data-refresh-interval","50",1,"colorlib-counter","js-counter"],["data-section","skills",1,"colorlib-skills"],["skills",""],[1,"colorlib-heading","animate-box"],["data-animate-effect","fadeInLeft",1,"col-md-6","animate-box"],[1,"progress-wrap"],[1,"progress"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-2",2,"width","85%"],["data-animate-effect","fadeInRight",1,"col-md-6","animate-box"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-3",2,"width","90%"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-1",2,"width","85%"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-6",2,"width","85%"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-5",2,"width","70%"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","color-4",2,"width","75%"],["data-section","experience",1,"colorlib-experience"],[1,"timeline-centered"],["data-animate-effect","fadeInLeft",1,"timeline-entry","animate-box"],[1,"timeline-entry-inner"],[1,"timeline-icon","color-1"],[1,"icon-pen2"],[1,"timeline-label"],["href","https://www.lftechnology.com/","target","_blank"],["data-animate-effect","fadeInRight",1,"timeline-entry","animate-box"],[1,"timeline-icon","color-2"],["href","https://ekbana.com/","target","_blank"],[1,"timeline-icon","color-3"],["href","https://www.bajratechnologies.com/","target","_blank"],["data-animate-effect","fadeInTop",1,"timeline-entry","animate-box"],[1,"timeline-icon","color-4"],["href","http://kkecnepal.com.np/","target","_blank"],[1,"timeline-icon","color-5"],["href","https://un.info.np/","target","_blank"],["data-animate-effect","fadeInBottom",1,"timeline-entry","begin","animate-box"],[1,"timeline-icon","color-none"],["data-section","education",1,"colorlib-education"],[1,"fancy-collapse-panel"],["id","accordion","role","tablist","aria-multiselectable","true",1,"panel-group"],[1,"panel","panel-default"],["role","tab","id","headingOne",1,"panel-heading"],[1,"panel-title"],["data-toggle","collapse","data-parent","#accordion","href","#collapseOne","aria-expanded","true","aria-controls","collapseOne"],["id","collapseOne","role","tabpanel","aria-labelledby","headingOne",1,"panel-collapse","collapse","in"],[1,"panel-body"],[1,"col-md-6"],["role","tab","id","headingFive",1,"panel-heading"],["data-toggle","collapse","data-parent","#accordion","href","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"collapsed"],["id","collapseFive","role","tabpanel","aria-labelledby","headingFive",1,"panel-collapse","collapse"],["data-section","work",1,"colorlib-work"],[1,"project",2,"background-image","url(assets/images/frame-1.png)"],[1,"con"],["href","https://play.google.com/store/apps/details?id=com.varskite.peptalk"],["href","https://play.google.com/store/apps/details?id=com.varskite.peptalk","target","_blank"],[1,"icon-eye"],[1,"project",2,"background-image","url(assets/images/frame-2.png)"],["href","#"],[1,"project",2,"background-image","url(assets/images/frame-6.png)"],["data-animate-effect","fadeInTop",1,"col-md-6","animate-box"],[1,"project",2,"background-image","url(assets/images/frame-3.png)"],["href","https://play.google.com/store/apps/details?id=np.info.un.digitallibrary","target","_blank"],["href","https://play.google.com/store/apps/details?id=np.info.un.digitallibrary"],["data-animate-effect","fadeInBottom",1,"col-md-6","animate-box"],[1,"project",2,"background-image","url(assets/images/frame-4.png)"],[1,"project",2,"background-image","url(assets/images/frame-5.png)"],["data-section","contact",1,"colorlib-contact",2,"padding-bottom","25rem"],["contact",""],[1,"col-md-5"],["data-animate-effect","fadeInLeft",1,"colorlib-feature","colorlib-feature-sm","animate-box"],[1,"colorlib-icon"],[1,"colorlib-text"],[1,"icon-map"],[1,"col-md-7","col-md-push-1"],["data-animate-effect","fadeInRight",1,"col-md-10","col-md-offset-1","col-md-pull-1","animate-box"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","placeholder","Full name","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","text","placeholder","Subject","formControlName","subject",1,"form-control"],["name","","id","message","cols","30","rows","7","placeholder","Message","formControlName","message",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-send-message",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"a",2),c._UZ(3,"i"),c.qZA(),c.TgZ(4,"aside",3)(5,"div",4),c._UZ(6,"div",5),c.TgZ(7,"h1",6)(8,"a",7),c._uU(9,"Ajit Kumar Baral"),c.qZA()(),c.TgZ(10,"span",8)(11,"a",9),c._uU(12,"Senior Software Engineer"),c.qZA(),c._UZ(13,"br"),c._uU(14," Based in Nepal"),c.qZA()(),c.TgZ(15,"nav",10)(16,"div",11)(17,"ul")(18,"li",12)(19,"a",13),c._uU(20,"Home"),c.qZA()(),c.TgZ(21,"li")(22,"a",14),c._uU(23,"About"),c.qZA()(),c.TgZ(24,"li")(25,"a",15),c._uU(26,"Services"),c.qZA()(),c.TgZ(27,"li")(28,"a",16),c._uU(29,"Skills"),c.qZA()(),c.TgZ(30,"li")(31,"a",17),c._uU(32,"Experience"),c.qZA()(),c.TgZ(33,"li")(34,"a",18),c._uU(35,"Education"),c.qZA()(),c.TgZ(36,"li")(37,"a",19),c._uU(38,"Work"),c.qZA()(),c.TgZ(39,"li")(40,"a",20),c._uU(41,"Contact"),c.qZA()()()()(),c.TgZ(42,"div",21),c._uU(43),c.TgZ(44,"span",22),c._uU(45," Made with "),c._UZ(46,"i",23),c._uU(47," by "),c.TgZ(48,"a",24),c._uU(49,"Colorlib"),c.qZA()(),c.TgZ(50,"ul")(51,"li")(52,"a",25),c._UZ(53,"i",26),c.qZA()(),c.TgZ(54,"li")(55,"a",27),c._UZ(56,"i",28),c.qZA()(),c.TgZ(57,"li")(58,"a",29),c._UZ(59,"i",30),c.qZA()(),c.TgZ(60,"li")(61,"a",31),c._UZ(62,"i",32),c.qZA()(),c.TgZ(63,"li")(64,"a",33),c._UZ(65,"i",34),c.qZA()()()()(),c.TgZ(66,"div",35)(67,"section",36)(68,"div",37)(69,"ul",38)(70,"li",39),c._UZ(71,"div",40),c.TgZ(72,"div",41)(73,"div",42)(74,"div",43)(75,"div",44)(76,"div",45)(77,"h1"),c._uU(78,"Hi! "),c._UZ(79,"br"),c._uU(80,"I'm Ajit"),c.qZA(),c.TgZ(81,"h2"),c._uU(82),c.qZA(),c.TgZ(83,"p")(84,"a",46),c.NdJ("click",function(){return r.openResume()}),c._uU(85,"View Resume "),c._UZ(86,"i",47),c.qZA()()()()()()()(),c.TgZ(87,"li",48),c._UZ(88,"div",40),c.TgZ(89,"div",41)(90,"div",42)(91,"div",43)(92,"div",49)(93,"div",45)(94,"h1"),c._uU(95,"I am a"),c._UZ(96,"br"),c._uU(97,"Senior Software Engineer"),c.qZA(),c.TgZ(98,"h2"),c._uU(99," I code in Java | JavaScript | Python | Angular | React | AWS "),c.qZA(),c.TgZ(100,"p")(101,"a",50),c.NdJ("click",function(){return r.scrollToSkills()}),c._uU(102,"View Portfolio "),c._UZ(103,"i",51),c.qZA()()()()()()()()()()(),c.TgZ(104,"section",52)(105,"div",53)(106,"div",42)(107,"div",54)(108,"div",55)(109,"div",54)(110,"div",56)(111,"span",57),c._uU(112,"About Me"),c.qZA(),c.TgZ(113,"h2",58),c._uU(114,"Who Am I?"),c.qZA(),c.TgZ(115,"p")(116,"strong"),c._uU(117,"Hi! I'm Ajit Kumar Baral"),c.qZA(),c._uU(118),c.qZA(),c.TgZ(119,"p"),c._uU(120," I work in R&D projects, manage and deploy software applications and integrate project management methodologies for software development. "),c.qZA()()()(),c.TgZ(121,"div",42)(122,"div",59)(123,"div",60)(124,"span",61),c._UZ(125,"i",62),c.qZA(),c.TgZ(126,"h3"),c._uU(127,"Design & Discovery"),c.qZA()()(),c.TgZ(128,"div",63)(129,"div",64)(130,"span",61),c._UZ(131,"i",65),c.qZA(),c.TgZ(132,"h3"),c._uU(133,"Software Development"),c.qZA()()(),c.TgZ(134,"div",66)(135,"div",67)(136,"span",61),c._UZ(137,"i",68),c.qZA(),c.TgZ(138,"h3"),c._uU(139,"Database Management"),c.qZA()()(),c.TgZ(140,"div",69)(141,"div",70)(142,"span",61),c._UZ(143,"i",71),c.qZA(),c.TgZ(144,"h3"),c._uU(145,"Application Development"),c.qZA()()()(),c.TgZ(146,"div",42)(147,"div",72)(148,"div",73)(149,"h2"),c._uU(150," I am happy to let you know that"),c._UZ(151,"br"),c._uU(152,"I have completed 100+ projects sucessfully! "),c.qZA(),c.TgZ(153,"a",74),c.NdJ("click",function(){return r.scrollToContact()}),c._uU(154,"Hire me"),c.qZA()()()()()()()(),c.TgZ(155,"section",75)(156,"div",53)(157,"div",42)(158,"div",76)(159,"span",57),c._uU(160,"What I do?"),c.qZA(),c.TgZ(161,"h2",58),c._uU(162,"Here are some of my expertise"),c.qZA()()(),c.TgZ(163,"div",77)(164,"div",78)(165,"div",60)(166,"span",79),c._UZ(167,"i",62),c.qZA(),c.TgZ(168,"div",45)(169,"h3"),c._uU(170,"Innovative Ideas"),c.qZA(),c.TgZ(171,"p"),c._uU(172," Discover a creative way in finding and solving a problem "),c.qZA()()()(),c.TgZ(173,"div",78)(174,"div",64)(175,"span",79),c._UZ(176,"i",80),c.qZA(),c.TgZ(177,"div",45)(178,"h3"),c._uU(179,"Software"),c.qZA(),c.TgZ(180,"p"),c._uU(181," Develop an enterprise level software solution as per the requirement "),c.qZA()()()(),c.TgZ(182,"div",78)(183,"div",67)(184,"span",79),c._UZ(185,"i",71),c.qZA(),c.TgZ(186,"div",45)(187,"h3"),c._uU(188,"Application"),c.qZA(),c.TgZ(189,"p"),c._uU(190," Create mobile based software applications with interactive design "),c.qZA()()()(),c.TgZ(191,"div",78)(192,"div",70)(193,"span",79),c._UZ(194,"i",81),c.qZA(),c.TgZ(195,"div",45)(196,"h3"),c._uU(197,"Cloud Deployment"),c.qZA(),c.TgZ(198,"p"),c._uU(199," Deploy software solutions on cloud in different cloud service platforms "),c.qZA()()()(),c.TgZ(200,"div",78)(201,"div",82)(202,"span",79),c._UZ(203,"i",83),c.qZA(),c.TgZ(204,"div",45)(205,"h3"),c._uU(206,"Architect Solutions"),c.qZA(),c.TgZ(207,"p"),c._uU(208," Determine the best practices required to architect a software on cloud "),c.qZA()()()(),c.TgZ(209,"div",78)(210,"div",84)(211,"span",79),c._UZ(212,"i",85),c.qZA(),c.TgZ(213,"div",45)(214,"h3"),c._uU(215,"Team Management"),c.qZA(),c.TgZ(216,"p"),c._uU(217," Work in Team, allocate tasks and use Agile methodology for software development "),c.qZA()()()()()()(),c.TgZ(218,"div",86),c._UZ(219,"div",40),c.TgZ(220,"div",53),c._UZ(221,"div",42),c.TgZ(222,"div",42)(223,"div",87),c._UZ(224,"span",88),c.TgZ(225,"span",89),c._uU(226,"Cups of coffee"),c.qZA()(),c.TgZ(227,"div",87),c._UZ(228,"span",90),c.TgZ(229,"span",89),c._uU(230,"Projects"),c.qZA()(),c.TgZ(231,"div",87),c._UZ(232,"span",91),c.TgZ(233,"span",89),c._uU(234,"Clients"),c.qZA()(),c.TgZ(235,"div",87),c._UZ(236,"span",92),c.TgZ(237,"span",89),c._uU(238,"Partners"),c.qZA()()()()(),c.TgZ(239,"section",93,94)(241,"div",53)(242,"div",42)(243,"div",76)(244,"span",57),c._uU(245,"My Specialty"),c.qZA(),c.TgZ(246,"h2",95),c._uU(247,"My Skills"),c.qZA()()(),c.TgZ(248,"div",42)(249,"div",72)(250,"p"),c._uU(251," Being a programmer and a software engineer, having a thrive to learn new programming skills and get knowledge of multiple technology stack is a must. I believe, a programmer should be able to code in any language if required, in order to provide the best possible solution to deliver a great result. "),c.qZA()(),c.TgZ(252,"div",96)(253,"div",97)(254,"h3"),c._uU(255,"Java"),c.qZA(),c.TgZ(256,"div",98)(257,"div",99)(258,"span"),c._uU(259,"85%"),c.qZA()()()()(),c.TgZ(260,"div",100)(261,"div",97)(262,"h3"),c._uU(263,"JavaScript"),c.qZA(),c.TgZ(264,"div",98)(265,"div",101)(266,"span"),c._uU(267,"90%"),c.qZA()()()()(),c.TgZ(268,"div",96)(269,"div",97)(270,"h3"),c._uU(271,"TypeScript"),c.qZA(),c.TgZ(272,"div",98)(273,"div",102)(274,"span"),c._uU(275,"85%"),c.qZA()()()()(),c.TgZ(276,"div",100)(277,"div",97)(278,"h3"),c._uU(279,"Python"),c.qZA(),c.TgZ(280,"div",98)(281,"div",103)(282,"span"),c._uU(283,"85%"),c.qZA()()()()(),c.TgZ(284,"div",96)(285,"div",97)(286,"h3"),c._uU(287,"C++"),c.qZA(),c.TgZ(288,"div",98)(289,"div",104)(290,"span"),c._uU(291,"70%"),c.qZA()()()()(),c.TgZ(292,"div",100)(293,"div",97)(294,"h3"),c._uU(295,"C#"),c.qZA(),c.TgZ(296,"div",98)(297,"div",105)(298,"span"),c._uU(299,"75%"),c.qZA()()()()()()()(),c.TgZ(300,"section",106)(301,"div",53)(302,"div",42)(303,"div",76)(304,"span",57),c._uU(305,"Experience"),c.qZA(),c.TgZ(306,"h2",95),c._uU(307,"Work Experience"),c.qZA()()(),c.TgZ(308,"div",42)(309,"div",54)(310,"div",107)(311,"article",108)(312,"div",109)(313,"div",110),c._UZ(314,"i",111),c.qZA(),c.TgZ(315,"div",112)(316,"h2")(317,"a",113),c._uU(318,"Senior Software Engineer/Project Lead - Leapfrog Technology, Inc."),c.qZA(),c._UZ(319,"br"),c.TgZ(320,"span"),c._uU(321,"2022-PRESENT"),c.qZA(),c._UZ(322,"br"),c.TgZ(323,"span")(324,"b"),c._uU(325,"HQ: Seattle, USA"),c.qZA()()(),c.TgZ(326,"p"),c._uU(327," Currently, I am working as a Senior Software Engineer/Project Lead in Research and Development Projects. I am working in Web3 and Blockchain Technologies using Hyperledger Fabric to create private blockchain systems along with performing design and discovery to create the optimal architecture required for the project. Containerize applications using Docker and deploy in the Kubernetes cluster on cloud in AWS services. "),c.qZA()()()(),c.TgZ(328,"article",114)(329,"div",109)(330,"div",115),c._UZ(331,"i",111),c.qZA(),c.TgZ(332,"div",112)(333,"h2")(334,"a",116),c._uU(335,"Senior Software Engineer/Tech Lead - EKbana Solutions"),c.qZA(),c._UZ(336,"br"),c.TgZ(337,"span"),c._uU(338,"2020-2022"),c.qZA(),c._UZ(339,"br"),c.TgZ(340,"span")(341,"b"),c._uU(342,"HQ: Tokyo, JAPAN"),c.qZA()()(),c.TgZ(343,"p"),c._uU(344," Worked as a Senior Software Engineer/Tech Lead to determine the right technology stack to implement in a projects according to the client requirements. Created web applications using Java, TypeScript, Node.js, and Python. Worked in web frameworks & libraries like Spring Framework, Nest JS, Next JS, Angular JS, React JS and Vue.js for creating enterprise applications. Utilize the chart libraries like Apache ECharts and Chart JS to visualize the data. Build and deploy applications in Digital Ocean droplets. "),c.qZA()()()(),c.TgZ(345,"article",108)(346,"div",109)(347,"div",117),c._UZ(348,"i",111),c.qZA(),c.TgZ(349,"div",112)(350,"h2")(351,"a",118),c._uU(352,"Software Engineer - Bajra Technologies"),c.qZA(),c._UZ(353,"br"),c.TgZ(354,"span"),c._uU(355,"2019-2020"),c.qZA(),c._UZ(356,"br"),c.TgZ(357,"span")(358,"b"),c._uU(359,"HQ: New York, USA"),c.qZA()()(),c.TgZ(360,"p"),c._uU(361," Developed system architecture for Backend with RESTful API using Ruby on Rails along with the Frontend architecture with Angular Framework. Also developed hybrid mobile application using Ionic Framework. created reusable and dynamic functions and code optimization, worked closely with Project Manager, Senior Developer, and QA under time constraints with dynamic requirements. Created application containerization using Docker and worked on writing CI/CD pipeline script for continuous deployment. Participated in Sprint Planning, Daily Scrum Meetings (Stand-up Meetings), Sprint Review Meetings, and finally Retrospect Meetings Assisting team members and guiding interns. "),c.qZA()()()(),c.TgZ(362,"article",119)(363,"div",109)(364,"div",120),c._UZ(365,"i",111),c.qZA(),c.TgZ(366,"div",112)(367,"h2")(368,"a",121),c._uU(369,"Full Stack Developer - KKEC"),c.qZA(),c._UZ(370,"br"),c.TgZ(371,"span"),c._uU(372,"2018-2019"),c.qZA(),c._UZ(373,"br"),c.TgZ(374,"span")(375,"b"),c._uU(376,"HQ: Kathmandu, Nepal"),c.qZA()()(),c.TgZ(377,"p"),c._uU(378," Worked in K.K. Engineering & Construction (KKEC) a startup organization involved closely with Nepal Government to develop web application software using languages like Python, PHP, Java, Javascript. Worked on software using frameworks like Django Framework, Laravel Framework, Spring Framework. Nest JS. Created mobile application using Java for Android and Swift for iOS. "),c.qZA()()()(),c.TgZ(379,"article",108)(380,"div",109)(381,"div",122),c._UZ(382,"i",111),c.qZA(),c.TgZ(383,"div",112)(384,"h2")(385,"a",123),c._uU(386,"Mobile Application Developer Intern - United Nations Information Centre"),c.qZA(),c._UZ(387,"br"),c.TgZ(388,"span"),c._uU(389,"2018 AUG-2018 OCT"),c.qZA(),c._UZ(390,"br"),c.TgZ(391,"span")(392,"b"),c._uU(393,"HQ: New York, USA"),c.qZA()()(),c.TgZ(394,"p"),c._uU(395,' Developed a mobile application for Android Platform named "UN Digital Library in Nepal" in 2 months of time frame with feature implementation like reading the PDF documents, social sharing using Facebook Share, UN Photo Gallery, watch Youtube videos realted to UN, Job postings of Uited Nations Nepal, etc. '),c.qZA()()()(),c.TgZ(396,"article",124)(397,"div",109),c._UZ(398,"div",125),c.qZA()()()()()()(),c.TgZ(399,"section",126)(400,"div",53)(401,"div",42)(402,"div",76)(403,"span",57),c._uU(404,"Education"),c.qZA(),c.TgZ(405,"h2",95),c._uU(406," Academic Qualification "),c.qZA()()(),c.TgZ(407,"div",42)(408,"div",72)(409,"div",127)(410,"div",128)(411,"div",129)(412,"div",130)(413,"h4",131)(414,"a",132),c._uU(415,"Bachelors of Science Degree - Computer Science & Information Technology "),c.qZA()()(),c.TgZ(416,"div",133)(417,"div",134)(418,"div",42)(419,"div",135)(420,"p"),c._uU(421," I completed my "),c.TgZ(422,"b"),c._uU(423,"4 years of Bachelors of Science Degree"),c.qZA(),c._uU(424," in "),c.TgZ(425,"b"),c._uU(426,"Computer Science and Information Technology (BScCSIT)"),c.qZA(),c._uU(427," from "),c.TgZ(428,"b"),c._uU(429,"St. Xavier's College, Maitighar Kathmandu Nepal"),c.qZA(),c._uU(430," in the year "),c.TgZ(431,"b"),c._uU(432,"2019"),c.qZA(),c._uU(433,". "),c.qZA()(),c.TgZ(434,"div",135)(435,"p"),c._uU(436," This degree is affiliated to "),c.TgZ(437,"b"),c._uU(438,"Tribhuvan University, Nepal"),c.qZA(),c._uU(439," which consists of "),c.TgZ(440,"b"),c._uU(441,"Java Programming, C, C++, Artificial Intelligence, Data Structure and Algorithm (DSA), Linear Algebra, Discrete Structure,"),c.qZA(),c._uU(442," etc. as the core subjects. "),c.qZA()()()()()(),c.TgZ(443,"div",129)(444,"div",136)(445,"h4",131)(446,"a",137),c._uU(447,"Higher Secondary Education 10(+2) "),c.qZA()()(),c.TgZ(448,"div",138)(449,"div",134)(450,"p"),c._uU(451," I completed my 10+2 studies from "),c.TgZ(452,"strong"),c._uU(453,"United Academy Higher Secondary School"),c.qZA(),c._uU(454,". I studied Science as a major which includes Physics, Mathematics, Computer Science as the core courses. "),c.qZA()()()()()()()()()(),c.TgZ(455,"section",139)(456,"div",53)(457,"div",42)(458,"div",76)(459,"span",57),c._uU(460,"My Work"),c.qZA(),c.TgZ(461,"h2",95),c._uU(462,"Recent Work"),c.qZA()()(),c.TgZ(463,"div",42)(464,"div",96)(465,"div",140)(466,"div",45)(467,"div",141)(468,"h3")(469,"a",142),c._uU(470,"PepTalk-Interview Practice App"),c.qZA()(),c.TgZ(471,"span"),c._uU(472,"Mobile Application"),c.qZA(),c.TgZ(473,"p",79)(474,"span")(475,"a",143),c._UZ(476,"i",144),c._uU(477," View App"),c.qZA()()()()()()(),c.TgZ(478,"div",100)(479,"div",145)(480,"div",45)(481,"div",141)(482,"h3")(483,"a",146),c._uU(484,"eRashan - Grocery Application"),c.qZA()(),c.TgZ(485,"span"),c._uU(486,"Backend, Frontend, Mobile Application"),c.qZA(),c._UZ(487,"p",79),c.qZA()()()(),c.TgZ(488,"div",100)(489,"div",147)(490,"div",45)(491,"div",141)(492,"h3")(493,"a",146),c._uU(494,"eRashan Store - Store Application"),c.qZA()(),c.TgZ(495,"span"),c._uU(496,"Backend and Mobile Application"),c.qZA(),c._UZ(497,"p",79),c.qZA()()()(),c.TgZ(498,"div",148)(499,"div",149)(500,"div",45)(501,"div",141)(502,"h3")(503,"a",150),c._uU(504,"UN Digital Library in Nepal"),c.qZA()(),c.TgZ(505,"span"),c._uU(506,"Mobile Applicaiton"),c.qZA(),c.TgZ(507,"p",79)(508,"span")(509,"a",151),c._UZ(510,"i",144),c._uU(511," View App"),c.qZA()()()()()()(),c.TgZ(512,"div",152)(513,"div",153)(514,"div",45)(515,"div",141)(516,"h3")(517,"a",146),c._uU(518,"Air Pay - Digital Payment"),c.qZA()(),c.TgZ(519,"span"),c._uU(520,"Backend, Mobile Application"),c.qZA(),c._UZ(521,"p",79),c.qZA()()()(),c.TgZ(522,"div",96)(523,"div",154)(524,"div",45)(525,"div",141)(526,"h3")(527,"a",146),c._uU(528,"Service Prov - Get Local Services"),c.qZA()(),c.TgZ(529,"span"),c._uU(530,"Backend, Mobile Application"),c.qZA(),c._UZ(531,"p",79),c.qZA()()()()()()(),c.TgZ(532,"section",155,156)(534,"div",53)(535,"div",42)(536,"div",76)(537,"span",57),c._uU(538,"Get in Touch"),c.qZA(),c.TgZ(539,"h2",58),c._uU(540,"Contact"),c.qZA()()(),c.TgZ(541,"div",42)(542,"div",157)(543,"div",158)(544,"div",159),c._UZ(545,"i",65),c.qZA(),c.TgZ(546,"div",160)(547,"p")(548,"a",146),c._uU(549,"ajitkbaralofficial[at]gmail[dot]com"),c.qZA()()()(),c.TgZ(550,"div",158)(551,"div",159),c._UZ(552,"i",161),c.qZA(),c.TgZ(553,"div",160)(554,"p"),c._uU(555,"Yulakhel, 44700 Lalitpur Nepal"),c.qZA()()()(),c.TgZ(556,"div",162)(557,"div",42)(558,"div",163)(559,"form",164),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(560,"div",165),c._UZ(561,"input",166),c.YNc(562,DU,2,0,"small",167),c.qZA(),c.TgZ(563,"div",165),c._UZ(564,"input",168),c.YNc(565,TU,2,0,"small",167),c.YNc(566,CU,2,0,"small",167),c.qZA(),c.TgZ(567,"div",165),c._UZ(568,"input",169),c.YNc(569,AU,2,0,"small",167),c.qZA(),c.TgZ(570,"div",165),c._UZ(571,"textarea",170),c.YNc(572,SU,2,0,"small",167),c.qZA(),c.TgZ(573,"div",165)(574,"button",171),c._uU(575," Send Message "),c.qZA()()()()()()()()()()()()),2&t){let i,u,d,f,y;c.xp6(43),c.hij(" Copyright ",r.year," All rights reserved. "),c.xp6(39),c.hij(" I have ",r.yearsExperience,"+ years of working experience in enterprise software development "),c.xp6(36),c.hij(" I have been working as a Software Engineer & Full Stack Developer for more than ",r.yearsExperience,"+ years and have hands-on experience in multiple programming languages, frameworks & technologies. "),c.xp6(441),c.Q6J("formGroup",r.messageFormGroup),c.xp6(3),c.Q6J("ngIf",(null==(i=r.messageFormGroup.get("name"))?null:i.hasError("required"))&&(null==(i=r.messageFormGroup.get("name"))?null:i.touched)),c.xp6(3),c.Q6J("ngIf",(null==(u=r.messageFormGroup.get("email"))?null:u.hasError("required"))&&(null==(u=r.messageFormGroup.get("email"))?null:u.touched)),c.xp6(1),c.Q6J("ngIf",(null==(d=r.messageFormGroup.get("email"))?null:d.hasError("email"))&&(null==(d=r.messageFormGroup.get("email"))?null:d.touched)),c.xp6(3),c.Q6J("ngIf",(null==(f=r.messageFormGroup.get("subject"))?null:f.hasError("required"))&&(null==(f=r.messageFormGroup.get("subject"))?null:f.touched)),c.xp6(3),c.Q6J("ngIf",(null==(y=r.messageFormGroup.get("message"))?null:y.hasError("required"))&&(null==(y=r.messageFormGroup.get("message"))?null:y.touched)),c.xp6(2),c.Q6J("disabled",!r.messageFormGroup.valid||r.sendClick)}},dependencies:[qn,Nh,ec,va,hp,Md,io,Ko]}),n})()},{path:"**",redirectTo:""}];let xU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wg.forRoot(MU),wg]}),n})(),NU=(()=>{class n{constructor(){this.title="ajitkbaral-portfolio-website"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Va]}),n})();const jP_firebase={projectId:"my-website-7008f",appId:"1:977853593021:web:d93360269b3f8fb43fced4",databaseURL:"https://my-website-7008f.firebaseio.com",storageBucket:"my-website-7008f.appspot.com",locationId:"us-central",apiKey:"AIzaSyC-ZbAr1uc07zjSt9YJvTBPhK6idCIPJDc",authDomain:"my-website-7008f.firebaseapp.com",messagingSenderId:"977853593021",measurementId:"G-VGW54S0V1W"};var PU=O(655),$P=O(6148),OU=O(1704);function kU(n){return new Wr.y(function(e){return{unsubscribe:(0,OU.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class uD{constructor(e){return e}}const jU=(0,Vn.u3)(kU,!0);class D0{constructor(e){return e}}const qP=Vn.nk.async,HU=(0,Vn.u3)($P.Kz,!0),GU=(0,Vn.u3)($P.Iv,!0);let zP=(()=>{class n{constructor(t,r,i){let u;this.disposables=[],(0,Xb.KN)("angularfire",Vn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(d=>{u=d})),qP().then(()=>{const d=i.get(D0);d?this.disposables=[jU(t).subscribe(f=>{GU(d,f?.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uD),c.LFG(c.R0b),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ZP="firebase_screen_id",JM="outlet",T0="screen_class",WP="screen_name";let n2=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const XM={},r2=n=>{const e=[n[T0],n[JM]].join("#");if(XM.hasOwnProperty(e))return XM[e];{const t=n2++;return XM[e]=t,t}};let s2=(()=>{class n{constructor(t,r,i,u,d,f){(0,Xb.KN)("angularfire",Vn.q4.full,"screen-tracking"),qP().then(()=>{const y=f.get(D0);!t||!y||u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Ai(i=>i instanceof m_)).pipe(Sr(i=>{var u;const f=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,H=>H.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",y=n.routerState.root.children.map(H=>H).find(H=>H.outlet===i.snapshot.outlet);if(!y)return vt(null);let w=y;for(;w.firstChild;)w=w.firstChild;const D=w.pathFromRoot.map(H=>{var Z;return null===(Z=H.routeConfig)||void 0===Z?void 0:Z.path}).filter(H=>H).join("/")||"/",C={[WP]:D,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:D,[JM]:i.snapshot.outlet};e&&(C.page_title=e.getTitle());let V=y.component;if(V){if(V===Ih){let H=i.snapshot;for(;H.firstChild;)H=H.firstChild;V=H.component}}else V=i.snapshot.component;if("string"==typeof V)return vt(Object.assign(Object.assign({},C),{[T0]:V}));if(V){const H=t.resolveComponentFactory(V);return vt(Object.assign(Object.assign({},C),{[T0]:H.selector}))}return vt(null)}),Ai(i=>!!i),(0,Vt.U)(i=>Object.assign({firebase_screen_class:i[T0],[ZP]:r2(i)},i)),function RU(n,e,t,r){return(0,Qr.e)((i,u)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const f=new Map,y=Z=>{f.forEach(Z),Z(u)},w=Z=>y(ae=>ae.error(Z));let D=0,C=!1;const V=new ar.Q(u,Z=>{try{const ae=n(Z);let be=f.get(ae);if(!be){f.set(ae,be=r?r():new Or.x);const tt=function H(Z,ae){const be=new Wr.y(tt=>{D++;const at=ae.subscribe(tt);return()=>{at.unsubscribe(),0==--D&&C&&V.unsubscribe()}});return be.key=Z,be}(ae,be);if(u.next(tt),t){const at=(0,ar.x)(be,()=>{be.complete(),at?.unsubscribe()},void 0,void 0,()=>f.delete(ae));V.add((0,Li.Xf)(t(tt)).subscribe(at))}}be.next(d?d(Z):Z)}catch(ae){w(ae)}},()=>y(Z=>Z.complete()),w,()=>f.clear(),()=>(C=!0,0===D));i.subscribe(V)})}(i=>i[JM]),(0,si.z)(i=>i.pipe(hI((u,d)=>JSON.stringify(u)===JSON.stringify(d)),uh(void 0),Ig(),(0,Vt.U)(([u,d])=>u?Object.assign({firebase_previous_class:u[T0],firebase_previous_screen:u[WP],firebase_previous_id:u[ZP]},d):d)))))(t,r,i).pipe(Sr(w=>(0,PU.mG)(this,void 0,void 0,function*(){return d&&(yield d.initialized),HU(y,"screen_view",w)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kr,8),c.LFG(Ms,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(zP,8),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[NU]}),n.\u0275inj=c.cJS({providers:[s2,zP],imports:[Oo,xU,ux,Dp,Vs.hO.initializeApp(jP_firebase),hc,wU.forRoot()]}),n})();(0,c.G48)(),fu().bootstrapModule(l2).catch(n=>console.error(n))},6148:(ft,Ne,O)=>{"use strict";O.d(Ne,{Gb:()=>or,Kz:()=>gt,Iv:()=>Tn});var c=O(5861),B=O(9681),R=O(1877),ne=O(2090),ge=O(4859);O(2833);const le="analytics",pe="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Pe=new R.Yd("@firebase/analytics");function Ae(U){return Promise.all(U.map(S=>S.catch(x=>x)))}function Se(U,S){const x=document.createElement("script");x.src=`${Q}?l=${U}&id=${S}`,x.async=!0,document.head.appendChild(x)}function Ee(U,S,x,N,z,me){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(U,S,x,N,z,me){const ke=N[z];try{if(ke)yield S[ke];else{const oe=(yield Ae(x)).find(je=>je.measurementId===z);oe&&(yield S[oe.appId])}}catch(qe){Pe.error(qe)}U("config",z,me)})).apply(this,arguments)}function st(U,S,x,N,z){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(U,S,x,N,z){try{let me=[];if(z&&z.send_to){let ke=z.send_to;Array.isArray(ke)||(ke=[ke]);const qe=yield Ae(x);for(const oe of ke){const je=qe.find(tn=>tn.measurementId===oe),yt=je&&S[je.appId];if(!yt){me=[];break}me.push(yt)}}0===me.length&&(me=Object.values(S)),yield Promise.all(me),U("event",N,z||{})}catch(me){Pe.error(me)}})).apply(this,arguments)}function De(){const U=window.document.getElementsByTagName("script");for(const S of Object.values(U))if(S.src&&S.src.includes(Q))return S;return null}const te=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),X=new class J{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function he(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function se(U){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(U){var S;const{appId:x,apiKey:N}=U,z={method:"GET",headers:he(N)},me=G.replace("{app-id}",x),ke=yield fetch(me,z);if(200!==ke.status&&304!==ke.status){let qe="";try{const oe=yield ke.json();null!==(S=oe.error)&&void 0!==S&&S.message&&(qe=oe.error.message)}catch{}throw te.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:qe})}return ke.json()})).apply(this,arguments)}function Ve(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(U,S=X,x){const{appId:N,apiKey:z,measurementId:me}=U.options;if(!N)throw te.create("no-app-id");if(!z){if(me)return{measurementId:me,appId:N};throw te.create("no-api-key")}const ke=S.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Bn;return setTimeout((0,c.Z)(function*(){qe.abort()}),void 0!==x?x:6e4),Xt({appId:N,apiKey:z,measurementId:me},ke,qe,S)})).apply(this,arguments)}function Xt(U,S,x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(U,{throttleEndTimeMillis:S,backoffCount:x},N,z=X){var me,ke;const{appId:qe,measurementId:oe}=U;try{yield Ze(N,S)}catch(je){if(oe)return Pe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${oe} provided in the "measurementId" field in the local Firebase config. [${null===(me=je)||void 0===me?void 0:me.message}]`),{appId:qe,measurementId:oe};throw je}try{const je=yield se(U);return z.deleteThrottleMetadata(qe),je}catch(je){const yt=je;if(!rn(yt)){if(z.deleteThrottleMetadata(qe),oe)return Pe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${oe} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:qe,measurementId:oe};throw je}const tn=503===Number(null===(ke=yt?.customData)||void 0===ke?void 0:ke.httpStatus)?(0,ne.$s)(x,z.intervalMillis,30):(0,ne.$s)(x,z.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+tn,backoffCount:x+1};return z.setThrottleMetadata(qe,Mt),Pe.debug(`Calling attemptFetch again in ${tn} millis`),Xt(U,Mt,N,z)}})).apply(this,arguments)}function Ze(U,S){return new Promise((x,N)=>{const z=Math.max(S-Date.now(),0),me=setTimeout(x,z);U.addEventListener(()=>{clearTimeout(me),N(te.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function rn(U){if(!(U instanceof ne.ZR&&U.customData))return!1;const S=Number(U.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Bn{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let cn,Ln;function jt(){return(jt=(0,c.Z)(function*(U,S,x,N,z){if(z&&z.global)U("event",x,N);else{const me=yield S;U("event",x,Object.assign(Object.assign({},N),{send_to:me}))}})).apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(U,S,x,N){if(N&&N.global)return U("set",{user_id:x}),Promise.resolve();U("config",yield S,{update:!0,user_id:x})})).apply(this,arguments)}function hr(U){Ln=U}function br(U){cn=U}function et(){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(){var U;if(!(0,ne.hl)())return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(S){return Pe.warn(te.create("indexeddb-unavailable",{errorInfo:null===(U=S)||void 0===U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(U,S,x,N,z,me,ke){var qe;const oe=Ve(U);oe.then(qt=>{x[qt.measurementId]=qt.appId,U.options.measurementId&&qt.measurementId!==U.options.measurementId&&Pe.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${qt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qt=>Pe.error(qt)),S.push(oe);const je=et().then(qt=>{if(qt)return N.getId()}),[yt,tn]=yield Promise.all([oe,je]);De()||Se(me,yt.measurementId),Ln&&(z("consent","default",Ln),hr(void 0)),z("js",new Date);const Mt=null!==(qe=ke?.config)&&void 0!==qe?qe:{};return Mt.origin="firebase",Mt.update=!0,null!=tn&&(Mt[pe]=tn),z("config",yt.measurementId,Mt),cn&&(z("set",cn),br(void 0)),yt.measurementId})).apply(this,arguments)}class Kn{constructor(S){this.app=S}_delete(){return delete Dr[this.app.options.appId],Promise.resolve()}}let Dr={},pn=[];const In={};let ut,mt,on="dataLayer",fn=!1;function At(U,S,x){!function Yn(){const U=[];if((0,ne.ru)()&&U.push("This is a browser extension environment."),(0,ne.zI)()||U.push("Cookies are not available."),U.length>0){const S=U.map((N,z)=>`(${z+1}) ${N}`).join(" "),x=te.create("invalid-analytics-context",{errorInfo:S});Pe.warn(x.message)}}();const N=U.options.appId;if(!N)throw te.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw te.create("no-api-key");Pe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Dr[N])throw te.create("already-exists",{id:N});if(!fn){!function Je(U){let S=[];Array.isArray(window[U])?S=window[U]:window[U]=S}(on);const{wrappedGtag:me,gtagCore:ke}=function Oe(U,S,x,N,z){let me=function(...ke){window[N].push(arguments)};return window[z]&&"function"==typeof window[z]&&(me=window[z]),window[z]=function Fe(U,S,x,N){function me(){return(me=(0,c.Z)(function*(ke,qe,oe){try{"event"===ke?yield st(U,S,x,qe,oe):"config"===ke?yield Ee(U,S,x,N,qe,oe):"consent"===ke?U("consent","update",oe):U("set",qe)}catch(je){Pe.error(je)}})).apply(this,arguments)}return function z(ke,qe,oe){return me.apply(this,arguments)}}(me,U,S,x),{gtagCore:me,wrappedGtag:window[z]}}(Dr,pn,In,on,"gtag");mt=me,ut=ke,fn=!0}return Dr[N]=function Pn(U,S,x,N,z,me,ke){return dn.apply(this,arguments)}(U,pn,In,S,ut,on,x),new Kn(U)}function or(){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}function Tn(U,S,x){U=(0,ne.m9)(U),function pi(U,S,x,N){return Ur.apply(this,arguments)}(mt,Dr[U.app.options.appId],S,x).catch(N=>Pe.error(N))}function gt(U,S,x,N){U=(0,ne.m9)(U),function en(U,S,x,N,z){return jt.apply(this,arguments)}(mt,Dr[U.app.options.appId],S,x,N).catch(z=>Pe.error(z))}const $="@firebase/analytics",j="0.8.1";!function Y(){(0,B._registerComponent)(new ge.wA(le,(S,{options:x})=>At(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,B._registerComponent)(new ge.wA("analytics-internal",function U(S){try{const x=S.getProvider(le).getImmediate();return{logEvent:(N,z,me)=>gt(x,N,z,me)}}catch(x){throw te.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,B.registerVersion)($,j),(0,B.registerVersion)($,j,"esm2017")}()},5867:(ft,Ne,O)=>{"use strict";O.d(Ne,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp});var c=O(9681);(0,c.registerVersion)("firebase","9.11.0","app")},127:(ft,Ne,O)=>{"use strict";O.d(Ne,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.11.0","app-compat")},5881:(ft,Ne,O)=>{"use strict";O.r(Ne);var c=O(5861),B=O(3942),R=O(1704),ne=O(2090),le=(O(9681),O(1877),O(4859));function pe(){return window}function G(){return(G=(0,c.Z)(function*(S,x,N){var z;const{BuildInfo:me}=pe();(0,R.aq)(x.sessionId,"AuthEvent did not contain a session ID");const ke=yield ce(x.sessionId),qe={};return(0,R.ar)()?qe.ibi=me.packageName:(0,R.as)()?qe.apn=me.packageName:(0,R.at)(S,"operation-not-supported-in-this-environment"),me.displayName&&(qe.appDisplayName=me.displayName),qe.sessionId=ke,(0,R.au)(S,N,x.type,void 0,null!==(z=x.eventId)&&void 0!==z?z:void 0,qe)})).apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(S){const{BuildInfo:x}=pe(),N={};(0,R.ar)()?N.iosBundleId=x.packageName:(0,R.as)()?N.androidPackageName=x.packageName:(0,R.at)(S,"operation-not-supported-in-this-environment"),yield(0,R.av)(S,N)})).apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(S,x,N){const{cordova:z}=pe();let me=()=>{};try{yield new Promise((ke,qe)=>{let oe=null;function je(){var Mt;ke();const qt=null===(Mt=z.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof qt&&qt(),"function"==typeof N?.close&&N.close()}function yt(){oe||(oe=window.setTimeout(()=>{qe((0,R.aw)(S,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&yt()}x.addPassiveListener(je),document.addEventListener("resume",yt,!1),(0,R.as)()&&document.addEventListener("visibilitychange",tn,!1),me=()=>{x.removePassiveListener(je),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",tn,!1),oe&&window.clearTimeout(oe)}})}finally{me()}})).apply(this,arguments)}function ce(S){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(S){const x=Ye(S),N=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(N)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(S){if((0,R.aq)(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const x=new ArrayBuffer(S.length),N=new Uint8Array(x);for(let z=0;z<S.length;z++)N[z]=S.charCodeAt(z);return N}class Oe extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(x)),super.onEvent(x)}initialized(){var x=this;return(0,c.Z)(function*(){yield x.initPromise})()}}function te(S){return ue.apply(this,arguments)}function ue(){return(ue=(0,c.Z)(function*(S){const x=yield X()._get(he(S));return x&&(yield X()._remove(he(S))),x})).apply(this,arguments)}function J(){const S=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<20;N++){const z=Math.floor(Math.random()*x.length);S.push(x.charAt(z))}return S.join("")}function X(){return(0,R.ay)(R.b)}function he(S){return(0,R.az)("authEvent",S.config.apiKey,S.name)}function Ve(S){if(!S?.includes("?"))return{};const[x,...N]=S.split("?");return(0,ne.zd)(N.join("?"))}function Ze(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function jt(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function hn(S=(0,ne.z$)()){return!("file:"!==jt()&&"ionic:"!==jt()&&"capacitor:"!==jt()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){try{const S=self.localStorage,x=R.aI();if(S)return S.setItem(x,"1"),S.removeItem(x),!function Wn(S=(0,ne.z$)()){return function Ur(){return(0,ne.w1)()&&11===document?.documentMode}()||function Rn(S=(0,ne.z$)()){return/Edge\/\d+/.test(S)}(S)}()||(0,ne.hl)()}catch{return Hn()&&(0,ne.hl)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function Ct(){return"http:"===jt()||"https:"===jt()}()||(0,ne.ru)()||hn())&&!function pi(){return(0,ne.b$)()||(0,ne.UG)()}()&&Ir()&&!Hn()}function hr(){return hn()&&typeof document<"u"}function et(){return(et=(0,c.Z)(function*(){return!!hr()&&new Promise(S=>{const x=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),S(!0)})})})).apply(this,arguments)}const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},dn=R.ax,Kn="persistence";function pn(S){return In.apply(this,arguments)}function In(){return(In=(0,c.Z)(function*(S){yield S._initializationPromise;const x=ct(),N=R.az(Kn,S.config.apiKey,S.name);x&&x.setItem(N,S._getPersistence())})).apply(this,arguments)}function ct(){var S;try{return(null===(S=function vn(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const ut=R.ax;class mt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Xt{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(x){var N=this;return(0,c.Z)(function*(){const z=x._key();let me=N.eventManagers.get(z);return me||(me=new Oe(x),N.eventManagers.set(z,me),N.attachCallbackListeners(x,me)),me})()}_openPopup(x){(0,R.at)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,N,z,me){var ke=this;return(0,c.Z)(function*(){!function Ee(S){var x,N,z,me,ke,qe,oe,je,yt,tn;const Mt=pe();(0,R.ax)("function"==typeof(null===(x=Mt?.universalLinks)||void 0===x?void 0:x.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(N=Mt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(ke=null===(me=null===(z=Mt?.cordova)||void 0===z?void 0:z.plugins)||void 0===me?void 0:me.browsertab)||void 0===ke?void 0:ke.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(je=null===(oe=null===(qe=Mt?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===je?void 0:je.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(tn=null===(yt=Mt?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===tn?void 0:tn.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const qe=yield ke._initialize(x);yield qe.initialized(),qe.resetRedirect(),(0,R.aD)(),yield ke._originValidation(x);const oe=function De(S,x,N=null){return{type:x,eventId:N,urlResponse:null,sessionId:J(),postBody:null,tenantId:S.tenantId,error:(0,R.aw)(S,"no-auth-event")}}(x,z,me);yield function We(S,x){return X()._set(he(S),x)}(x,oe);const je=yield function q(S,x,N){return G.apply(this,arguments)}(x,oe,N),yt=yield function Ae(S){const{cordova:x}=pe();return new Promise(N=>{x.plugins.browsertab.isAvailable(z=>{let me=null;z?x.plugins.browsertab.openUrl(S):me=x.InAppBrowser.open(S,(0,R.ap)()?"_blank":"_system","location=yes"),N(me)})})}(je);return function Se(S,x,N){return Je.apply(this,arguments)}(x,qe,yt)})()}_isIframeWebStorageSupported(x,N){throw new Error("Method not implemented.")}_originValidation(x){const N=x._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function Q(S){return Pe.apply(this,arguments)}(x)),this.originValidationPromises[N]}attachCallbackListeners(x,N){const{universalLinks:z,handleOpenURL:me,BuildInfo:ke}=pe(),qe=setTimeout((0,c.Z)(function*(){yield te(x),N.onEvent(Ze())}),500),oe=function(){var tn=(0,c.Z)(function*(Mt){clearTimeout(qe);const qt=yield te(x);let zr=null;qt&&Mt?.url&&(zr=function we(S,x){var N,z;const me=function $e(S){const x=Ve(S),N=x.link?decodeURIComponent(x.link):void 0,z=Ve(N).link,me=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Ve(me).link||me||z||N||S}(x);if(me.includes("/__/auth/callback")){const ke=Ve(me),qe=ke.firebaseError?function se(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(ke.firebaseError)):null,oe=null===(z=null===(N=qe?.code)||void 0===N?void 0:N.split("auth/"))||void 0===z?void 0:z[1],je=oe?(0,R.aw)(oe):null;return je?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:me,postBody:null}}return null}(qt,Mt.url)),N.onEvent(zr||Ze())});return function(qt){return tn.apply(this,arguments)}}();typeof z<"u"&&"function"==typeof z.subscribe&&z.subscribe(null,oe);const je=me,yt=`${ke.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var tn=(0,c.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(yt)&&oe({url:Mt}),"function"==typeof je)try{je(Mt)}catch(qt){console.error(qt)}});return function(Mt){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(x){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,N,z,me){var ke=this;return(0,c.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openPopup(x,N,z,me)})()}_openRedirect(x,N,z,me){var ke=this;return(0,c.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openRedirect(x,N,z,me)})()}_isIframeWebStorageSupported(x,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,N)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,c.Z)(function*(){if(x.underlyingResolver)return;const N=yield function br(){return et.apply(this,arguments)}();x.underlyingResolver=N?x.cordovaResolver:x.browserResolver})()}}function fn(S){return S.unwrap()}function Yn(S){return sr(S)}function sr(S){const{_tokenResponse:x}=S instanceof ne.ZR?S.customData:S;if(!x)return null;if(!(S instanceof ne.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return R.P.credentialFromResult(S);const N=x.providerId;if(!N||N===R.o.PASSWORD)return null;let z;switch(N){case R.o.GOOGLE:z=R.Q;break;case R.o.FACEBOOK:z=R.N;break;case R.o.GITHUB:z=R.T;break;case R.o.TWITTER:z=R.W;break;default:const{oauthIdToken:me,oauthAccessToken:ke,oauthTokenSecret:qe,pendingToken:oe,nonce:je}=x;return ke||qe||me||oe?oe?N.startsWith("saml.")?R.aL._create(N,oe):R.J._fromParams({providerId:N,signInMethod:N,pendingToken:oe,idToken:me,accessToken:ke}):new R.U(N).credential({idToken:me,accessToken:ke,rawNonce:je}):null}return S instanceof ne.ZR?z.credentialFromError(S):z.credentialFromResult(S)}function Rt(S,x){return x.catch(N=>{throw N instanceof ne.ZR&&function At(S,x){var N,z;const me=null===(N=x.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===(null===(z=x)||void 0===z?void 0:z.code))x.resolver=new Gn(S,R.an(S,x));else if(me){const ke=sr(x),qe=x;ke&&(qe.credential=ke,qe.tenantId=me.tenantId||void 0,qe.email=me.email||void 0,qe.phoneNumber=me.phoneNumber||void 0)}}(S,N),N}).then(N=>{const me=N.user;return{operationType:N.operationType,credential:Yn(N),additionalUserInfo:R.al(N),user:Tn.getOrCreate(me)}})}function or(S,x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(S,x){const N=yield x;return{verificationId:N.verificationId,confirm:z=>Rt(S,N.confirm(z))}})).apply(this,arguments)}class Gn{constructor(x,N){this.resolver=N,this.auth=function fr(S){return S.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Rt(fn(this.auth),this.resolver.resolveSignIn(x))}}class Tn{constructor(x){this._delegate=x,this.multiFactor=R.ao(x)}static getOrCreate(x){return Tn.USER_MAP.has(x)||Tn.USER_MAP.set(x,new Tn(x)),Tn.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var N=this;return(0,c.Z)(function*(){return Rt(N.auth,R.Z(N._delegate,x))})()}linkWithPhoneNumber(x,N){var z=this;return(0,c.Z)(function*(){return or(z.auth,R.l(z._delegate,x,N))})()}linkWithPopup(x){var N=this;return(0,c.Z)(function*(){return Rt(N.auth,R.d(N._delegate,x,mt))})()}linkWithRedirect(x){var N=this;return(0,c.Z)(function*(){return yield pn(R.aE(N.auth)),R.g(N._delegate,x,mt)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var N=this;return(0,c.Z)(function*(){return Rt(N.auth,R._(N._delegate,x))})()}reauthenticateWithPhoneNumber(x,N){return or(this.auth,R.r(this._delegate,x,N))}reauthenticateWithPopup(x){return Rt(this.auth,R.e(this._delegate,x,mt))}reauthenticateWithRedirect(x){var N=this;return(0,c.Z)(function*(){return yield pn(R.aE(N.auth)),R.h(N._delegate,x,mt)})()}sendEmailVerification(x){return R.ab(this._delegate,x)}unlink(x){var N=this;return(0,c.Z)(function*(){return yield R.ak(N._delegate,x),N})()}updateEmail(x){return R.ag(this._delegate,x)}updatePassword(x){return R.ah(this._delegate,x)}updatePhoneNumber(x){return R.u(this._delegate,x)}updateProfile(x){return R.af(this._delegate,x)}verifyBeforeUpdateEmail(x,N){return R.ac(this._delegate,x,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tn.USER_MAP=new WeakMap;const Xe=R.ax;let xe=(()=>{class S{constructor(N,z){if(this.app=N,z.isInitialized())return this._delegate=z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=N.options;Xe(me,"invalid-api-key",{appName:N.name}),Xe(me,"invalid-api-key",{appName:N.name});const ke=typeof window<"u"?mt:void 0;this._delegate=z.initialize({options:{persistence:gt(me,N.name),popupRedirectResolver:ke}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,z){R.G(this._delegate,N,z)}applyActionCode(N){return R.a2(this._delegate,N)}checkActionCode(N){return R.a3(this._delegate,N)}confirmPasswordReset(N,z){return R.a1(this._delegate,N,z)}createUserWithEmailAndPassword(N,z){var me=this;return(0,c.Z)(function*(){return Rt(me._delegate,R.a5(me._delegate,N,z))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.aa(this._delegate,N)}isSignInWithEmailLink(N){return R.a8(this._delegate,N)}getRedirectResult(){var N=this;return(0,c.Z)(function*(){Xe(Ln(),N._delegate,"operation-not-supported-in-this-environment");const z=yield R.j(N._delegate,mt);return z?Rt(N._delegate,Promise.resolve(z)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function rn(S,x){(0,R.aE)(S)._logFramework(x)}(this._delegate,N)}onAuthStateChanged(N,z,me){const{next:ke,error:qe,complete:oe}=rt(N,z,me);return this._delegate.onAuthStateChanged(ke,qe,oe)}onIdTokenChanged(N,z,me){const{next:ke,error:qe,complete:oe}=rt(N,z,me);return this._delegate.onIdTokenChanged(ke,qe,oe)}sendSignInLinkToEmail(N,z){return R.a7(this._delegate,N,z)}sendPasswordResetEmail(N,z){return R.a0(this._delegate,N,z||void 0)}setPersistence(N){var z=this;return(0,c.Z)(function*(){let me;switch(function Dr(S,x){dn(Object.values(Pn).includes(x),S,"invalid-persistence-type"),(0,ne.b$)()?dn(x!==Pn.SESSION,S,"unsupported-persistence-type"):(0,ne.UG)()?dn(x===Pn.NONE,S,"unsupported-persistence-type"):Hn()?dn(x===Pn.NONE||x===Pn.LOCAL&&(0,ne.hl)(),S,"unsupported-persistence-type"):dn(x===Pn.NONE||Ir(),S,"unsupported-persistence-type")}(z._delegate,N),N){case Pn.SESSION:me=R.a;break;case Pn.LOCAL:me=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Pn.NONE:me=R.L;break;default:return R.at("argument-error",{appName:z._delegate.name})}return z._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Rt(this._delegate,R.X(this._delegate))}signInWithCredential(N){return Rt(this._delegate,R.Y(this._delegate,N))}signInWithCustomToken(N){return Rt(this._delegate,R.$(this._delegate,N))}signInWithEmailAndPassword(N,z){return Rt(this._delegate,R.a6(this._delegate,N,z))}signInWithEmailLink(N,z){return Rt(this._delegate,R.a9(this._delegate,N,z))}signInWithPhoneNumber(N,z){return or(this._delegate,R.s(this._delegate,N,z))}signInWithPopup(N){var z=this;return(0,c.Z)(function*(){return Xe(Ln(),z._delegate,"operation-not-supported-in-this-environment"),Rt(z._delegate,R.c(z._delegate,N,mt))})()}signInWithRedirect(N){var z=this;return(0,c.Z)(function*(){return Xe(Ln(),z._delegate,"operation-not-supported-in-this-environment"),yield pn(z._delegate),R.f(z._delegate,N,mt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a4(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=Pn,S})();function rt(S,x,N){let z=S;"function"!=typeof S&&({next:z,error:x,complete:N}=S);const me=z;return{next:qe=>me(qe&&Tn.getOrCreate(qe)),error:x,complete:N}}function gt(S,x){const N=function on(S,x){const N=ct();if(!N)return[];const z=R.az(Kn,S,x);switch(N.getItem(z)){case Pn.NONE:return[R.L];case Pn.LOCAL:return[R.i,R.a];case Pn.SESSION:return[R.a];default:return[]}}(S,x);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const z of[R.b,R.a])N.includes(z)||N.push(z);return N.includes(R.L)||N.push(R.L),N}class bt{constructor(){this.providerId="phone",this._delegate=new R.P(fn(B.Z.auth()))}static credential(x,N){return R.P.credential(x,N)}verifyPhoneNumber(x,N){return this._delegate.verifyPhoneNumber(x,N)}unwrap(){return this._delegate}}bt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,bt.PROVIDER_ID=R.P.PROVIDER_ID;const $=R.ax;class j{constructor(x,N,z=B.Z.app()){var me;$(null===(me=z.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:z.name}),this._delegate=new R.R(x,N,z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function U(S){S.INTERNAL.registerComponent(new le.wA("auth-compat",x=>{const N=x.getProvider("app-compat").getImmediate(),z=x.getProvider("auth");return new xe(N,z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:bt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:j,TwitterAuthProvider:R.W,Auth:xe,AuthCredential:R.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.2.21")}(B.Z)},9751:(ft,Ne,O)=>{"use strict";O.d(Ne,{y:()=>pe});var c=O(2961),B=O(727),R=O(8822),ne=O(9635),ge=O(2416),ve=O(576),le=O(2806);let pe=(()=>{class Q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Se=new Q;return Se.source=this,Se.operator=Ae,Se}subscribe(Ae,Se,Je){const Ee=function G(Q){return Q&&Q instanceof c.Lv||function q(Q){return Q&&(0,ve.m)(Q.next)&&(0,ve.m)(Q.error)&&(0,ve.m)(Q.complete)}(Q)&&(0,B.Nn)(Q)}(Ae)?Ae:new c.Hp(Ae,Se,Je);return(0,le.x)(()=>{const{operator:ce,source:st}=this;Ee.add(ce?ce.call(Ee,st):st?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Se){Ae.error(Se)}}forEach(Ae,Se){return new(Se=ye(Se))((Je,Ee)=>{const ce=new c.Hp({next:st=>{try{Ae(st)}catch(Ye){Ee(Ye),ce.unsubscribe()}},error:Ee,complete:Je});this.subscribe(ce)})}_subscribe(Ae){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Ae)}[R.L](){return this}pipe(...Ae){return(0,ne.U)(Ae)(this)}toPromise(Ae){return new(Ae=ye(Ae))((Se,Je)=>{let Ee;this.subscribe(ce=>Ee=ce,ce=>Je(ce),()=>Se(Ee))})}}return Q.create=Pe=>new Q(Pe),Q})();function ye(Q){var Pe;return null!==(Pe=Q??ge.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(ft,Ne,O)=>{"use strict";O.d(Ne,{x:()=>le});var c=O(9751),B=O(727);const ne=(0,O(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=O(8737),ve=O(2806);let le=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new pe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Pe,observers:Ae}=this;return Q||Pe?B.Lc:(this.currentObservers=null,Ae.push(G),new B.w0(()=>{this.currentObservers=null,(0,ge.P)(Ae,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Pe,isStopped:Ae}=this;Q?G.error(Pe):Ae&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return ye.create=(q,G)=>new pe(q,G),ye})();class pe extends le{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,q)}error(q){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==Q?Q:B.Lc}}},2961:(ft,Ne,O)=>{"use strict";O.d(Ne,{Hp:()=>Je,Lv:()=>Q});var c=O(576),B=O(727),R=O(2416),ne=O(7849);function ge(){}const ve=ye("C",void 0,void 0);function ye(Fe,Oe,De){return{kind:Fe,value:Oe,error:De}}var q=O(3410),G=O(2806);class Q extends B.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,B.Nn)(Oe)&&Oe.add(this)):this.destination=Ye}static create(Oe,De,We){return new Je(Oe,De,We)}next(Oe){this.isStopped?st(function pe(Fe){return ye("N",Fe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?st(function le(Fe){return ye("E",void 0,Fe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?st(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ae(Fe,Oe){return Pe.call(Fe,Oe)}class Se{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:De}=this;if(De.next)try{De.next(Oe)}catch(We){Ee(We)}}error(Oe){const{partialObserver:De}=this;if(De.error)try{De.error(Oe)}catch(We){Ee(We)}else Ee(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(De){Ee(De)}}}class Je extends Q{constructor(Oe,De,We){let te;if(super(),(0,c.m)(Oe)||!Oe)te={next:Oe??void 0,error:De??void 0,complete:We??void 0};else{let ue;this&&R.v.useDeprecatedNextContext?(ue=Object.create(Oe),ue.unsubscribe=()=>this.unsubscribe(),te={next:Oe.next&&Ae(Oe.next,ue),error:Oe.error&&Ae(Oe.error,ue),complete:Oe.complete&&Ae(Oe.complete,ue)}):te=Oe}this.destination=new Se(te)}}function Ee(Fe){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Fe):(0,ne.h)(Fe)}function st(Fe,Oe){const{onStoppedNotification:De}=R.v;De&&q.z.setTimeout(()=>De(Fe,Oe))}const Ye={closed:!0,next:ge,error:function ce(Fe){throw Fe},complete:ge}},727:(ft,Ne,O)=>{"use strict";O.d(Ne,{Lc:()=>ve,w0:()=>ge,Nn:()=>le});var c=O(576);const R=(0,O(3888).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Pe)=>`${Pe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=O(8737);class ge{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ae of G)Ae.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Ae){q=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ae of Pe)try{pe(Ae)}catch(Se){q=q??[],Se instanceof R?q=[...q,...Se.errors]:q.push(Se)}}if(q)throw new R(q)}}add(q){var G;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof ge){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,q)}remove(q){const{_finalizers:G}=this;G&&(0,ne.P)(G,q),q instanceof ge&&q._removeParent(this)}}ge.EMPTY=(()=>{const ye=new ge;return ye.closed=!0,ye})();const ve=ge.EMPTY;function le(ye){return ye instanceof ge||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function pe(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2416:(ft,Ne,O)=>{"use strict";O.d(Ne,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ne,O)=>{"use strict";O.d(Ne,{E:()=>B});const B=new(O(9751).y)(ge=>ge.complete())},8996:(ft,Ne,O)=>{"use strict";O.d(Ne,{D:()=>Oe});var c=O(8421),B=O(5363),R=O(9468),ve=O(9751),pe=O(2202),ye=O(576),q=O(9672);function Q(De,We){if(!De)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,q.f)(te,We,()=>{const ue=De[Symbol.asyncIterator]();(0,q.f)(te,We,()=>{ue.next().then(we=>{we.done?te.complete():te.next(we.value)})},0,!0)})})}var Pe=O(3670),Ae=O(8239),Se=O(1144),Je=O(6495),Ee=O(2206),ce=O(4532),st=O(3260);function Oe(De,We){return We?function Fe(De,We){if(null!=De){if((0,Pe.c)(De))return function ne(De,We){return(0,c.Xf)(De).pipe((0,R.R)(We),(0,B.Q)(We))}(De,We);if((0,Se.z)(De))return function le(De,We){return new ve.y(te=>{let ue=0;return We.schedule(function(){ue===De.length?te.complete():(te.next(De[ue++]),te.closed||this.schedule())})})}(De,We);if((0,Ae.t)(De))return function ge(De,We){return(0,c.Xf)(De).pipe((0,R.R)(We),(0,B.Q)(We))}(De,We);if((0,Ee.D)(De))return Q(De,We);if((0,Je.T)(De))return function G(De,We){return new ve.y(te=>{let ue;return(0,q.f)(te,We,()=>{ue=De[pe.h](),(0,q.f)(te,We,()=>{let we,J;try{({value:we,done:J}=ue.next())}catch(X){return void te.error(X)}J?te.complete():te.next(we)},0,!0)}),()=>(0,ye.m)(ue?.return)&&ue.return()})}(De,We);if((0,st.L)(De))return function Ye(De,We){return Q((0,st.Q)(De),We)}(De,We)}throw(0,ce.z)(De)}(De,We):(0,c.Xf)(De)}},8421:(ft,Ne,O)=>{"use strict";O.d(Ne,{Xf:()=>Pe});var c=O(655),B=O(1144),R=O(8239),ne=O(9751),ge=O(3670),ve=O(2206),le=O(4532),pe=O(6495),ye=O(3260),q=O(576),G=O(7849),Q=O(8822);function Pe(Fe){if(Fe instanceof ne.y)return Fe;if(null!=Fe){if((0,ge.c)(Fe))return function Ae(Fe){return new ne.y(Oe=>{const De=Fe[Q.L]();if((0,q.m)(De.subscribe))return De.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,B.z)(Fe))return function Se(Fe){return new ne.y(Oe=>{for(let De=0;De<Fe.length&&!Oe.closed;De++)Oe.next(Fe[De]);Oe.complete()})}(Fe);if((0,R.t)(Fe))return function Je(Fe){return new ne.y(Oe=>{Fe.then(De=>{Oe.closed||(Oe.next(De),Oe.complete())},De=>Oe.error(De)).then(null,G.h)})}(Fe);if((0,ve.D)(Fe))return ce(Fe);if((0,pe.T)(Fe))return function Ee(Fe){return new ne.y(Oe=>{for(const De of Fe)if(Oe.next(De),Oe.closed)return;Oe.complete()})}(Fe);if((0,ye.L)(Fe))return function st(Fe){return ce((0,ye.Q)(Fe))}(Fe)}throw(0,le.z)(Fe)}function ce(Fe){return new ne.y(Oe=>{(function Ye(Fe,Oe){var De,We,te,ue;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Fe);!(We=yield De.next()).done;)if(Oe.next(We.value),Oe.closed)return}catch(we){te={error:we}}finally{try{We&&!We.done&&(ue=De.return)&&(yield ue.call(De))}finally{if(te)throw te.error}}Oe.complete()})})(Fe,Oe).catch(De=>Oe.error(De))})}},6451:(ft,Ne,O)=>{"use strict";O.d(Ne,{T:()=>ve});var c=O(8189),B=O(8421),R=O(515),ne=O(7669),ge=O(8996);function ve(...le){const pe=(0,ne.yG)(le),ye=(0,ne._6)(le,1/0),q=le;return q.length?1===q.length?(0,B.Xf)(q[0]):(0,c.J)(ye)((0,ge.D)(q,pe)):R.E}},5403:(ft,Ne,O)=>{"use strict";O.d(Ne,{Q:()=>R,x:()=>B});var c=O(2961);function B(ne,ge,ve,le,pe){return new R(ne,ge,ve,le,pe)}class R extends c.Lv{constructor(ge,ve,le,pe,ye,q){super(ge),this.onFinalize=ye,this.shouldUnsubscribe=q,this._next=ve?function(G){try{ve(G)}catch(Q){ge.error(Q)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(Q){ge.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(G){ge.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(ft,Ne,O)=>{"use strict";O.d(Ne,{U:()=>R});var c=O(4482),B=O(5403);function R(ne,ge){return(0,c.e)((ve,le)=>{let pe=0;ve.subscribe((0,B.x)(le,ye=>{le.next(ne.call(ge,ye,pe++))}))})}},8189:(ft,Ne,O)=>{"use strict";O.d(Ne,{J:()=>R});var c=O(5577),B=O(4671);function R(ne=1/0){return(0,c.z)(B.y,ne)}},5577:(ft,Ne,O)=>{"use strict";O.d(Ne,{z:()=>pe});var c=O(4004),B=O(8421),R=O(4482),ne=O(9672),ge=O(5403),le=O(576);function pe(ye,q,G=1/0){return(0,le.m)(q)?pe((Q,Pe)=>(0,c.U)((Ae,Se)=>q(Q,Ae,Pe,Se))((0,B.Xf)(ye(Q,Pe))),G):("number"==typeof q&&(G=q),(0,R.e)((Q,Pe)=>function ve(ye,q,G,Q,Pe,Ae,Se,Je){const Ee=[];let ce=0,st=0,Ye=!1;const Fe=()=>{Ye&&!Ee.length&&!ce&&q.complete()},Oe=We=>ce<Q?De(We):Ee.push(We),De=We=>{Ae&&q.next(We),ce++;let te=!1;(0,B.Xf)(G(We,st++)).subscribe((0,ge.x)(q,ue=>{Pe?.(ue),Ae?Oe(ue):q.next(ue)},()=>{te=!0},void 0,()=>{if(te)try{for(ce--;Ee.length&&ce<Q;){const ue=Ee.shift();Se?(0,ne.f)(q,Se,()=>De(ue)):De(ue)}Fe()}catch(ue){q.error(ue)}}))};return ye.subscribe((0,ge.x)(q,Oe,()=>{Ye=!0,Fe()})),()=>{Je?.()}}(Q,Pe,ye,G)))}},5363:(ft,Ne,O)=>{"use strict";O.d(Ne,{Q:()=>ne});var c=O(9672),B=O(4482),R=O(5403);function ne(ge,ve=0){return(0,B.e)((le,pe)=>{le.subscribe((0,R.x)(pe,ye=>(0,c.f)(pe,ge,()=>pe.next(ye),ve),()=>(0,c.f)(pe,ge,()=>pe.complete(),ve),ye=>(0,c.f)(pe,ge,()=>pe.error(ye),ve)))})}},3099:(ft,Ne,O)=>{"use strict";O.d(Ne,{B:()=>ge});var c=O(8421),B=O(7579),R=O(2961),ne=O(4482);function ge(le={}){const{connector:pe=(()=>new B.x),resetOnError:ye=!0,resetOnComplete:q=!0,resetOnRefCountZero:G=!0}=le;return Q=>{let Pe,Ae,Se,Je=0,Ee=!1,ce=!1;const st=()=>{Ae?.unsubscribe(),Ae=void 0},Ye=()=>{st(),Pe=Se=void 0,Ee=ce=!1},Fe=()=>{const Oe=Pe;Ye(),Oe?.unsubscribe()};return(0,ne.e)((Oe,De)=>{Je++,!ce&&!Ee&&st();const We=Se=Se??pe();De.add(()=>{Je--,0===Je&&!ce&&!Ee&&(Ae=ve(Fe,G))}),We.subscribe(De),!Pe&&Je>0&&(Pe=new R.Hp({next:te=>We.next(te),error:te=>{ce=!0,st(),Ae=ve(Ye,ye,te),We.error(te)},complete:()=>{Ee=!0,st(),Ae=ve(Ye,q),We.complete()}}),(0,c.Xf)(Oe).subscribe(Pe))})(Q)}}function ve(le,pe,...ye){if(!0===pe)return void le();if(!1===pe)return;const q=new R.Hp({next:()=>{q.unsubscribe(),le()}});return pe(...ye).subscribe(q)}},9468:(ft,Ne,O)=>{"use strict";O.d(Ne,{R:()=>B});var c=O(4482);function B(R,ne=0){return(0,c.e)((ge,ve)=>{ve.add(R.schedule(()=>ge.subscribe(ve),ne))})}},8505:(ft,Ne,O)=>{"use strict";O.d(Ne,{b:()=>ge});var c=O(576),B=O(4482),R=O(5403),ne=O(4671);function ge(ve,le,pe){const ye=(0,c.m)(ve)||le||pe?{next:ve,error:le,complete:pe}:ve;return ye?(0,B.e)((q,G)=>{var Q;null===(Q=ye.subscribe)||void 0===Q||Q.call(ye);let Pe=!0;q.subscribe((0,R.x)(G,Ae=>{var Se;null===(Se=ye.next)||void 0===Se||Se.call(ye,Ae),G.next(Ae)},()=>{var Ae;Pe=!1,null===(Ae=ye.complete)||void 0===Ae||Ae.call(ye),G.complete()},Ae=>{var Se;Pe=!1,null===(Se=ye.error)||void 0===Se||Se.call(ye,Ae),G.error(Ae)},()=>{var Ae,Se;Pe&&(null===(Ae=ye.unsubscribe)||void 0===Ae||Ae.call(ye)),null===(Se=ye.finalize)||void 0===Se||Se.call(ye)}))}):ne.y}},4408:(ft,Ne,O)=>{"use strict";O.d(Ne,{o:()=>ge});var c=O(727);class B extends c.w0{constructor(le,pe){super()}schedule(le,pe=0){return this}}const R={setInterval(ve,le,...pe){const{delegate:ye}=R;return ye?.setInterval?ye.setInterval(ve,le,...pe):setInterval(ve,le,...pe)},clearInterval(ve){const{delegate:le}=R;return(le?.clearInterval||clearInterval)(ve)},delegate:void 0};var ne=O(8737);class ge extends B{constructor(le,pe){super(le,pe),this.scheduler=le,this.work=pe,this.pending=!1}schedule(le,pe=0){var ye;if(this.closed)return this;this.state=le;const q=this.id,G=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(G,q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(G,this.id,pe),this}requestAsyncId(le,pe,ye=0){return R.setInterval(le.flush.bind(le,this),ye)}recycleAsyncId(le,pe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return pe;null!=pe&&R.clearInterval(pe)}execute(le,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(le,pe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,pe){let q,ye=!1;try{this.work(le)}catch(G){ye=!0,q=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:le,scheduler:pe}=this,{actions:ye}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ye,this),null!=le&&(this.id=this.recycleAsyncId(pe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ne,O)=>{"use strict";O.d(Ne,{v:()=>R});var c=O(6063);class B{constructor(ge,ve=B.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,le){return new this.schedulerActionCtor(this,ge).schedule(le,ve)}}B.now=c.l.now;class R extends B{constructor(ge,ve=B.now){super(ge,ve),this.actions=[],this._active=!1}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let le;this._active=!0;do{if(le=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,le){for(;ge=ve.shift();)ge.unsubscribe();throw le}}}},4986:(ft,Ne,O)=>{"use strict";O.d(Ne,{z:()=>R});var c=O(4408);const R=new(O(7565).v)(c.o)},6063:(ft,Ne,O)=>{"use strict";O.d(Ne,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ft,Ne,O)=>{"use strict";O.d(Ne,{z:()=>c});const c={setTimeout(B,R,...ne){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(B,R,...ne):setTimeout(B,R,...ne)},clearTimeout(B){const{delegate:R}=c;return(R?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(ft,Ne,O)=>{"use strict";O.d(Ne,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ne,O)=>{"use strict";O.d(Ne,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,Ne,O)=>{"use strict";O.d(Ne,{_6:()=>ve,jO:()=>ne,yG:()=>ge});var c=O(576);function R(le){return le[le.length-1]}function ne(le){return(0,c.m)(R(le))?le.pop():void 0}function ge(le){return function B(le){return le&&(0,c.m)(le.schedule)}(R(le))?le.pop():void 0}function ve(le,pe){return"number"==typeof R(le)?le.pop():pe}},8737:(ft,Ne,O)=>{"use strict";function c(B,R){if(B){const ne=B.indexOf(R);0<=ne&&B.splice(ne,1)}}O.d(Ne,{P:()=>c})},3888:(ft,Ne,O)=>{"use strict";function c(B){const ne=B(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}O.d(Ne,{d:()=>c})},2806:(ft,Ne,O)=>{"use strict";O.d(Ne,{O:()=>ne,x:()=>R});var c=O(2416);let B=null;function R(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:le,error:pe}=B;if(B=null,le)throw pe}}else ge()}function ne(ge){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ge)}},9672:(ft,Ne,O)=>{"use strict";function c(B,R,ne,ge=0,ve=!1){const le=R.schedule(function(){ne(),ve?B.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(B.add(le),!ve)return le}O.d(Ne,{f:()=>c})},4671:(ft,Ne,O)=>{"use strict";function c(B){return B}O.d(Ne,{y:()=>c})},1144:(ft,Ne,O)=>{"use strict";O.d(Ne,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ft,Ne,O)=>{"use strict";O.d(Ne,{D:()=>B});var c=O(576);function B(R){return Symbol.asyncIterator&&(0,c.m)(R?.[Symbol.asyncIterator])}},576:(ft,Ne,O)=>{"use strict";function c(B){return"function"==typeof B}O.d(Ne,{m:()=>c})},3670:(ft,Ne,O)=>{"use strict";O.d(Ne,{c:()=>R});var c=O(8822),B=O(576);function R(ne){return(0,B.m)(ne[c.L])}},6495:(ft,Ne,O)=>{"use strict";O.d(Ne,{T:()=>R});var c=O(2202),B=O(576);function R(ne){return(0,B.m)(ne?.[c.h])}},8239:(ft,Ne,O)=>{"use strict";O.d(Ne,{t:()=>B});var c=O(576);function B(R){return(0,c.m)(R?.then)}},3260:(ft,Ne,O)=>{"use strict";O.d(Ne,{L:()=>ne,Q:()=>R});var c=O(655),B=O(576);function R(ge){return(0,c.FC)(this,arguments,function*(){const le=ge.getReader();try{for(;;){const{value:pe,done:ye}=yield(0,c.qq)(le.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{le.releaseLock()}})}function ne(ge){return(0,B.m)(ge?.getReader)}},4482:(ft,Ne,O)=>{"use strict";O.d(Ne,{A:()=>B,e:()=>R});var c=O(576);function B(ne){return(0,c.m)(ne?.lift)}function R(ne){return ge=>{if(B(ge))return ge.lift(function(ve){try{return ne(ve,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ft,Ne,O)=>{"use strict";O.d(Ne,{U:()=>R,z:()=>B});var c=O(4671);function B(...ne){return R(ne)}function R(ne){return 0===ne.length?c.y:1===ne.length?ne[0]:function(ve){return ne.reduce((le,pe)=>pe(le),ve)}}},7849:(ft,Ne,O)=>{"use strict";O.d(Ne,{h:()=>R});var c=O(2416),B=O(3410);function R(ne){B.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw ne;ge(ne)})}},4532:(ft,Ne,O)=>{"use strict";function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ne,{z:()=>c})},9163:ft=>{function Ne(O){var c=new Error("Cannot find module '"+O+"'");throw c.code="MODULE_NOT_FOUND",c}Ne.keys=()=>[],Ne.resolve=Ne,Ne.id=9163,ft.exports=Ne},655:(ft,Ne,O)=>{"use strict";function ne(J,X){var he={};for(var se in J)Object.prototype.hasOwnProperty.call(J,se)&&X.indexOf(se)<0&&(he[se]=J[se]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(se=Object.getOwnPropertySymbols(J);$e<se.length;$e++)X.indexOf(se[$e])<0&&Object.prototype.propertyIsEnumerable.call(J,se[$e])&&(he[se[$e]]=J[se[$e]])}return he}function pe(J,X,he,se){return new(he||(he=Promise))(function(Ve,pt){function Xt(rn){try{Ze(se.next(rn))}catch(Bn){pt(Bn)}}function Ot(rn){try{Ze(se.throw(rn))}catch(Bn){pt(Bn)}}function Ze(rn){rn.done?Ve(rn.value):function $e(Ve){return Ve instanceof he?Ve:new he(function(pt){pt(Ve)})}(rn.value).then(Xt,Ot)}Ze((se=se.apply(J,X||[])).next())})}function Ee(J){return this instanceof Ee?(this.v=J,this):new Ee(J)}function ce(J,X,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,se=he.apply(J,X||[]),Ve=[];return $e={},pt("next"),pt("throw"),pt("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function pt(cn){se[cn]&&($e[cn]=function(en){return new Promise(function(jt,Ct){Ve.push([cn,en,jt,Ct])>1||Xt(cn,en)})})}function Xt(cn,en){try{!function Ot(cn){cn.value instanceof Ee?Promise.resolve(cn.value.v).then(Ze,rn):Bn(Ve[0][2],cn)}(se[cn](en))}catch(jt){Bn(Ve[0][3],jt)}}function Ze(cn){Xt("next",cn)}function rn(cn){Xt("throw",cn)}function Bn(cn,en){cn(en),Ve.shift(),Ve.length&&Xt(Ve[0][0],Ve[0][1])}}function Ye(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=J[Symbol.asyncIterator];return X?X.call(J):(J=function Q(J){var X="function"==typeof Symbol&&Symbol.iterator,he=X&&J[X],se=0;if(he)return he.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&se>=J.length&&(J=void 0),{value:J&&J[se++],done:!J}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),he={},se("next"),se("throw"),se("return"),he[Symbol.asyncIterator]=function(){return this},he);function se(Ve){he[Ve]=J[Ve]&&function(pt){return new Promise(function(Xt,Ot){!function $e(Ve,pt,Xt,Ot){Promise.resolve(Ot).then(function(Ze){Ve({value:Ze,done:Xt})},pt)}(Xt,Ot,(pt=J[Ve](pt)).done,pt.value)})}}}O.d(Ne,{FC:()=>ce,KL:()=>Ye,_T:()=>ne,mG:()=>pe,qq:()=>Ee})},4650:(ft,Ne,O)=>{"use strict";O.d(Ne,{$8M:()=>jl,$Z:()=>VE,AFp:()=>Fg,AaK:()=>pe,BQk:()=>rg,CHM:()=>$n,CRH:()=>rl,CZH:()=>jc,CqO:()=>mw,D6c:()=>yf,EJc:()=>cf,EiD:()=>xu,EpF:()=>pw,F4k:()=>gw,FYo:()=>my,FiY:()=>Xs,G48:()=>vr,Gf:()=>SI,GfV:()=>yy,Gpc:()=>G,JOm:()=>oo,JVY:()=>R0,KtG:()=>Lt,L6k:()=>P0,LAX:()=>O0,LFG:()=>tr,LSH:()=>F0,Lbi:()=>gA,Lck:()=>Jr,MMx:()=>Fh,NdJ:()=>g_,OlP:()=>Fn,PXZ:()=>tb,Q6J:()=>Ls,QGY:()=>p_,QP$:()=>me,QbO:()=>uf,Qsj:()=>ND,R0b:()=>Si,RDi:()=>N0,Rgc:()=>tl,SBq:()=>Ou,Sil:()=>mA,Suo:()=>MI,TTD:()=>vs,TgZ:()=>Wu,Tol:()=>Sw,Udp:()=>Cw,X6Q:()=>Ge,XFs:()=>et,Xpm:()=>xe,Xts:()=>iy,Y36:()=>cc,YKP:()=>kh,YNc:()=>cw,Yjl:()=>S,Yz7:()=>en,Z0I:()=>pi,ZZ4:()=>wi,_Bn:()=>pI,_UZ:()=>f_,_Vd:()=>nc,_c5:()=>js,_uU:()=>Rw,aQg:()=>Xg,c2e:()=>Lg,cJS:()=>Ct,cg1:()=>O_,d8E:()=>P_,dDg:()=>JI,dqk:()=>mt,eBb:()=>mp,eFA:()=>ll,ekj:()=>Aw,eoX:()=>Hg,f3M:()=>Du,g9A:()=>qI,h0i:()=>yr,hGG:()=>AA,hij:()=>lg,iGM:()=>Kh,ifc:()=>ut,ip1:()=>Iv,jDz:()=>Xr,kL8:()=>Hw,lG2:()=>U,lqb:()=>Ko,lri:()=>$c,mCW:()=>m,n5z:()=>Ys,oAB:()=>$,oJD:()=>_p,oxw:()=>sg,pB0:()=>Ql,q3G:()=>Jn,q4F:()=>K0,qLn:()=>ic,qOj:()=>dh,qZA:()=>_h,qzn:()=>cs,rWj:()=>xv,sBO:()=>Ut,sIi:()=>ph,s_b:()=>Fc,soG:()=>lf,tb:()=>zI,tp0:()=>eo,uIk:()=>na,vHH:()=>Se,vpe:()=>Us,wAp:()=>kt,xp6:()=>Qd,ynx:()=>ng,z2F:()=>pf,z3N:()=>ls,zSh:()=>Bd,zs3:()=>Vu});var c=O(7579),B=O(727),R=O(9751),ne=O(6451),ge=O(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const q=ve({__forward_ref__:ve});function G(s){return s.__forward_ref__=G,s.toString=function(){return pe(this())},s}function Q(s){return Pe(s)?s():s}function Pe(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===G}class Se extends Error{constructor(o,a){super(function Je(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Se(-201,!1)}function Ot(s,o){null==s&&function Ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function en(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ct(s){return{providers:s.providers||[],imports:s.imports||[]}}function hn(s){return Ur(s,Hn)||Ur(s,hr)}function pi(s){return null!==hn(s)}function Ur(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ir(s){return s&&(s.hasOwnProperty(Ln)||s.hasOwnProperty(br))?s[Ln]:null}const Hn=ve({\u0275prov:ve}),Ln=ve({\u0275inj:ve}),hr=ve({ngInjectableDef:ve}),br=ve({ngInjectorDef:ve});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let vn;function dn(s){const o=vn;return vn=s,o}function Kn(s,o,a){const l=hn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&et.Optional?null:void 0!==o?o:void Oe(pe(s))}function pn(s){return{toString:s}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),ut=(()=>{return(s=ut||(ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ut;var s})();const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},At=[],sr=ve({\u0275cmp:ve}),Rt=ve({\u0275dir:ve}),or=ve({\u0275pipe:ve}),Gt=ve({\u0275mod:ve}),Gn=ve({\u0275fac:ve}),Tn=ve({__NG_ELEMENT_ID__:ve});let Xe=0;function xe(s){return pn(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ut.Emulated,id:"c"+Xe++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=Y(s.inputs,l),h.outputs=Y(s.outputs),_&&_.forEach(E=>E(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(gt).filter(bt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(z).filter(bt):null,h})}function gt(s){return x(s)||N(s)}function bt(s){return null!==s}function $(s){return pn(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Y(s,o){if(null==s)return Yn;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const U=xe;function S(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function x(s){return s[sr]||null}function N(s){return s[Rt]||null}function z(s){return s[or]||null}function me(s){const o=x(s)||N(s)||z(s);return null!==o&&o.standalone}function ke(s,o){const a=s[Gt]||null;if(!a&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return a}function pr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Nr(s){return Array.isArray(s)&&!0===s[1]}function rs(s){return 0!=(8&s.flags)}function Hs(s){return 2==(2&s.flags)}function Gs(s){return 1==(1&s.flags)}function ti(s){return null!==s.template}function ua(s){return 0!=(256&s[2])}function Tr(s,o){return s.hasOwnProperty(Gn)?s[Gn]:null}class Co{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function vs(){return nu}function nu(s){return s.type.prototype.ngOnChanges&&(s.setInput=ha),ru}function ru(){const s=zs(this),o=s?.current;if(o){const a=s.previous;if(a===Yn)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function ha(s,o,a,l){const h=zs(s)||function fa(s,o){return s[iu]=o}(s,{previous:Yn,current:null}),p=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[a],b=_[E];p[E]=new Co(b&&b.currentValue,o,_===Yn),s[l]=o}vs.ngInherit=!0;const iu="__ngSimpleChanges__";function zs(s){return s[iu]||null}function jn(s){for(;Array.isArray(s);)s=s[0];return s}function Di(s,o){return jn(o[s])}function Pr(s,o){return jn(o[s.index])}function Ao(s,o){return s.data[o]}function mn(s,o){const a=o[s];return pr(a)?a:a[0]}function bs(s){return 64==(64&s[2])}function gi(s,o){return null==o?null:s[o]}function So(s){s[18]=0}function Mo(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const $t={lFrame:hd(null),bindingsEnabled:!0};function Qe(){return $t.bindingsEnabled}function Te(){return $t.lFrame.lView}function Pt(){return $t.lFrame.tView}function $n(s){return $t.lFrame.contextLView=s,s[8]}function Lt(s){return $t.lFrame.contextLView=null,s}function On(){let s=Ds();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ds(){return $t.lFrame.currentTNode}function Cr(s,o){const a=$t.lFrame;a.currentTNode=s,a.isParent=o}function ss(){return $t.lFrame.isParent}function pa(){$t.lFrame.isParent=!1}function uu(){return $t.lFrame.bindingIndex++}function Ws(s){const o=$t.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Zf(s,o){const a=$t.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ml(o)}function Ml(s){$t.lFrame.currentDirectiveIndex=s}function ud(s){const o=$t.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ld(){return $t.lFrame.currentQueryIndex}function cd(s){$t.lFrame.currentQueryIndex=s}function dd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Nm(s,o,a){if(a&et.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&et.Host||(h=dd(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=$t.lFrame=Rm();return l.currentTNode=o,l.lView=s,!0}function xl(s){const o=Rm(),a=s[1];$t.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Rm(){const s=$t.lFrame,o=null===s?null:s.child;return null===o?hd(s):o}function hd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Pm(){const s=$t.lFrame;return $t.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wf=Pm;function ga(){const s=Pm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zn(){return $t.lFrame.selectedIndex}function As(s){$t.lFrame.selectedIndex=s}function Zn(){const s=$t.lFrame;return Ao(s.tView,s.selectedIndex)}function lu(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function cu(s,o,a){gd(s,o,3,a)}function No(s,o,a,l){(3&s[2])===a&&gd(s,o,a,l)}function pd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function gd(s,o,a,l){const p=l??-1,_=o.length-1;let E=0;for(let b=void 0!==l?65535&s[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(s[18]+=65536),(E<p||-1==p)&&(Kf(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Kf(s,o,a,l){const h=a[l]<0,p=a[l+1],E=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class Ti{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ss(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],_=a[l++],E=a[l++];s.setAttribute(o,_,E,p)}else{const p=h,_=a[++l];Ed(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),l++}}return l}function vd(s){return 3===s||4===s||6===s}function Ed(s){return 64===s.charCodeAt(0)}function hu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Yf(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Yf(s,o,a,l,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function jm(s){return-1!==s}function Ro(s){return 32767&s}function Ks(s,o){let a=function $m(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let wd=!0;function Ol(s){const o=wd;return wd=s,o}let Qf=0;const Fi={};function Po(s,o){const a=kl(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Id(l.data,s),Id(o,null),Id(l.blueprint,null));const h=fu(s,o),p=s.injectorIndex;if(jm(h)){const _=Ro(h),E=Ks(h,o),b=E[1].data;for(let T=0;T<8;T++)o[p+T]=E[_+T]|b[_+T]}return o[p+8]=h,p}function Id(s,o){s.push(0,0,0,0,0,0,0,0,o)}function kl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Bl(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function pu(s,o,a){!function Gm(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Tn)&&(l=a[Tn]),null==l&&(l=a[Tn]=Qf++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Fl(s,o,a){if(a&et.Optional||void 0!==s)return s;Oe()}function Oo(s,o,a,l){if(a&et.Optional&&void 0===l&&(l=null),0==(a&(et.Self|et.Host))){const h=s[9],p=dn(void 0);try{return h?h.get(o,l,a&et.Optional):Kn(o,l,a&et.Optional)}finally{dn(p)}}return Fl(l,0,a)}function Ll(s,o,a,l=et.Default,h){if(null!==s){if(1024&o[2]){const _=function zm(s,o,a,l,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Jf(p,_,a,l|et.Self,Fi);if(E!==Fi)return E;let b=p.parent;if(!b){const T=_[21];if(T){const M=T.get(a,Fi,l);if(M!==Fi)return M}b=Bl(_),_=_[15]}p=b}return h}(s,o,a,l,Fi);if(_!==Fi)return _}const p=Jf(s,o,a,l,Fi);if(p!==Fi)return p}return Oo(o,a,l,h)}function Jf(s,o,a,l,h){const p=function qm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Tn)?s[Tn]:void 0;return"number"==typeof o?o>=0?255&o:tp:o}(a);if("function"==typeof p){if(!Nm(o,s,l))return l&et.Host?Fl(h,0,l):Oo(o,a,l,h);try{const _=p(l);if(null!=_||l&et.Optional)return _;Oe()}finally{Wf()}}else if("number"==typeof p){let _=null,E=kl(s,o),b=-1,T=l&et.Host?o[16][6]:null;for((-1===E||l&et.SkipSelf)&&(b=-1===E?fu(s,o):o[E+8],-1!==b&&ep(l,!1)?(_=o[1],E=Ro(b),o=Ks(b,o)):E=-1);-1!==E;){const M=o[1];if(Vl(p,E,M.data)){const L=Xf(E,o,a,_,l,T);if(L!==Fi)return L}b=o[E+8],-1!==b&&ep(l,o[1].data[E+8]===T)&&Vl(p,E,o)?(_=M,E=Ro(b),o=Ks(b,o)):E=-1}}return h}function Xf(s,o,a,l,h,p){const _=o[1],E=_.data[s+8],M=mu(E,_,a,null==l?Hs(E)&&wd:l!=_&&0!=(3&E.type),h&et.Host&&p===E);return null!==M?Ms(o,_,M,E):Fi}function mu(s,o,a,l,h){const p=s.providerIndexes,_=o.data,E=1048575&p,b=s.directiveStart,M=p>>20,W=h?E+M:s.directiveEnd;for(let ie=l?E:E+M;ie<W;ie++){const Ce=_[ie];if(ie<b&&a===Ce||ie>=b&&Ce.type===a)return ie}if(h){const ie=_[b];if(ie&&ti(ie)&&ie.type===a)return b}return null}function Ms(s,o,a,l){let h=s[a];const p=o.data;if(function md(s){return s instanceof Ti}(h)){const _=h;_.resolving&&function st(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Se(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(p[a]));const E=Ol(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?dn(_.injectImpl):null;Nm(s,l,et.Default);try{h=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Nl(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=nu(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==b&&dn(b),Ol(E),_.resolving=!1,Wf()}}return h}function Vl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function ep(s,o){return!(s&et.Self||s&et.Host&&o)}class yu{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Ll(this._tNode,this._lView,o,l,a)}}function tp(){return new yu(On(),Te())}function Ys(s){return pn(()=>{const o=s.prototype.constructor,a=o[Gn]||Ul(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[Gn]||Ul(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ul(s){return Pe(s)?()=>{const o=Ul(Q(s));return o&&o()}:Tr(s)}function Bl(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function jl(s){return function gu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(vd(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(On(),s)}const _u="__parameters__";function vu(s,o,a){return pn(()=>{const l=function np(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(b,T,M){const L=b.hasOwnProperty(_u)?b[_u]:Object.defineProperty(b,_u,{value:[]})[_u];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Kr(l,o)):o!==s&&o.push(l)}return o}function xs(s,o){s.forEach(a=>Array.isArray(a)?xs(a,o):o(a))}function Eu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Lo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ri(s,o,a){let l=Ns(s,o);return l>=0?s[1|l]=a:(l=~l,function Vt(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Td(s,o){const a=Ns(s,o);if(a>=0)return s[1|a]}function Ns(s,o){return function Vi(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const ur={},as="__NG_DI_FLAG__",Ea="ngTempTokenPath",Hl=/\n/gm,Gl="__source";let jo;function Qs(s){const o=jo;return jo=s,o}function ap(s,o=et.Default){if(void 0===jo)throw new Se(-203,!1);return null===jo?Kn(s,void 0,o):jo.get(s,o&et.Optional?null:void 0,o)}function tr(s,o=et.Default){return(function Pn(){return vn}()||ap)(Q(s),o)}function Du(s,o=et.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),tr(s,o)}function ql(s){const o=[];for(let a=0;a<s.length;a++){const l=Q(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Se(900,!1);let h,p=et.Default;for(let _=0;_<l.length;_++){const E=l[_],b=up(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}o.push(tr(h,p))}else o.push(tr(l))}return o}function Js(s,o){return s[as]=o,s.prototype[as]=o,s}function up(s){return s[as]}const Xs=Js(vu("Optional"),8),eo=Js(vu("SkipSelf"),4);let gp,Pd,Da;function N0(s){gp=s}function Ho(s){return function Od(){if(void 0===Pd&&(Pd=null,mt.trustedTypes))try{Pd=mt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Pd}()?.createHTML(s)||s}function Su(s){return function Go(){if(void 0===Da&&(Da=null,mt.trustedTypes))try{Da=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Da}()?.createHTML(s)||s}class Rs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wl extends Rs{getTypeName(){return"HTML"}}class kd extends Rs{getTypeName(){return"Style"}}class Fd extends Rs{getTypeName(){return"Script"}}class Kl extends Rs{getTypeName(){return"URL"}}class Yl extends Rs{getTypeName(){return"ResourceURL"}}function ls(s){return s instanceof Rs?s.changingThisBreaksApplicationSecurity:s}function cs(s,o){const a=function Ta(s){return s instanceof Rs&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function R0(s){return new Wl(s)}function P0(s){return new kd(s)}function mp(s){return new Fd(s)}function O0(s){return new Kl(s)}function Ql(s){return new Yl(s)}class Jl{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ho(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Ld{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ho(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Ho(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function I(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function A(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const P=I("area,br,col,hr,img,wbr"),re=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=I("rp,rt"),kn=A(P,A(re,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A(Re,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A(Re,re)),Bi=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xl=A(Bi,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mu=I("script,style,template");class yp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!kn.hasOwnProperty(a))return this.sanitizedSomething=!0,!Mu.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,E=_.toLowerCase();if(!Xl.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=p.value;Bi[E]&&(b=m(b)),this.buf.push(" ",_,'="',Zo(b),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();kn.hasOwnProperty(a)&&!P.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Zo(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ry=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function Zo(s){return s.replace(/&/g,"&amp;").replace(ry,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wo;function xu(s,o){let a=null;try{Wo=Wo||function zo(s){const o=new Ld(s);return function v(){try{return!!(new window.DOMParser).parseFromString(Ho(""),"text/html")}catch{return!1}}()?new Jl(o):o}(s);let l=o?String(o):"";a=Wo.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Wo.getInertBodyElement(l)}while(l!==p);return Ho((new yp).sanitizeChildren(Nu(a)||a))}finally{if(a){const l=Nu(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Nu(s){return"content"in s&&function Ru(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function _p(s){const o=ec();return o?Su(o.sanitize(Jn.HTML,s)||""):cs(s,"HTML")?Su(ls(s)):xu(function Rd(){return void 0!==gp?gp:typeof document<"u"?document:void 0}(),Ee(s))}function F0(s){const o=ec();return o?o.sanitize(Jn.URL,s)||"":cs(s,"URL")?ls(s):m(Ee(s))}function ec(){const s=Te();return s&&s[12]}const iy=new Fn("ENVIRONMENT_INITIALIZER"),sy=new Fn("INJECTOR",-1),V0=new Fn("INJECTOR_DEF_TYPES");class bD{get(o,a=ur){if(a===ur){const l=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw l.name="NullInjectorError",l}return a}}function U0(...s){return{\u0275providers:B0(0,s)}}function B0(s,...o){const a=[],l=new Set;let h;return xs(o,p=>{const _=p;ay(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&oy(h,a),a}function oy(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];xs(h,p=>{o.push(p)})}}function ay(s,o,a,l){if(!(s=Q(s)))return!1;let h=null,p=Ir(s);const _=!p&&x(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(p=Ir(b),!p)return!1;h=b}const E=l.has(h);if(_){if(E)return!1;if(l.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of b)ay(T,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;l.add(h);try{xs(p.imports,M=>{ay(M,o,a,l)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&oy(T,o)}if(!E){const T=Tr(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:At},{provide:V0,useValue:h,multi:!0},{provide:iy,useValue:()=>tr(h),multi:!0})}const b=p.providers;null==b||E||xs(b,M=>{o.push(M)})}}return h!==s&&void 0!==s.providers}const uy=ve({provide:String,useValue:ve});function ly(s){return null!==s&&"object"==typeof s&&uy in s}function io(s){return"function"==typeof s}const Bd=new Fn("Set Injector scope."),vp={},dy={};let Ep;function wp(){return void 0===Ep&&(Ep=new bD),Ep}class Ko{}class $0 extends Ko{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,py(o,_=>this.processProvider(_)),this.records.set(sy,tc(void 0,this)),h.has("environment")&&this.records.set(Ko,tc(void 0,this));const p=this.records.get(Bd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(V0.multi,At,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Qs(this),l=dn(void 0);try{return o()}finally{Qs(a),dn(l)}}get(o,a=ur,l=et.Default){this.assertNotDestroyed();const h=Qs(this),p=dn(void 0);try{if(!(l&et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function ix(s){return"function"==typeof s||"object"==typeof s&&s instanceof Fn}(o)&&hn(o);E=b&&this.injectableDefInScope(b)?tc(Ip(o),vp):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&et.Self?wp():this.parent).get(o,a=l&et.Optional&&a===ur?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ea]=_[Ea]||[]).unshift(pe(o)),h)throw _;return function lp(s,o,a,l){const h=s[Ea];throw o[Gl]&&h.unshift(o[Gl]),s.message=function Ad(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(Hl,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[Ea]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{dn(p),Qs(h)}}resolveInjectorInitializers(){const o=Qs(this),a=dn(void 0);try{const l=this.get(iy.multi,At,et.Self);for(const h of l)h()}finally{Qs(o),dn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(pe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(o){let a=io(o=Q(o))?o:Q(o&&o.provide);const l=function hy(s){return ly(s)?tc(void 0,s.useValue):tc(H0(s),vp)}(o);if(io(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=tc(void 0,vp,!0),h.factory=()=>ql(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===vp&&(a.value=dy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function AD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Ip(s){const o=hn(s),a=null!==o?o.factory:Tr(s);if(null!==a)return a;if(s instanceof Fn)throw new Se(204,!1);if(s instanceof Function)return function CD(s){const o=s.length;if(o>0)throw function Li(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new Se(204,!1);const a=function Rn(s){const o=s&&(s[Hn]||s[hr]);if(o){const a=function Wn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Se(204,!1)}function H0(s,o,a){let l;if(io(s)){const h=Q(s);return Tr(h)||Ip(h)}if(ly(s))l=()=>Q(s.useValue);else if(function j0(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...ql(s.deps||[]));else if(function cy(s){return!(!s||!s.useExisting)}(s))l=()=>tr(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function G0(s){return!!s.deps}(s))return Tr(h)||Ip(h);l=()=>new h(...ql(s.deps))}return l}function tc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function fy(s){return!!s.\u0275providers}function py(s,o){for(const a of s)Array.isArray(a)?py(a,o):fy(a)?py(a.\u0275providers,o):o(a)}class gy{}class MD{resolveComponentFactory(o){throw function Pu(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nc=(()=>{class s{}return s.NULL=new MD,s})();function xD(){return rc(On(),Te())}function rc(s,o){return new Ou(Pr(s,o))}let Ou=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=xD,s})();function Z0(s){return s instanceof Ou?s.nativeElement:s}class my{}let ND=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function W0(){const s=Te(),a=mn(On().index,s);return(pr(a)?a:s)[11]}(),s})(),RD=(()=>{class s{}return s.\u0275prov=en({token:s,providedIn:"root",factory:()=>null}),s})();class yy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const K0=new yy("14.2.4"),bp={};function eE(s){return s.ngOriginalError}class ic{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&eE(o);for(;a&&eE(a);)a=eE(a);return a||null}}const tE=new Map;let nE=0;const by="__ngContext__";function ii(s,o){pr(o)?(s[by]=o[20],function rE(s){tE.set(s[20],s)}(o)):s[by]=o}function Yo(s){return s instanceof Function?s():s}var oo=(()=>((oo=oo||{})[oo.Important=1]="Important",oo[oo.DashCase=2]="DashCase",oo))();function Ty(s,o){return undefined(s,o)}function Cp(s){const o=s[3];return Nr(o)?o[3]:o}function Cy(s){return Qo(s[13])}function Gd(s){return Qo(s[4])}function Qo(s){for(;null!==s&&!Nr(s);)s=s[4];return s}function Ca(s,o,a,l,h){if(null!=l){let p,_=!1;Nr(l)?p=l:pr(l)&&(_=!0,l=l[0]);const E=jn(l);0===s&&null!==a?null==h?xp(o,a,E):Sa(o,a,E,h||null,!0):1===s&&null!==a?Sa(o,a,E,h||null,!0):2===s?function Ny(s,o,a){const l=oc(s,o);l&&function _E(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=p&&function EE(s,o,a,l,h){const p=a[7];p!==jn(a)&&Ca(o,s,l,p,h);for(let E=10;E<a.length;E++){const b=a[E];uc(b[1],b,s,o,l,p)}}(o,s,p,a,h)}}function Sp(s,o,a){return s.createElement(o,a)}function Aa(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Mo(h,-1)),a.splice(l,1)}function Mp(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&Aa(h,l),o>0&&(s[a-1][4]=l[4]);const p=Lo(s,10+o);!function Ay(s,o){uc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function pE(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&uc(s,o,a,3,null,null),function Sy(s){let o=s[13];if(!o)return gE(s[1],s);for(;o;){let a=null;if(pr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)pr(o)&&gE(o[1],o),o=o[3];null===o&&(o=s),pr(o)&&gE(o[1],o),a=o&&o[4]}o=a}}(o)}}function gE(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function mE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Ti)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],b=p[_+1];try{b.call(E)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function XD(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],E="function"==typeof _?_(o):jn(o[_]),b=l[h=a[p+2]],T=a[p+3];"boolean"==typeof T?E.removeEventListener(a[p],b,T):T>=0?l[h=T]():l[h=-T].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Nr(o[3])){a!==o[3]&&Aa(a,o);const l=o[19];null!==l&&l.detachView(s)}!function mx(s){tE.delete(s[20])}(o)}}function My(s,o,a){return function eT(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===ut.None||h===ut.Emulated)return null}return Pr(l,a)}(s,o.parent,a)}function Sa(s,o,a,l,h){s.insertBefore(o,a,l,h)}function xp(s,o,a){s.appendChild(o,a)}function yE(s,o,a,l,h){null!==l?Sa(s,o,a,l,h):xp(s,o,a)}function oc(s,o){return s.parentNode(o)}let xy=function Zd(s,o,a){return 40&s.type?Pr(s,a):null};function ac(s,o,a,l){const h=My(s,l,o),p=o[11],E=function zd(s,o,a){return xy(s,o,a)}(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)yE(p,h,a[b],E,!1);else yE(p,h,a,E,!1)}function ku(s,o){if(null!==o){const a=o.type;if(3&a)return Pr(o,s);if(4&a)return Fu(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return ku(s,l);{const h=s[o.index];return Nr(h)?Fu(-1,h):jn(h)}}if(32&a)return Ty(o,s)()||jn(s[o.index]);{const l=vE(s,o);return null!==l?Array.isArray(l)?l[0]:ku(Cp(s[16]),l):ku(s,o.next)}}return null}function vE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Fu(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return ku(l,h)}return o[7]}function Ry(s,o,a,l,h,p,_){for(;null!=a;){const E=l[a.index],b=a.type;if(_&&0===o&&(E&&ii(jn(E),l),a.flags|=4),64!=(64&a.flags))if(8&b)Ry(s,o,a.child,l,h,p,!1),Ca(o,s,h,E,p);else if(32&b){const T=Ty(a,l);let M;for(;M=T();)Ca(o,s,h,M,p);Ca(o,s,h,E,p)}else 16&b?Py(s,o,l,a,h,p):Ca(o,s,h,E,p);a=_?a.projectionNext:a.next}}function uc(s,o,a,l,h,p){Ry(a,l,s.firstChild,o,h,p,!1)}function Py(s,o,a,l,h,p){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Ca(o,s,h,b[T],p);else Ry(s,o,b,_[3],h,p,!0)}function xa(s,o,a){s.setAttribute(o,"style",a)}function Lu(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function wE(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Oy="ng-template";function Kd(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==wE(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Yd(s){return 4===s.type&&s.value!==Oy}function tT(s,o,a){return o===(4!==s.type||a?s.value:Oy)}function ky(s,o,a){let l=4;const h=s.attrs||[],p=function DE(s){for(let o=0;o<s.length;o++)if(vd(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!tT(s,b,a)||""===b&&1===o.length){if(Os(l))return!1;_=!0}}else{const T=8&l?b:o[++E];if(8&l&&null!==s.attrs){if(!Kd(s.attrs,T,a)){if(Os(l))return!1;_=!0}continue}const L=nT(8&l?"class":b,h,Yd(s),a);if(-1===L){if(Os(l))return!1;_=!0;continue}if(""!==T){let W;W=L>p?"":h[L+1].toLowerCase();const ie=8&l?W:null;if(ie&&-1!==wE(ie,T,0)||2&l&&T!==W){if(Os(l))return!1;_=!0}}}}else{if(!_&&!Os(l)&&!Os(b))return!1;if(_&&Os(b))continue;_=!1,l=b|1&l}}return Os(l)||_}function Os(s){return 0==(1&s)}function nT(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Rp(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function bE(s,o,a=!1){for(let l=0;l<o.length;l++)if(ky(s,o[l],a))return!0;return!1}function TE(s,o){return s?":not("+o.trim()+")":o}function rT(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const E=s[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Os(_)&&(o+=TE(p,h),h=""),l=_,p=p||!Os(l);a++}return""!==h&&(o+=TE(p,h)),o}const Jt={};function Qd(s){CE(Pt(),Te(),zn()+s,!1)}function CE(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&cu(o,p,a)}else{const p=s.preOrderHooks;null!==p&&No(o,p,0,a)}As(a)}function ME(s,o=null,a=null,l){const h=xE(s,o,a,l);return h.resolveInjectorInitializers(),h}function xE(s,o=null,a=null,l,h=new Set){const p=[a||At,U0(s)];return l=l||("object"==typeof s?void 0:pe(s)),new $0(p,o||wp(),l||null,h)}let Vu=(()=>{class s{static create(a,l){if(Array.isArray(a))return ME({name:""},l,a,"");{const h=a.name??"";return ME({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=ur,s.NULL=new bD,s.\u0275prov=en({token:s,providedIn:"any",factory:()=>tr(sy)}),s.__NG_ELEMENT_ID__=-1,s})();function cc(s,o=et.Default){const a=Te();return null===a?tr(s,o):Ll(On(),a,Q(s),o)}function VE(){throw new Error("invalid")}function kp(s,o){return s<<17|o<<2}function ds(s){return s>>17&32767}function Fp(s){return 2|s}function Jo(s){return(131068&s)>>2}function th(s,o){return-131069&s|o<<2}function qy(s){return 1|s}function ZE(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];cd(h),_.contentQueries(2,o[p],p)}}}function oh(s,o,a,l,h,p,_,E,b,T,M){const L=o.blueprint.slice();return L[0]=h,L[2]=76|l,(null!==M||s&&1024&s[2])&&(L[2]|=1024),So(L),L[3]=L[15]=s,L[8]=a,L[10]=_||s&&s[10],L[11]=E||s&&s[11],L[12]=b||s&&s[12]||null,L[9]=T||s&&s[9]||null,L[6]=p,L[20]=function $d(){return nE++}(),L[21]=M,L[16]=2==o.type?s[16]:L,L}function Ra(s,o,a,l,h){let p=s.data[o];if(null===p)p=function Bp(s,o,a,l,h){const p=Ds(),_=ss(),b=s.data[o]=function JE(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,o,a,l,h),function zf(){return $t.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function Ts(){const s=$t.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Cr(p,!0),p}function hc(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function WE(s,o,a){xl(o);try{const l=s.viewQuery;null!==l&&hs(1,l,a);const h=s.template;null!==h&&RT(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ZE(s,o),s.staticViewQueries&&hs(2,s.viewQuery,a);const p=s.components;null!==p&&function NT(s,o){for(let a=0;a<o.length;a++)an(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,ga()}}function Qy(s,o,a,l){const h=o[2];if(128!=(128&h)){xl(o);try{So(o),function au(s){return $t.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&RT(s,o,a,2,l);const _=3==(3&h);if(_){const T=s.preOrderCheckHooks;null!==T&&cu(o,T,null)}else{const T=s.preOrderHooks;null!==T&&No(o,T,0,null),pd(o,0)}if(function OT(s){for(let o=Cy(s);null!==o;o=Gd(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&Mo(p,1),h[2]|=512}}}(o),function rw(s){for(let o=Cy(s);null!==o;o=Gd(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];bs(l)&&Qy(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&ZE(s,o),_){const T=s.contentCheckHooks;null!==T&&cu(o,T)}else{const T=s.contentHooks;null!==T&&No(o,T,1),pd(o,1)}!function MT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)As(~h);else{const p=h,_=a[++l],E=a[++l];Zf(_,p),E(2,o[p])}}}finally{As(-1)}}(s,o);const E=s.components;null!==E&&function xT(s,o){for(let a=0;a<o.length;a++)kT(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&hs(2,b,l),_){const T=s.viewCheckHooks;null!==T&&cu(o,T)}else{const T=s.viewHooks;null!==T&&No(o,T,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Mo(o[3],-1))}finally{ga()}}}function RT(s,o,a,l,h){const p=zn(),_=2&l;try{As(-1),_&&o.length>22&&CE(s,o,22,!1),a(l,h)}finally{As(p)}}function vt(s,o,a){if(rs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function Or(s,o,a){!Qe()||(function tw(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Po(a,o),ii(l,o);const _=a.initialInputs;for(let E=h;E<p;E++){const b=s.data[E],T=ti(b);T&&ea(o,a,b);const M=Ms(o,s,E,a);ii(M,o),null!==_&&Pa(0,E-h,M,b,0,_),T&&(mn(a.index,o)[8]=M)}}(s,o,a,Pr(a,o)),128==(128&a.flags)&&function Sr(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,_=function A0(){return $t.lFrame.currentDirectiveIndex}();try{As(p);for(let E=l;E<h;E++){const b=s.data[E],T=o[E];Ml(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&gc(b,T)}}finally{As(-1),Ml(_)}}(s,o,a))}function Gi(s,o,a=Pr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],E=-1===_?a(o,s):s[_];s[h++]=E}}}function KE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=fc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function fc(s,o,a,l,h,p,_,E,b,T){const M=22+l,L=M+h,W=function ah(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Jt);return a}(M,L),ie="function"==typeof T?T():T;return W[1]={type:s,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ie,incompleteFirstPass:!1}}function QE(s,o,a,l){const h=n_(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&r_(s).push(l,h.length-1))}function pc(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function XE(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,_=[];let E=null,b=null;for(let T=o.directiveStart;T<l;T++){const M=h[T],L=M.inputs,W=null===p||Yd(o)?null:PT(L,p);_.push(W),E=pc(L,T,E),b=pc(M.outputs,T,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=b}function Ci(s,o,a,l,h,p,_,E){const b=Pr(o,a);let M,T=o.inputs;!E&&null!=T&&(M=T[l])?(lo(s,a,M,l,h),Hs(o)&&ew(a,o.index)):3&o.type&&(l=function Jy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,p.setProperty(b,l,h))}function ew(s,o){const a=mn(o,s);16&a[2]||(a[2]|=32)}function $p(s,o,a,l){let h=!1;if(Qe()){const p=function uh(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];bE(a,_.selectors,!1)&&(h||(h=[]),pu(Po(a,o),s,_.type),ti(_)?(Ai(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,t_(a,s.data.length,p.length);for(let M=0;M<p.length;M++){const L=p[M];L.providersResolver&&L.providersResolver(L)}let E=!1,b=!1,T=hc(s,o,p.length,null);for(let M=0;M<p.length;M++){const L=p[M];a.mergedAttrs=hu(a.mergedAttrs,L.hostAttrs),nw(s,a,o,T,L),Hp(T,L,_),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const W=L.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),b=!0),T++}XE(s,a)}_&&function si(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Se(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=hu(a.mergedAttrs,a.attrs),h}function Qr(s,o,a,l,h,p){const _=p.hostBindings;if(_){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function e_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(l,h,_)}}function gc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ai(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Hp(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;ti(o)&&(a[""]=s)}}function t_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function nw(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=Tr(h.type)),_=new Ti(p,ti(h),cc);s.blueprint[l]=_,a[l]=_,Qr(s,o,0,l,hc(s,a,h.hostVars,Jt),h)}function ea(s,o,a){const l=Pr(o,s),h=KE(a),p=s[10],_=zp(s,oh(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=_}function oi(s,o,a,l,h,p){const _=Pr(s,o);!function jr(s,o,a,l,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const E=null==_?Ee(p):_(p,l||"",h);s.setAttribute(o,h,E,a)}}(o[11],_,p,s.value,a,l,h)}function Pa(s,o,a,l,h,p){const _=p[o];if(null!==_){const E=l.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],L=_[b++];null!==E?l.setInput(a,L,T,M):a[M]=L}}}function PT(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function qp(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function kT(s,o){const a=mn(o,s);if(bs(a)){const l=a[1];48&a[2]?Qy(l,a,l.template,a[8]):a[5]>0&&lh(a)}}function lh(s){for(let l=Cy(s);null!==l;l=Gd(l))for(let h=10;h<l.length;h++){const p=l[h];if(bs(p))if(512&p[2]){const _=p[1];Qy(_,p,_.template,p[8])}else p[5]>0&&lh(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=mn(a[l],s);bs(h)&&h[5]>0&&lh(h)}}function an(s,o){const a=mn(o,s),l=a[1];(function ch(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),WE(l,a,a[8])}function zp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Oa(s){for(;s;){s[2]|=32;const o=Cp(s);if(ua(s)&&!o)return s;s=o}return null}function Zp(s,o,a,l=!0){const h=o[10];h.begin&&h.begin();try{Qy(s,o,s.template,a)}catch(_){throw l&&$r(o,_),_}finally{h.end&&h.end()}}function hs(s,o,a){cd(0),o(s,a)}function n_(s){return s[7]||(s[7]=[])}function r_(s){return s.cleanup||(s.cleanup=[])}function $r(s,o){const a=s[9],l=a?a.get(ic,null):null;l&&l.handleError(o)}function lo(s,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],b=o[_],T=s.data[_];null!==T.setInput?T.setInput(b,h,l,E):b[E]=h}}function Wp(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=ye(h,E):2==p&&(l=ye(l,E+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function Kp(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(jn(p)),Nr(p))for(let E=10;E<p.length;E++){const b=p[E],T=b[1].firstChild;null!==T&&Kp(b[1],b,T,l)}const _=a.type;if(8&_)Kp(s,o,a.child,l);else if(32&_){const E=Ty(a,o);let b;for(;b=E();)l.push(b)}else if(16&_){const E=vE(o,a);if(Array.isArray(E))l.push(...E);else{const b=Cp(o[16]);Kp(b[1],b,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class mc{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Kp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Nr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Mp(o,l),Lo(a,l))}this._attachedToViewContainer=!1}pE(this._lView[1],this._lView)}onDestroy(o){QE(this._lView[1],this._lView,null,o)}markForCheck(){Oa(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fE(s,o){uc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=o}}class iw extends mc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Zp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class i_ extends nc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=x(o);return new yc(a,this.ngModule)}}function s_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class sw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,bp,l);return h!==bp||a===bp?h:this.parentInjector.get(o,a,l)}}class yc extends gy{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function iT(s){return s.map(rT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return s_(this.componentDef.inputs)}get outputs(){return s_(this.componentDef.outputs)}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof Ko?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new sw(o,p):o,E=_.get(my,null);if(null===E)throw new Se(407,!1);const b=_.get(RD,null),T=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=l?function YE(s,o,a){return s.selectRootElement(o,a===ut.ShadowDom)}(T,l,this.componentDef.encapsulation):Sp(E.createRenderer(null,this.componentDef),M,function VT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),W=this.componentDef.onPush?288:272,ie=fc(0,null,null,1,0,null,null,null,null,null),Ce=oh(null,ie,null,W,null,null,E,T,b,_,null);let ze,Ke;xl(Ce);try{const lt=function UT(s,o,a,l,h,p){const _=a[1];a[22]=s;const b=Ra(_,22,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Wp(b,T,!0),null!==s&&(Ss(h,s,T),null!==b.classes&&Lu(h,s,b.classes),null!==b.styles&&xa(h,s,b.styles)));const M=l.createRenderer(s,o),L=oh(a,KE(o),null,o.onPush?32:16,a[22],b,l,M,p||null,null,null);return _.firstCreatePass&&(pu(Po(b,a),_,o.type),Ai(_,b),t_(b,a.length,1)),zp(a,L),a[22]=L}(L,this.componentDef,Ce,E,T);if(L)if(l)Ss(T,L,["ng-version",K0.full]);else{const{attrs:Tt,classes:Le}=function bx(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!Os(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Tt&&Ss(T,L,Tt),Le&&Le.length>0&&Lu(T,L,Le.join(" "))}if(Ke=Ao(ie,22),void 0!==a){const Tt=Ke.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const St=a[Le];Tt.push(null!=St?Array.from(St):null)}}ze=function Hu(s,o,a,l){const h=a[1],p=function $u(s,o,a){const l=On();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nw(s,l,o,hc(s,o,1,null),a),XE(s,l));const h=Ms(o,s,l.directiveStart,l);ii(h,o);const p=Pr(l,o);return p&&ii(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==l)for(const E of l)E(p,o);if(o.contentQueries){const E=On();o.contentQueries(1,p,E.directiveStart)}const _=On();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(As(_.index),Qr(a[1],_,0,_.directiveStart,_.directiveEnd,o),gc(o,p)),p}(lt,this.componentDef,Ce,[BT]),WE(ie,Ce,null)}finally{ga()}return new ln(this.componentType,ze,rc(Ke,Ce),Ce,Ke)}}class ln extends class q0{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new iw(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;lo(p[1],p,h,o,a),ew(p,this._tNode.index)}}get injector(){return new yu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function BT(){const s=On();lu(Te()[1],s)}function dh(s){let o=function o_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Se(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const _=s;_.inputs=vc(s.inputs),_.declaredInputs=vc(s.declaredInputs),_.outputs=vc(s.outputs);const E=h.hostBindings;E&&Jp(s,E);const b=h.viewQuery,T=h.contentQueries;if(b&&hh(s,b),T&&ow(s,T),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),ti(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===dh&&(a=!1)}}o=Object.getPrototypeOf(o)}!function jT(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=hu(h.hostAttrs,a=hu(a,h.hostAttrs))}}(l)}function vc(s){return s===Yn?{}:s===At?[]:s}function hh(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function ow(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function Jp(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let fh=null;function ka(){if(!fh){const s=mt.Symbol;if(s&&s.iterator)fh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(fh=l)}}}return fh}function ph(s){return!!u_(s)&&(Array.isArray(s)||!(s instanceof Map)&&ka()in s)}function u_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ai(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function na(s,o,a,l){const h=Te();return ai(h,uu(),o)&&(Pt(),oi(Zn(),h,s,o,a,l)),na}function cw(s,o,a,l,h,p,_,E){const b=Te(),T=Pt(),M=s+22,L=T.firstCreatePass?function h_(s,o,a,l,h,p,_,E,b){const T=o.consts,M=Ra(o,s,4,_||null,gi(T,E));$p(o,a,M,gi(T,b)),lu(o,M);const L=M.tViews=fc(2,M,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,l,h,p,_):T.data[M];Cr(L,!1);const W=b[11].createComment("");ac(T,b,W,L),ii(W,b),zp(b,b[M]=qp(W,b,W,L)),Gs(L)&&Or(T,b,L),null!=_&&Gi(b,L,E)}function Ls(s,o,a){const l=Te();return ai(l,uu(),o)&&Ci(Pt(),Zn(),l,s,o,l[11],a,!1),Ls}function yh(s,o,a,l,h){const _=h?"class":"style";lo(s,a,o.inputs[_],_,l)}function Wu(s,o,a,l){const h=Te(),p=Pt(),_=22+s,E=h[11],b=h[_]=Sp(E,o,function fd(){return $t.lFrame.currentNamespace}()),T=p.firstCreatePass?function Zu(s,o,a,l,h,p,_){const E=o.consts,T=Ra(o,s,2,h,gi(E,p));return $p(o,a,T,gi(E,_)),null!==T.attrs&&Wp(T,T.attrs,!1),null!==T.mergedAttrs&&Wp(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,p,h,0,o,a,l):p.data[_];Cr(T,!0);const M=T.mergedAttrs;null!==M&&Ss(E,b,M);const L=T.classes;null!==L&&Lu(E,b,L);const W=T.styles;return null!==W&&xa(E,b,W),64!=(64&T.flags)&&ac(p,h,b,T),0===function K(){return $t.lFrame.elementDepthCount}()&&ii(b,h),function fe(){$t.lFrame.elementDepthCount++}(),Gs(T)&&(Or(p,h,T),vt(p,T,h)),null!==l&&Gi(h,T),Wu}function _h(){let s=On();ss()?pa():(s=s.parent,Cr(s,!1));const o=s;!function Ue(){$t.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(lu(a,s),rs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Rl(s){return 0!=(16&s.flags)}(o)&&yh(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pl(s){return 0!=(32&s.flags)}(o)&&yh(a,o,Te(),o.stylesWithoutHost,!1),_h}function f_(s,o,a,l){return Wu(s,o,a,l),_h(),f_}function ng(s,o,a){const l=Te(),h=Pt(),p=s+22,_=h.firstCreatePass?function zT(s,o,a,l,h){const p=o.consts,_=gi(p,l),E=Ra(o,s,8,"ng-container",_);return null!==_&&Wp(E,_,!0),$p(o,a,E,gi(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,l,o,a):h.data[p];Cr(_,!0);const E=l[p]=l[11].createComment("");return ac(h,l,E,_),ii(E,l),Gs(_)&&(Or(h,l,_),vt(h,_,l)),null!=a&&Gi(l,_),ng}function rg(){let s=On();const o=Pt();return ss()?pa():(s=s.parent,Cr(s,!1)),o.firstCreatePass&&(lu(o,s),rs(s)&&o.queries.elementEnd(s)),rg}function pw(){return Te()}function p_(s){return!!s&&"function"==typeof s.then}function gw(s){return!!s&&"function"==typeof s.subscribe}const mw=gw;function g_(s,o,a,l){const h=Te(),p=Pt(),_=On();return function _w(s,o,a,l,h,p,_,E){const b=Gs(l),M=s.firstCreatePass&&r_(s),L=o[8],W=n_(o);let ie=!0;if(3&l.type||E){const Ke=Pr(l,o),lt=E?E(Ke):Ke,Tt=W.length,Le=E?yn=>E(jn(yn[l.index])):l.index;let St=null;if(!E&&b&&(St=function yw(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const E=o[7],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,l.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=p,St.__ngLastListenerFn__=p,ie=!1;else{p=ig(l,o,L,p,!1);const yn=a.listen(lt,h,p);W.push(p,yn),M&&M.push(h,Le,Tt,Tt+1)}}else p=ig(l,o,L,p,!1);const Ce=l.outputs;let ze;if(ie&&null!==Ce&&(ze=Ce[h])){const Ke=ze.length;if(Ke)for(let lt=0;lt<Ke;lt+=2){const Nn=o[ze[lt]][ze[lt+1]].subscribe(p),ui=W.length;W.push(p,Nn),M&&M.push(h,l.index,ui,-(ui+1))}}}(p,h,h[11],_,s,o,0,l),g_}function y_(s,o,a,l){try{return!1!==a(l)}catch(h){return $r(s,h),!1}}function ig(s,o,a,l,h){return function p(_){if(_===Function)return l;Oa(2&s.flags?mn(s.index,o):o);let b=y_(o,0,l,_),T=p.__ngNextListenerFn__;for(;T;)b=y_(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function sg(s=1){return function xo(s){return($t.lFrame.contextLView=function Om(s,o){for(;s>0;)o=o[15],s--;return o}(s,$t.lFrame.contextLView))[8]}(s)}function Iw(s,o,a,l,h){const p=s[a+1],_=null===o;let E=l?ds(p):Jo(p),b=!1;for(;0!==E&&(!1===b||_);){const M=s[E+1];WT(s[E],o)&&(b=!0,s[E+1]=l?qy(M):Fp(M)),E=l?ds(M):Jo(M)}b&&(s[a+1]=l?Fp(p):qy(p))}function WT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ns(s,o)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b_(s){return s.substring(mr.key,mr.keyEnd)}function D_(s,o){const a=mr.textEnd;return a===o?-1:(o=mr.keyEnd=function YT(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,mr.key=o,a),Va(s,o,a))}function Va(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Cw(s,o,a){return qi(s,o,a,!1),Cw}function Aw(s,o){return qi(s,o,null,!0),Aw}function Sw(s){!function lr(s,o,a,l){const h=Pt(),p=Ws(2);h.firstUpdatePass&&Cc(h,null,p,l);const _=Te();if(a!==Jt&&ai(_,p,a)){const E=h.data[zn()];if(Nw(E,l)&&!T_(h,p)){let b=l?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(a=ye(b,a||"")),yh(h,E,_,a,l)}else!function nC(s,o,a,l,h,p,_,E){h===Jt&&(h=At);let b=0,T=0,M=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==M||null!==L;){const W=b<h.length?h[b+1]:void 0,ie=T<p.length?p[T+1]:void 0;let ze,Ce=null;M===L?(b+=2,T+=2,W!==ie&&(Ce=L,ze=ie)):null===L||null!==M&&M<L?(b+=2,Ce=M):(T+=2,Ce=L,ze=ie),null!==Ce&&xw(s,o,a,l,Ce,ze,_,E),M=b<h.length?h[b]:null,L=T<p.length?p[T]:null}}(h,E,_,_[11],_[p+1],_[p+1]=function Ac(s,o,a){if(null==a||""===a)return At;const l=[],h=ls(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(l,p,h[p]);else"string"==typeof h&&o(l,h);return l}(s,o,a),l,p)}}(ri,po,s,!0)}function po(s,o){for(let a=function Dw(s){return function wh(s){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=s.length}(s),D_(s,Va(s,0,mr.textEnd))}(o);a>=0;a=D_(o,a))ri(s,b_(o),!0)}function qi(s,o,a,l){const h=Te(),p=Pt(),_=Ws(2);p.firstUpdatePass&&Cc(p,s,_,l),o!==Jt&&ai(h,_,o)&&xw(p,p.data[zn()],h,h[11],s,h[_+1]=function rC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(ls(s)))),s}(o,a),l,_)}function T_(s,o){return o>=s.expandoStartIndex}function Cc(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[zn()],_=T_(s,a);Nw(p,l)&&null===o&&!_&&(o=!1),o=function eC(s,o,a,l){const h=ud(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=bh(a=C_(null,s,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=C_(h,s,o,a,l),null===p){let b=function tC(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Jo(l))return s[ds(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=C_(null,s,o,b[1],l),b=bh(b,o.attrs,l),function Mw(s,o,a,l){s[ds(a?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else p=function ug(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=bh(l,s[p].hostAttrs,a);return bh(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function ZT(s,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,E=ds(_),b=Jo(_);s[l]=a;let M,T=!1;if(Array.isArray(a)){const L=a;M=L[1],(null===M||Ns(L,M)>0)&&(T=!0)}else M=a;if(h)if(0!==b){const W=ds(s[E+1]);s[l+1]=kp(W,E),0!==W&&(s[W+1]=th(s[W+1],l)),s[E+1]=function yT(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=kp(E,0),0!==E&&(s[E+1]=th(s[E+1],l)),E=l;else s[l+1]=kp(b,0),0===E?E=l:s[b+1]=th(s[b+1],l),b=l;T&&(s[l+1]=Fp(s[l+1])),Iw(s,M,l,!0),Iw(s,M,l,!1),function Eh(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ns(p,o)>=0&&(a[l+1]=qy(a[l+1]))}(o,M,s,l,p),_=kp(E,b),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}function C_(s,o,a,l,h){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],l=bh(l,p.hostAttrs,h),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function bh(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ri(s,_,!!a||o[++p]))}return void 0===s?null:s}function xw(s,o,a,l,h,p,_,E){if(!(3&o.type))return;const b=s.data,T=b[E+1];Ua(function jE(s){return 1==(1&s)}(T)?Mc(b,o,a,h,Jo(T),_):void 0)||(Ua(p)||function BE(s){return 2==(2&s)}(T)&&(p=Mc(b,null,a,h,E,_)),function uo(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:oo.DashCase;null==h?s.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=oo.Important),s.setStyle(a,l,h,p))}}(l,_,Di(zn(),a),h,p))}function Mc(s,o,a,l,h,p){const _=null===o;let E;for(;h>0;){const b=s[h],T=Array.isArray(b),M=T?b[1]:b,L=null===M;let W=a[h+1];W===Jt&&(W=L?At:void 0);let ie=L?Td(W,l):M===l?W:void 0;if(T&&!Ua(ie)&&(ie=Td(b,l)),Ua(ie)&&(E=ie,_))return E;const Ce=s[h+1];h=_?ds(Ce):Jo(Ce)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Td(b,l))}return E}function Ua(s){return void 0!==s}function Nw(s,o){return 0!=(s.flags&(o?16:32))}function Rw(s,o=""){const a=Te(),l=Pt(),h=s+22,p=l.firstCreatePass?Ra(l,h,1,o,null):l.data[h],_=a[h]=function qd(s,o){return s.createText(o)}(a[11],o);ac(l,a,_,p),Cr(p,!1)}function lg(s,o,a){const l=Te(),h=function mh(s,o,a,l){return ai(s,uu(),a)?o+Ee(a)+l:Jt}(l,s,o,a);return h!==Jt&&function ks(s,o,a){const l=Di(o,s);!function Ap(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,zn(),h),lg}function P_(s,o,a){const l=Te();if(ai(l,uu(),o)){const p=Pt(),_=Zn();Ci(p,_,l,s,o,function LT(s,o,a){return(null===s||ti(s))&&(a=function Al(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(ud(p.data),_,l),a,!0)}return P_}const Yu=void 0;var yC=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fg(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Nc={};function O_(s){const o=function qw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Gw(o);if(a)return a;const l=o.split("-")[0];if(a=Gw(l),a)return a;if("en"===l)return yC;throw new Se(701,!1)}function Hw(s){return O_(s)[kt.PluralCase]}function Gw(s){return s in Nc||(Nc[s]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[s]),Nc[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const Qu="en-US";let Kw=Qu;function zt(s,o,a,l,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)zt(s[p],o,a,l,h);else{const p=Pt(),_=Te();let E=io(s)?s:Q(s.provide),b=H0(s);const T=On(),M=1048575&T.providerIndexes,L=T.directiveStart,W=T.providerIndexes>>20;if(io(s)||!s.multi){const ie=new Ti(b,h,cc),Ce=Ju(E,o,h?M:M+W,L);-1===Ce?(pu(Po(T,_),p,E),Oc(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(ie),_.push(ie)):(a[Ce]=ie,_[Ce]=ie)}else{const ie=Ju(E,o,M+W,L),Ce=Ju(E,o,M,M+W),ze=ie>=0&&a[ie],Ke=Ce>=0&&a[Ce];if(h&&!Ke||!h&&!ze){pu(Po(T,_),p,E);const lt=function jC(s,o,a,l,h){const p=new Ti(s,a,cc);return p.multi=[],p.index=o,p.componentProviders=0,Oh(p,h,l&&!a),p}(h?q_:BC,a.length,h,l,b);!h&&Ke&&(a[Ce].providerFactory=lt),Oc(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(lt),_.push(lt)}else Oc(p,s,ie>-1?ie:Ce,Oh(a[h?Ce:ie],b,!h&&l));!h&&l&&Ke&&a[Ce].componentProviders++}}}function Oc(s,o,a,l){const h=io(o),p=function TD(s){return!!s.useClass}(o);if(h||p){const b=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(b){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[l,b]):T[M+1].push(l,b)}else T.push(a,b)}}}function Oh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Ju(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function BC(s,o,a,l){return z_(this.multi,[])}function q_(s,o,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Ms(a,a[1],this.providerFactory.index,l);p=E.slice(0,_),z_(h,p);for(let b=_;b<E.length;b++)p.push(E[b])}else p=[],z_(h,p);return p}function z_(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function pI(s,o=[]){return a=>{a.providersResolver=(l,h)=>function G_(s,o,a){const l=Pt();if(l.firstCreatePass){const h=ti(s);zt(a,l.data,l.blueprint,h,!0),zt(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class yr{}class kh{}function Jr(s,o){return new gI(s,o??null)}class gI extends yr{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new i_(this);const l=ke(o);this._bootstrapComponents=Yo(l.bootstrap),this._r3Injector=xE(o,a,[{provide:yr,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Z_ extends kh{constructor(o){super(),this.moduleType=o}create(o){return new gI(this.moduleType,o)}}class mI extends yr{constructor(o,a,l){super(),this.componentFactoryResolver=new i_(this),this.instance=null;const h=new $0([...o,{provide:yr,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],a||wp(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Fh(s,o,a=null){return new mI(s,o,a).injector}let yI=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=B0(0,a.type),h=l.length>0?Fh([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=en({token:s,providedIn:"environment",factory:()=>new s(tr(Ko))}),s})();function Xr(s){s.getStandaloneInjector=o=>o.get(yI).getOrCreateStandaloneInjector(s)}function Hh(s){return o=>{setTimeout(s,void 0,o)}}const Us=class bI extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const b=o;h=b.next?.bind(b),p=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(p=Hh(p),h&&(h=Hh(h)),_&&(_=Hh(_)));const E=super.subscribe({next:h,error:p,complete:_});return o instanceof B.w0&&o.add(E),E}};function XC(){return this._results[ka()]()}class Gh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ka(),l=Gh.prototype;l[a]||(l[a]=XC)}get changes(){return this._changes||(this._changes=new Us)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=Kr(o);(this._changesDetected=!function Km(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let tl=(()=>{class s{}return s.__NG_ELEMENT_ID__=ei,s})();const uv=tl,Hr=class extends uv{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=oh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),WE(l,h,o),new mc(h)}};function ei(){return nl(On(),Te())}function nl(s,o){return 4&s.type?new Hr(o,s,rc(s,o)):null}let Fc=(()=>{class s{}return s.__NG_ELEMENT_ID__=eA,s})();function eA(){return dv(On(),Te())}const tA=Fc,lv=class extends tA{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new yu(this._hostTNode,this._hostLView)}get parentInjector(){const o=fu(this._hostTNode,this._hostLView);if(jm(o)){const a=Ks(o,this._hostLView),l=Ro(o);return new yu(a[1].data[l+8],a)}return new yu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=DI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,l,h,p){const _=o&&!function Wr(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const L=a||{};E=L.index,l=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const b=_?o:new yc(x(o)),T=l||this.parentInjector;if(!p&&null==b.ngModule){const W=(_?T:this.parentInjector).get(Ko,null);W&&(p=W)}const M=b.create(T,h,void 0,p);return this.insert(M.hostView,E),M}insert(o,a){const l=o._lView,h=l[1];if(function qf(s){return Nr(s[3])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=l[3],W=new lv(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function wx(s,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],Eu(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function JD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,l,_,p);const E=Fu(p,_),b=l[11],T=oc(b,_[7]);return null!==T&&function hE(s,o,a,l,h,p){l[0]=h,l[6]=o,uc(s,l,a,1,h,p)}(h,_[6],b,l,T,E),o.attachToViewContainerRef(),Eu(cv(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=DI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Mp(this._lContainer,a);l&&(Lo(cv(this._lContainer),a),pE(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Mp(this._lContainer,a);return l&&null!=Lo(cv(this._lContainer),a)?new mc(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function DI(s){return s[8]}function cv(s){return s[8]||(s[8]=[])}function dv(s,o){let a;const l=o[s.index];if(Nr(l))a=l;else{let h;if(8&s.type)h=jn(l);else{const p=o[11];h=p.createComment("");const _=Pr(s,o);Sa(p,oc(p,_),h,function Np(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=qp(l,o,h,s),zp(o,a)}return new lv(a,s,o)}class Ag{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ag(this.queryList)}setDirty(){this.queryList.setDirty()}}class fv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new fv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Yh(o,a).matches&&this.queries[a].setDirty()}}class qh{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class zh{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new zh(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Zh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,CI(a,p)),this.matchTNodeWithReadOption(o,a,mu(a,o,p,!1,!1))}else l===tl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,mu(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Ou||h===Fc||h===tl&&4&a.type)this.addMatch(a.index,-2);else{const p=mu(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function CI(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Wh(s,o,a,l){return-1===a?function rA(s,o){return 11&s.type?rc(s,o):4&s.type?nl(s,o):null}(o,s):-2===a?function AI(s,o,a){return a===Ou?rc(o,s):a===tl?nl(o,s):a===Fc?dv(o,s):void 0}(s,o,l):Ms(s,s[1],a,o)}function pv(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const T=_[b];E.push(T<0?null:Wh(o,p[T],_[b+1],a.metadata.read))}h.matches=E}return h.matches}function Sg(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=pv(s,o,h,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)l.push(_[E/2]);else{const T=p[E+1],M=o[-b];for(let L=10;L<M.length;L++){const W=M[L];W[17]===W[3]&&Sg(W[1],W,T,l)}if(null!==M[9]){const L=M[9];for(let W=0;W<L.length;W++){const ie=L[W];Sg(ie[1],ie,T,l)}}}}}return l}function Kh(s){const o=Te(),a=Pt(),l=ld();cd(l+1);const h=Yh(a,l);if(s.dirty&&function Is(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Sg(a,o,l,[]):pv(a,o,h,l);s.reset(p,Z0),s.notifyOnChanges()}return!0}return!1}function SI(s,o,a){const l=Pt();l.firstCreatePass&&($a(l,new qh(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),xI(l,Te(),o)}function MI(s,o,a,l){const h=Pt();if(h.firstCreatePass){const p=On();$a(h,new qh(o,a,l),p.index),function NI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}xI(h,Te(),a)}function rl(){return function iA(s,o){return s[19].queries[o].queryList}(Te(),ld())}function xI(s,o,a){const l=new Gh(4==(4&a));QE(s,o,l,l.destroy),null===o[19]&&(o[19]=new fv),o[19].queries.push(new Ag(l))}function $a(s,o,a){null===s.queries&&(s.queries=new zh),s.queries.track(new Zh(o,a))}function Yh(s,o){return s.queries.getByIndex(o)}function kg(...s){}const Iv=new Fn("Application Initializer");let jc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=kg,this.reject=kg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(p_(p))a.push(p);else if(mw(p)){const _=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(tr(Iv,8))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Fg=new Fn("AppId",{providedIn:"root",factory:function bv(){return`${af()}${af()}${af()}`}});function af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qI=new Fn("Platform Initializer"),gA=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zI=new Fn("appBootstrapListener"),uf=new Fn("AnimationModuleType");let Lg=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const lf=new Fn("LocaleId",{providedIn:"root",factory:()=>Du(lf,et.Optional|et.SkipSelf)||function Tv(){return typeof $localize<"u"&&$localize.locale||Qu}()}),cf=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let mA=(()=>{class s{compileModuleSync(a){return new Z_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Yo(ke(a).declarations).reduce((_,E)=>{const b=x(E);return b&&_.push(new yc(b)),_},[]);return new ZI(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const oa=(()=>Promise.resolve(0))();function Ug(s){typeof Zone>"u"?oa.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Si{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KI(){let s=mt.requestAnimationFrame,o=mt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jg(s){const o=()=>{!function Mv(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$g(s),s.isCheckStableRunning=!0,Bg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$g(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,E)=>{try{return hf(s),a.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),YI(s)}},onInvoke:(a,l,h,p,_,E,b)=>{try{return hf(s),a.invoke(h,p,_,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),YI(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,$g(s),Bg(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Si.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Si.isInAngularZone())throw new Se(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,df,kg,kg);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const df={};function Bg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $g(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function YI(s){s._nesting--,Bg(s)}class QI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const $c=new Fn(""),xv=new Fn("");let Gg,JI=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gg||(function Nv(s){Gg=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),Ug(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ug(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(tr(Si),tr(Hg),tr(xv))},s.\u0275prov=en({token:s,factory:s.\u0275fac}),s})(),Hg=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Gg?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Bs=null;const Rv=new Fn("AllowMultipleToken"),qg=new Fn("PlatformDestroyListeners");class tb{constructor(o,a){this.name=o,this.token=a}}function ll(s,o,a=[]){const l=`Platform: ${o}`,h=new Fn(l);return(p=[])=>{let _=Ov();if(!_||_.injector.get(Rv,!1)){const E=[...a,...p,{provide:h,useValue:!0}];s?s(E):function zg(s){if(Bs&&!Bs.get(Rv,!1))throw new Se(400,!1);Bs=s;const o=s.get(ib);(function Pv(s){const o=s.get(qI,null);o&&o.forEach(a=>a())})(s)}(function nb(s=[],o){return Vu.create({name:o,providers:[{provide:Bd,useValue:"platform"},{provide:qg,useValue:new Set([()=>Bs=null])},...s]})}(E,l))}return function EA(s){const o=Ov();if(!o)throw new Se(401,!1);return o}()}}function Ov(){return Bs?.get(ib)??null}let ib=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function sb(s,o){let a;return a="noop"===s?new QI:("zone.js"===s?void 0:s)||new Si(o),a}(l?.ngZone,function kv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:Si,useValue:h}];return h.run(()=>{const _=Vu.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(_),b=E.injector.get(ic,null);if(!b)throw new Se(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:M=>{b.handleError(M)}});E.onDestroy(()=>{_r(this._modules,E),T.unsubscribe()})}),function ff(s,o,a){try{const l=a();return p_(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,h,()=>{const T=E.injector.get(jc);return T.runInitializers(),T.donePromise.then(()=>(function Yw(s){Ot(s,"Expected localeId to be defined"),"string"==typeof s&&(Kw=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(lf,Qu)||Qu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const h=ob({},l);return function XI(s,o,a){const l=new Z_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(pf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Se(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(qg,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(tr(Vu))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ob(s,o){return Array.isArray(o)?o.reduce(ob,s):{...s,...o}}let pf=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new R.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),Ug(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ne.T)(p,_.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof gy;if(!this._injector.get(jc).done)throw!h&&me(a),new Se(405,false);let _;_=h?a:this._injector.get(nc).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function eb(s){return s.isBoundToModule}(_)?void 0:this._injector.get(yr),T=_.create(Vu.NULL,[],l||_.selector,E),M=T.location.nativeElement,L=T.injector.get($c,null);return L?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),_r(this.components,T),L?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;_r(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(zI,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>_r(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(tr(Si),tr(Ko),tr(ic))},s.\u0275prov=en({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _r(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Zg=!0,ab=!1;function Ge(){return ab=!0,Zg}function vr(){if(ab)throw new Error("Cannot enable prod mode after platform setup.");Zg=!1}let Ut=(()=>{class s{}return s.__NG_ELEMENT_ID__=wA,s})();function wA(s){return function it(s,o,a){if(Hs(s)&&!a){const l=mn(s.index,o);return new mc(l,l)}return 47&s.type?new mc(o[16],o):null}(On(),Te(),16==(16&s))}class nr{constructor(){}supports(o){return ph(o)}create(o){return new Jg(o)}}const nt=(s,o)=>o;class Jg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nt}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<gf(l,h,p)?a:l,E=gf(_,h,p),b=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const T=E-h,M=b-h;if(T!=M){for(let W=0;W<T;W++){const ie=W<p.length?p[W]:p[W]=0,Ce=ie+W;M<=Ce&&Ce<T&&(p[W]=ie+1)}p[_.previousIndex]=M-T}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!ph(o))throw new Se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),l=!0),a=a._next}else h=0,function eg(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[ka()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Vv(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new lb),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Vv{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hl{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class lb{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new hl,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gf(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class cb{constructor(){}supports(o){return o instanceof Map||u_(o)}create(){return new mf}}class mf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||u_(o)))throw new Se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new db(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class db{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uv(){return new wi([new nr])}let wi=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Uv()),deps:[[s,new eo,new Xs]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Se(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Uv}),s})();function Bv(){return new Xg([new cb])}let Xg=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Bv()),deps:[[s,new eo,new Xs]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Se(901,!1)}}return s.\u0275prov=en({token:s,providedIn:"root",factory:Bv}),s})();const js=ll(null,"core",[]);let AA=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(tr(pf))},s.\u0275mod=$({type:s}),s.\u0275inj=Ct({}),s})();function yf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ft,Ne,O)=>{"use strict";O.d(Ne,{Z:()=>Se});var c=O(2090),B=O(4859),R=O(9681),ne=O(1877);class ge{constructor(Ee,ce){this._delegate=Ee,this.firebase=ce,(0,R._addComponent)(Ee,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ee,ce=R._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(Ee);return!Ye.isInitialized()&&"EXPLICIT"===(null===(st=Ye.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:ce})}_removeServiceInstance(Ee,ce=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(ce)}_addComponent(Ee){(0,R._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,R._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function ye(){const Je=function pe(Je){const Ee={},ce={__esModule:!0,initializeApp:function Fe(te,ue={}){const we=R.initializeApp(te,ue);if((0,c.r3)(Ee,we.name))return Ee[we.name];const J=new Je(we,ce);return Ee[we.name]=J,J},app:Ye,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function De(te){const ue=te.name,we=ue.replace("-compat","");if(R._registerComponent(te)&&"PUBLIC"===te.type){const J=(X=Ye())=>{if("function"!=typeof X[we])throw le.create("invalid-app-argument",{appName:ue});return X[we]()};void 0!==te.serviceProps&&(0,c.ZB)(J,te.serviceProps),ce[we]=J,Je.prototype[we]=function(...X){return this._getService.bind(this,ue).apply(this,te.multipleInstances?X:[])}}return"PUBLIC"===te.type?ce[we]:null},removeApp:function st(te){delete Ee[te]},useAsService:function We(te,ue){return"serverAuth"===ue?null:ue},modularAPIs:R}};function Ye(te){if(!(0,c.r3)(Ee,te=te||R._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:te});return Ee[te]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Oe(){return Object.keys(Ee).map(te=>Ee[te])}}),Ye.App=Je,ce}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Ee(ce){(0,c.ZB)(Je,ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Je}(),G=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=q;!function Ae(Je){(0,R.registerVersion)("@firebase/app-compat","0.1.35",Je)}()},9681:(ft,Ne,O)=>{"use strict";O.r(Ne),O.d(Ne,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>cn,_addOrOverwriteComponent:()=>en,_apps:()=>rn,_clearComponents:()=>pi,_components:()=>Bn,_getProvider:()=>Ct,_registerComponent:()=>jt,_removeServiceInstance:()=>hn,deleteApp:()=>br,getApp:()=>Ln,getApps:()=>hr,initializeApp:()=>Hn,onLog:()=>Pn,registerVersion:()=>vn,setLogLevel:()=>dn});var c=O(5861),B=O(4859),R=O(1877),ne=O(2090),ge=O(8766);class ve{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function le(Xe){return"VERSION"===Xe.getComponent()?.type}(rt)){const gt=rt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",q=new R.Yd("@firebase/app"),Ot="[DEFAULT]",Ze={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Bn=new Map;function cn(Xe,xe){try{Xe.container.addComponent(xe)}catch(rt){q.debug(`Component ${xe.name} failed to register with FirebaseApp ${Xe.name}`,rt)}}function en(Xe,xe){Xe.container.addOrOverwriteComponent(xe)}function jt(Xe){const xe=Xe.name;if(Bn.has(xe))return q.debug(`There were multiple attempts to register component ${xe}.`),!1;Bn.set(xe,Xe);for(const rt of rn.values())cn(rt,Xe);return!0}function Ct(Xe,xe){const rt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Xe.container.getProvider(xe)}function hn(Xe,xe,rt=Ot){Ct(Xe,xe).clearInstance(rt)}function pi(){Bn.clear()}const Rn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(xe,rt,gt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Ir="9.11.0";function Hn(Xe,xe={}){let rt=Xe;"object"!=typeof xe&&(xe={name:xe});const gt=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},xe),bt=gt.name;if("string"!=typeof bt||!bt)throw Rn.create("bad-app-name",{appName:String(bt)});if(rt||(rt=(0,ne.aH)()),!rt)throw Rn.create("no-options");const $=rn.get(bt);if($){if((0,ne.vZ)(rt,$.options)&&(0,ne.vZ)(gt,$.config))return $;throw Rn.create("duplicate-app",{appName:bt})}const j=new B.H0(bt);for(const U of Bn.values())j.addComponent(U);const Y=new Wn(rt,gt,j);return rn.set(bt,Y),Y}function Ln(Xe=Ot){const xe=rn.get(Xe);if(!xe&&Xe===Ot)return Hn();if(!xe)throw Rn.create("no-app",{appName:Xe});return xe}function hr(){return Array.from(rn.values())}function br(Xe){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(Xe){const xe=Xe.name;rn.has(xe)&&(rn.delete(xe),yield Promise.all(Xe.container.getProviders().map(rt=>rt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function vn(Xe,xe,rt){var gt;let bt=null!==(gt=Ze[Xe])&&void 0!==gt?gt:Xe;rt&&(bt+=`-${rt}`);const $=bt.match(/\s|\//),j=xe.match(/\s|\//);if($||j){const Y=[`Unable to register library "${bt}" with version "${xe}":`];return $&&Y.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),$&&j&&Y.push("and"),j&&Y.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void q.warn(Y.join(" "))}jt(new B.wA(`${bt}-version`,()=>({library:bt,version:xe}),"VERSION"))}function Pn(Xe,xe){if(null!==Xe&&"function"!=typeof Xe)throw Rn.create("invalid-log-argument");(0,R.Am)(Xe,xe)}function dn(Xe){(0,R.Ub)(Xe)}const pn="firebase-heartbeat-store";let In=null;function on(){return In||(In=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,xe)=>{0===xe&&Xe.createObjectStore(pn)}}).catch(Xe=>{throw Rn.create("idb-open",{originalErrorMessage:Xe.message})})),In}function ut(){return(ut=(0,c.Z)(function*(Xe){var xe;try{return(yield on()).transaction(pn).objectStore(pn).get(fr(Xe))}catch(rt){if(rt instanceof ne.ZR)q.warn(rt.message);else{const gt=Rn.create("idb-get",{originalErrorMessage:null===(xe=rt)||void 0===xe?void 0:xe.message});q.warn(gt.message)}}})).apply(this,arguments)}function mt(Xe,xe){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(Xe,xe){var rt;try{const bt=(yield on()).transaction(pn,"readwrite");return yield bt.objectStore(pn).put(xe,fr(Xe)),bt.done}catch(gt){if(gt instanceof ne.ZR)q.warn(gt.message);else{const bt=Rn.create("idb-set",{originalErrorMessage:null===(rt=gt)||void 0===rt?void 0:rt.message});q.warn(bt.message)}}})).apply(this,arguments)}function fr(Xe){return`${Xe.name}!${Xe.options.appId}`}class sr{constructor(xe){this.container=xe,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Gt(rt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const gt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Rt();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==bt&&!xe._heartbeatsCache.heartbeats.some($=>$.date===bt))return xe._heartbeatsCache.heartbeats.push({date:bt,agent:gt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter($=>{const j=new Date($.date).valueOf();return Date.now()-j<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const rt=Rt(),{heartbeatsToSend:gt,unsentEntries:bt}=function or(Xe,xe=1024){const rt=[];let gt=Xe.slice();for(const bt of Xe){const $=rt.find(j=>j.agent===bt.agent);if($){if($.dates.push(bt.date),Gn(rt)>xe){$.dates.pop();break}}else if(rt.push({agent:bt.agent,dates:[bt.date]}),Gn(rt)>xe){rt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:gt}}(xe._heartbeatsCache.heartbeats),$=(0,ne.L)(JSON.stringify({version:2,heartbeats:gt}));return xe._heartbeatsCache.lastSentHeartbeatDate=rt,bt.length>0?(xe._heartbeatsCache.heartbeats=bt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),$})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function ct(Xe){return ut.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var rt=this;return(0,c.Z)(function*(){var gt;if(yield rt._canUseIndexedDBPromise){const $=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(gt=xe.lastSentHeartbeatDate)&&void 0!==gt?gt:$.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var rt=this;return(0,c.Z)(function*(){var gt;if(yield rt._canUseIndexedDBPromise){const $=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(gt=xe.lastSentHeartbeatDate)&&void 0!==gt?gt:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...xe.heartbeats]})}})()}}function Gn(Xe){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Tn(Xe){jt(new B.wA("platform-logger",xe=>new ve(xe),"PRIVATE")),jt(new B.wA("heartbeat",xe=>new sr(xe),"PRIVATE")),vn(pe,"0.8.0",Xe),vn(pe,"0.8.0","esm2017"),vn("fire-js","")}("")},4859:(ft,Ne,O)=>{"use strict";O.d(Ne,{H0:()=>pe,wA:()=>R});var c=O(5861),B=O(2090);class R{constructor(q,G,Q){this.name=q,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ne="[DEFAULT]";class ge{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const Q=new B.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:G});Pe&&Q.resolve(Pe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const Q=this.normalizeInstanceIdentifier(q?.identifier),Pe=null!==(G=q?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ae){if(Pe)return null;throw Ae}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function le(ye){return"EAGER"===ye.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(G);try{const Ae=this.getOrInitializeService({instanceIdentifier:Pe});Q.resolve(Ae)}catch{}}}}clearInstance(q=ne){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ne){return this.instances.has(q)}getOptions(q=ne){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,Q=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Ae,Se]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ae)&&Se.resolve(Pe);return Pe}onInit(q,G){var Q;const Pe=this.normalizeInstanceIdentifier(G),Ae=null!==(Q=this.onInitCallbacks.get(Pe))&&void 0!==Q?Q:new Set;Ae.add(q),this.onInitCallbacks.set(Pe,Ae);const Se=this.instances.get(Pe);return Se&&q(Se,Pe),()=>{Ae.delete(q)}}invokeOnInitCallbacks(q,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Pe of Q)try{Pe(q,G)}catch{}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let Q=this.instances.get(q);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=q,ye===ne?void 0:ye),options:G}),this.instances.set(q,Q),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(Q,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Q)}catch{}var ye;return Q||null}normalizeInstanceIdentifier(q=ne){return this.component?this.component.multipleInstances?q:ne:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new ge(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(ft,Ne,O)=>{"use strict";var c=O(5861),B=O(9681),R=O(4859),ne=O(2090),ge=O(8766);const ve="@firebase/installations",le="0.5.13",ye=`w:${le}`,q="FIS_v2",Je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(ee){return ee instanceof ne.ZR&&ee.code.includes("request-failed")}function ce({projectId:ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ee}/installations`}function st(ee){return{token:ee.token,requestStatus:2,expiresIn:ue(ee.expiresIn),creationTime:Date.now()}}function Ye(ee,Ie){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(ee,Ie){const dt=(yield Ie.json()).error;return Je.create("request-failed",{requestName:ee,serverCode:dt.code,serverMessage:dt.message,serverStatus:dt.status})})).apply(this,arguments)}function Oe({apiKey:ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ee})}function De(ee,{refreshToken:Ie}){const He=Oe(ee);return He.append("Authorization",function we(ee){return`${q} ${ee}`}(Ie)),He}function We(ee){return te.apply(this,arguments)}function te(){return(te=(0,c.Z)(function*(ee){const Ie=yield ee();return Ie.status>=500&&Ie.status<600?ee():Ie})).apply(this,arguments)}function ue(ee){return Number(ee.replace("s","000"))}function J(ee,Ie){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ie},{fid:He}){const dt=ce(ee),Kt=Oe(ee),un=Ie.getImmediate({optional:!0});if(un){const xr=yield un.getHeartbeatsHeader();xr&&Kt.append("x-firebase-client",xr)}const An={method:"POST",headers:Kt,body:JSON.stringify({fid:He,authVersion:q,appId:ee.appId,sdkVersion:ye})},Mr=yield We(()=>fetch(dt,An));if(Mr.ok){const xr=yield Mr.json();return{fid:xr.fid||He,registrationStatus:2,refreshToken:xr.refreshToken,authToken:st(xr.authToken)}}throw yield Ye("Create Installation",Mr)})).apply(this,arguments)}function he(ee){return new Promise(Ie=>{setTimeout(Ie,ee)})}const $e=/^[cdef][\w-]{21}$/;function pt(){try{const ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ee),ee[0]=112+ee[0]%16;const He=function Xt(ee){return function se(ee){return btoa(String.fromCharCode(...ee)).replace(/\+/g,"-").replace(/\//g,"_")}(ee).substr(0,22)}(ee);return $e.test(He)?He:""}catch{return""}}function Ot(ee){return`${ee.appName}!${ee.appId}`}const Ze=new Map;function rn(ee,Ie){const He=Ot(ee);en(He,Ie),function jt(ee,Ie){const He=function hn(){return!Ct&&"BroadcastChannel"in self&&(Ct=new BroadcastChannel("[Firebase] FID Change"),Ct.onmessage=ee=>{en(ee.data.key,ee.data.fid)}),Ct}();He&&He.postMessage({key:ee,fid:Ie}),function pi(){0===Ze.size&&Ct&&(Ct.close(),Ct=null)}()}(He,Ie)}function en(ee,Ie){const He=Ze.get(ee);if(He)for(const dt of He)dt(Ie)}let Ct=null;const Wn="firebase-installations-store";let Ir=null;function Hn(){return Ir||(Ir=(0,ge.X3)("firebase-installations-database",1,{upgrade:(ee,Ie)=>{0===Ie&&ee.createObjectStore(Wn)}})),Ir}function Ln(ee,Ie){return hr.apply(this,arguments)}function hr(){return(hr=(0,c.Z)(function*(ee,Ie){const He=Ot(ee),Kt=(yield Hn()).transaction(Wn,"readwrite"),un=Kt.objectStore(Wn),xn=yield un.get(He);return yield un.put(Ie,He),yield Kt.done,(!xn||xn.fid!==Ie.fid)&&rn(ee,Ie.fid),Ie})).apply(this,arguments)}function br(ee){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(ee){const Ie=Ot(ee),dt=(yield Hn()).transaction(Wn,"readwrite");yield dt.objectStore(Wn).delete(Ie),yield dt.done})).apply(this,arguments)}function vn(ee,Ie){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(ee,Ie){const He=Ot(ee),Kt=(yield Hn()).transaction(Wn,"readwrite"),un=Kt.objectStore(Wn),xn=yield un.get(He),An=Ie(xn);return void 0===An?yield un.delete(He):yield un.put(An,He),yield Kt.done,An&&(!xn||xn.fid!==An.fid)&&rn(ee,An.fid),An})).apply(this,arguments)}function dn(ee){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(ee){let Ie;const He=yield vn(ee.appConfig,dt=>{const Kt=Dr(dt),un=pn(ee,Kt);return Ie=un.registrationPromise,un.installationEntry});return""===He.fid?{installationEntry:yield Ie}:{installationEntry:He,registrationPromise:Ie}})).apply(this,arguments)}function Dr(ee){return fn(ee||{fid:pt(),registrationStatus:0})}function pn(ee,Ie){if(0===Ie.registrationStatus){if(!navigator.onLine)return{installationEntry:Ie,registrationPromise:Promise.reject(Je.create("app-offline"))};const He={fid:Ie.fid,registrationStatus:1,registrationTime:Date.now()},dt=function In(ee,Ie){return on.apply(this,arguments)}(ee,He);return{installationEntry:He,registrationPromise:dt}}return 1===Ie.registrationStatus?{installationEntry:Ie,registrationPromise:ct(ee)}:{installationEntry:Ie}}function on(){return(on=(0,c.Z)(function*(ee,Ie){try{const He=yield J(ee,Ie);return Ln(ee.appConfig,He)}catch(He){throw Ee(He)&&409===He.customData.serverCode?yield br(ee.appConfig):yield Ln(ee.appConfig,{fid:Ie.fid,registrationStatus:0}),He}})).apply(this,arguments)}function ct(ee){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(ee){let Ie=yield mt(ee.appConfig);for(;1===Ie.registrationStatus;)yield he(100),Ie=yield mt(ee.appConfig);if(0===Ie.registrationStatus){const{installationEntry:He,registrationPromise:dt}=yield dn(ee);return dt||He}return Ie})).apply(this,arguments)}function mt(ee){return vn(ee,Ie=>{if(!Ie)throw Je.create("installation-not-found");return fn(Ie)})}function fn(ee){return function fr(ee){return 1===ee.registrationStatus&&ee.registrationTime+1e4<Date.now()}(ee)?{fid:ee.fid,registrationStatus:0}:ee}function Yn(ee,Ie){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*({appConfig:ee,heartbeatServiceProvider:Ie},He){const dt=sr(ee,He),Kt=De(ee,He),un=Ie.getImmediate({optional:!0});if(un){const xr=yield un.getHeartbeatsHeader();xr&&Kt.append("x-firebase-client",xr)}const An={method:"POST",headers:Kt,body:JSON.stringify({installation:{sdkVersion:ye,appId:ee.appId}})},Mr=yield We(()=>fetch(dt,An));if(Mr.ok)return st(yield Mr.json());throw yield Ye("Generate Auth Token",Mr)})).apply(this,arguments)}function sr(ee,{fid:Ie}){return`${ce(ee)}/${Ie}/authTokens:generate`}function Rt(ee){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(ee,Ie=!1){let He;const dt=yield vn(ee.appConfig,un=>{if(!rt(un))throw Je.create("not-registered");const xn=un.authToken;if(!Ie&&gt(xn))return un;if(1===xn.requestStatus)return He=Gt(ee,Ie),un;{if(!navigator.onLine)throw Je.create("app-offline");const An=$(un);return He=Xe(ee,An),An}});return He?yield He:dt.authToken})).apply(this,arguments)}function Gt(ee,Ie){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(ee,Ie){let He=yield Tn(ee.appConfig);for(;1===He.authToken.requestStatus;)yield he(100),He=yield Tn(ee.appConfig);const dt=He.authToken;return 0===dt.requestStatus?Rt(ee,Ie):dt})).apply(this,arguments)}function Tn(ee){return vn(ee,Ie=>{if(!rt(Ie))throw Je.create("not-registered");return function j(ee){return 1===ee.requestStatus&&ee.requestTime+1e4<Date.now()}(Ie.authToken)?Object.assign(Object.assign({},Ie),{authToken:{requestStatus:0}}):Ie})}function Xe(ee,Ie){return xe.apply(this,arguments)}function xe(){return(xe=(0,c.Z)(function*(ee,Ie){try{const He=yield Yn(ee,Ie),dt=Object.assign(Object.assign({},Ie),{authToken:He});return yield Ln(ee.appConfig,dt),He}catch(He){if(!Ee(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const dt=Object.assign(Object.assign({},Ie),{authToken:{requestStatus:0}});yield Ln(ee.appConfig,dt)}else yield br(ee.appConfig);throw He}})).apply(this,arguments)}function rt(ee){return void 0!==ee&&2===ee.registrationStatus}function gt(ee){return 2===ee.requestStatus&&!function bt(ee){const Ie=Date.now();return Ie<ee.creationTime||ee.creationTime+ee.expiresIn<Ie+36e5}(ee)}function $(ee){const Ie={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ee),{authToken:Ie})}function U(){return(U=(0,c.Z)(function*(ee){const Ie=ee,{installationEntry:He,registrationPromise:dt}=yield dn(Ie);return dt?dt.catch(console.error):Rt(Ie).catch(console.error),He.fid})).apply(this,arguments)}function x(){return(x=(0,c.Z)(function*(ee,Ie=!1){const He=ee;return yield N(He),(yield Rt(He,Ie)).token})).apply(this,arguments)}function N(ee){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(ee){const{registrationPromise:Ie}=yield dn(ee);Ie&&(yield Ie)})).apply(this,arguments)}function qt(ee){return Je.create("missing-app-config-values",{valueName:ee})}const zr="installations",Ni=ee=>{const Ie=ee.getProvider("app").getImmediate(),He=function Mt(ee){if(!ee||!ee.options)throw qt("App Configuration");if(!ee.name)throw qt("App Name");const Ie=["projectId","apiKey","appId"];for(const He of Ie)if(!ee.options[He])throw qt(He);return{appName:ee.name,projectId:ee.options.projectId,apiKey:ee.options.apiKey,appId:ee.options.appId}}(Ie);return{app:Ie,appConfig:He,heartbeatServiceProvider:(0,B._getProvider)(Ie,"heartbeat"),_delete:()=>Promise.resolve()}},es=ee=>{const Ie=ee.getProvider("app").getImmediate(),He=(0,B._getProvider)(Ie,zr).getImmediate();return{getId:()=>function Y(ee){return U.apply(this,arguments)}(He),getToken:Kt=>function S(ee){return x.apply(this,arguments)}(He,Kt)}};(function _t(){(0,B._registerComponent)(new R.wA(zr,Ni,"PUBLIC")),(0,B._registerComponent)(new R.wA("installations-internal",es,"PRIVATE"))})(),(0,B.registerVersion)(ve,le),(0,B.registerVersion)(ve,le,"esm2017")},1877:(ft,Ne,O)=>{"use strict";O.d(Ne,{Am:()=>ye,Ub:()=>pe,Yd:()=>le,in:()=>B});const c=[];var B=(()=>{return(q=B||(B={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",B;var q})();const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,ge={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ve=(q,G,...Q)=>{if(G<q.logLevel)return;const Pe=(new Date).toISOString(),Ae=ge[G];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ae](`[${Pe}]  ${q.name}:`,...Q)};class le{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=ve,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function pe(q){c.forEach(G=>{G.setLogLevel(q)})}function ye(q,G){for(const Q of c){let Pe=null;G&&G.level&&(Pe=R[G.level]),Q.userLogHandler=null===q?null:(Ae,Se,...Je)=>{const Ee=Je.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");Se>=(Pe??Ae.logLevel)&&q({level:B[Se].toLowerCase(),message:Ee,args:Je,type:Ae.name})}}}},8766:(ft,Ne,O)=>{"use strict";O.d(Ne,{Lj:()=>Fe,X3:()=>Ye});var c=O(5861);let R,ne;const le=new WeakMap,pe=new WeakMap,ye=new WeakMap,q=new WeakMap,G=new WeakMap;let Ae={get(ue,we,J){if(ue instanceof IDBTransaction){if("done"===we)return pe.get(ue);if("objectStoreNames"===we)return ue.objectStoreNames||ye.get(ue);if("store"===we)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ce(ue[we])},set:(ue,we,J)=>(ue[we]=J,!0),has:(ue,we)=>ue instanceof IDBTransaction&&("done"===we||"store"===we)||we in ue};function Ee(ue){return"function"==typeof ue?function Je(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...we){return ue.apply(st(this),we),ce(le.get(this))}:function(...we){return ce(ue.apply(st(this),we))}:function(we,...J){const X=ue.call(st(this),we,...J);return ye.set(X,we.sort?we.sort():[we]),ce(X)}}(ue):(ue instanceof IDBTransaction&&function Pe(ue){if(pe.has(ue))return;const we=new Promise((J,X)=>{const he=()=>{ue.removeEventListener("complete",se),ue.removeEventListener("error",$e),ue.removeEventListener("abort",$e)},se=()=>{J(),he()},$e=()=>{X(ue.error||new DOMException("AbortError","AbortError")),he()};ue.addEventListener("complete",se),ue.addEventListener("error",$e),ue.addEventListener("abort",$e)});pe.set(ue,we)}(ue),((ue,we)=>we.some(J=>ue instanceof J))(ue,function ge(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ae):ue)}function ce(ue){if(ue instanceof IDBRequest)return function Q(ue){const we=new Promise((J,X)=>{const he=()=>{ue.removeEventListener("success",se),ue.removeEventListener("error",$e)},se=()=>{J(ce(ue.result)),he()},$e=()=>{X(ue.error),he()};ue.addEventListener("success",se),ue.addEventListener("error",$e)});return we.then(J=>{J instanceof IDBCursor&&le.set(J,ue)}).catch(()=>{}),G.set(we,ue),we}(ue);if(q.has(ue))return q.get(ue);const we=Ee(ue);return we!==ue&&(q.set(ue,we),G.set(we,ue)),we}const st=ue=>G.get(ue);function Ye(ue,we,{blocked:J,upgrade:X,blocking:he,terminated:se}={}){const $e=indexedDB.open(ue,we),Ve=ce($e);return X&&$e.addEventListener("upgradeneeded",pt=>{X(ce($e.result),pt.oldVersion,pt.newVersion,ce($e.transaction))}),J&&$e.addEventListener("blocked",()=>J()),Ve.then(pt=>{se&&pt.addEventListener("close",()=>se()),he&&pt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ve}function Fe(ue,{blocked:we}={}){const J=indexedDB.deleteDatabase(ue);return we&&J.addEventListener("blocked",()=>we()),ce(J).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],We=new Map;function te(ue,we){if(!(ue instanceof IDBDatabase)||we in ue||"string"!=typeof we)return;if(We.get(we))return We.get(we);const J=we.replace(/FromIndex$/,""),X=we!==J,he=De.includes(J);if(!(J in(X?IDBIndex:IDBObjectStore).prototype)||!he&&!Oe.includes(J))return;const se=function(){var $e=(0,c.Z)(function*(Ve,...pt){const Xt=this.transaction(Ve,he?"readwrite":"readonly");let Ot=Xt.store;return X&&(Ot=Ot.index(pt.shift())),(yield Promise.all([Ot[J](...pt),he&&Xt.done]))[0]});return function(pt){return $e.apply(this,arguments)}}();return We.set(we,se),se}!function Se(ue){Ae=ue(Ae)}(ue=>({...ue,get:(we,J,X)=>te(we,J)||ue.get(we,J,X),has:(we,J)=>!!te(we,J)||ue.has(we,J)}))},5861:(ft,Ne,O)=>{"use strict";function c(R,ne,ge,ve,le,pe,ye){try{var q=R[pe](ye),G=q.value}catch(Q){return void ge(Q)}q.done?ne(G):Promise.resolve(G).then(ve,le)}function B(R){return function(){var ne=this,ge=arguments;return new Promise(function(ve,le){var pe=R.apply(ne,ge);function ye(G){c(pe,ve,le,ye,q,"next",G)}function q(G){c(pe,ve,le,ye,q,"throw",G)}ye(void 0)})}}O.d(Ne,{Z:()=>B})}},ft=>{ft(ft.s=3617)}]);